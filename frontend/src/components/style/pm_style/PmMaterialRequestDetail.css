/* PM Material Request Detail Overrides */
.pm-request-detail {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

.pm-request-detail .page-container { max-width: 1320px; margin: 0 auto; padding: 1.5rem 1.25rem 3rem; }

.pm-request-detail .material-request-detail { display:flex; flex-direction:column; gap:2rem; }

/* Status badge refinement */
.pm-request-detail .status-section { display:flex; justify-content:flex-start; margin-bottom:.5rem; }
.pm-request-detail .status-badge { display:inline-flex; align-items:center; gap:.5rem; font-weight:600; padding:.6rem 1.1rem; border-radius:999px; font-size:.8rem; letter-spacing:.5px; box-shadow:0 4px 18px -4px rgba(0,0,0,.15); text-transform:uppercase; }
.pm-request-detail .status-badge i { font-size:.55rem; }

/* Grid layout */
.pm-request-detail .detail-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(340px,1fr)); gap:1.5rem; align-items:start; }
.pm-request-detail .detail-column { display:flex; flex-direction:column; gap:1.5rem; }

/* Cards */
.pm-request-detail .detail-card { background:#ffffff; border:1px solid #e2e8f0; border-radius:18px; box-shadow:0 4px 18px -4px rgba(0,0,0,.08); transition:box-shadow .25s, transform .25s; position:relative; overflow:hidden; }
.pm-request-detail .detail-card:hover { box-shadow:0 10px 34px -8px rgba(30,58,138,.25); transform:translateY(-4px); }
.pm-request-detail .detail-card.full-width { grid-column:1 / -1; }

.pm-request-detail .detail-card .card-header { padding:1rem 1.25rem .75rem; border-bottom:1px solid #f1f5f9; background:linear-gradient(90deg,#1e3a8a 0%,#1d4ed8 70%); color:#fff; }
.pm-request-detail .detail-card.full-width .card-header { border-top-left-radius:18px; border-top-right-radius:18px; }
.pm-request-detail .detail-card .card-header h3 { margin:0; font-size:1rem; font-weight:600; display:flex; align-items:center; gap:.6rem; }
.pm-request-detail .detail-card .card-header i { font-size:.9rem; }
.pm-request-detail .detail-card .card-content { padding:1rem 1.25rem 1.25rem; }

/* Info rows */
.pm-request-detail .info-row { display:flex; gap:.75rem; padding:.55rem 0; border-bottom:1px solid #f1f5f9; font-size:.85rem; }
.pm-request-detail .info-row:last-child { border-bottom:none; }
.pm-request-detail .info-label { font-weight:600; color:#334155; min-width:140px; }
.pm-request-detail .info-value { flex:1; color:#1e293b; display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
.pm-request-detail .description-text { line-height:1.5; color:#475569; }

/* Copy button */
.pm-request-detail .inline-copy-btn { background:#f1f5f9; border:1px solid #e2e8f0; padding:.3rem .5rem; border-radius:6px; cursor:pointer; display:inline-flex; align-items:center; gap:.35rem; font-size:.7rem; color:#475569; transition:all .2s; }
.pm-request-detail .inline-copy-btn:hover { background:#e2e8f0; color:#1e293b; }

/* Priority badge adaptation */
.pm-request-detail .priority-badge { padding:.35rem .75rem; border-radius:50px; font-size:.65rem; font-weight:700; letter-spacing:.5px; background:#e2e8f0; color:#334155; text-transform:uppercase; }
.pm-request-detail .priority-high { background:#fee2e2; color:#b91c1c; }
.pm-request-detail .priority-medium { background:#fef3c7; color:#92400e; }
.pm-request-detail .priority-low { background:#dcfce7; color:#166534; }

/* Materials list */
.pm-request-detail .materials-list { display:flex; flex-direction:column; gap:.85rem; }
.pm-request-detail .material-item { background:#f8fafc; border:1px solid #e2e8f0; padding:.85rem .9rem; border-radius:12px; display:flex; flex-direction:column; gap:.4rem; position:relative; }
.pm-request-detail .material-item:before { content:""; position:absolute; inset:0; border-radius:12px; background:linear-gradient(120deg,rgba(29,78,216,.08),rgba(59,130,246,.08)); opacity:0; transition:opacity .25s; }
.pm-request-detail .material-item:hover:before { opacity:1; }
.pm-request-detail .material-info { display:flex; justify-content:space-between; align-items:center; gap:.75rem; flex-wrap:wrap; }
.pm-request-detail .material-name { font-weight:600; color:#1e293b; font-size:.85rem; }
.pm-request-detail .material-quantity { background:#1d4ed8; color:#fff; font-weight:600; font-size:.65rem; letter-spacing:.5px; padding:.35rem .6rem; border-radius:999px; }
.pm-request-detail .material-specs { font-size:.7rem; color:#475569; display:flex; gap:.4rem; }
.pm-request-detail .specs-label { font-weight:600; color:#334155; }

/* Attachments */
.pm-request-detail .attachments-list { display:flex; flex-direction:column; gap:.75rem; }
.pm-request-detail .attachment-item { display:flex; align-items:center; gap:.85rem; padding:.75rem .85rem; background:#f8fafc; border:1px solid #e2e8f0; border-radius:12px; transition:all .25s; position:relative; overflow:hidden; }
.pm-request-detail .attachment-item:before { content:""; position:absolute; inset:0; background:linear-gradient(100deg,rgba(30,58,138,.08),rgba(29,78,216,.08)); opacity:0; transition:opacity .3s; }
.pm-request-detail .attachment-item:hover { transform:translateY(-2px); box-shadow:0 6px 18px -6px rgba(30,58,138,.25); }
.pm-request-detail .attachment-item:hover:before { opacity:1; }
.pm-request-detail .attachment-icon { width:42px; height:42px; display:flex; align-items:center; justify-content:center; border-radius:10px; background:linear-gradient(135deg,#1d4ed8,#1e3a8a); color:#fff; flex-shrink:0; }
.pm-request-detail .attachment-name { font-weight:500; font-size:.8rem; color:#1e293b; word-break:break-all; }
.pm-request-detail .attachment-info { flex:1; display:flex; justify-content:space-between; align-items:center; gap:.5rem; flex-wrap:wrap; }
.pm-request-detail .attachment-link { background:#1d4ed8; color:#fff; text-decoration:none; font-size:.65rem; font-weight:600; letter-spacing:.5px; padding:.45rem .75rem; border-radius:6px; display:inline-flex; align-items:center; gap:.4rem; transition:background .25s, transform .25s; }
.pm-request-detail .attachment-link:hover { background:#1e40af; transform:translateY(-2px); }

/* Timeline */
.pm-request-detail .approval-timeline { position:relative; display:flex; flex-direction:column; gap:1.25rem; }
.pm-request-detail .timeline-item { display:flex; gap:1rem; position:relative; padding-left:2.2rem; }
.pm-request-detail .timeline-item:before { content:""; position:absolute; left:1rem; top:0.75rem; bottom:-1.25rem; width:2px; background:linear-gradient(to bottom,#e2e8f0,#cbd5e1); }
.pm-request-detail .timeline-item:last-child:before { bottom:0; }
.pm-request-detail .timeline-marker { position:absolute; left:0; top:.25rem; width:2rem; height:2rem; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:.85rem; color:#fff; font-weight:600; box-shadow:0 4px 14px -4px rgba(0,0,0,.4); }
.pm-request-detail .timeline-marker.completed { background:linear-gradient(135deg,#10b981,#059669); }
.pm-request-detail .timeline-marker.pending { background:linear-gradient(135deg,#f59e0b,#d97706); }
.pm-request-detail .timeline-marker.denied { background:linear-gradient(135deg,#ef4444,#dc2626); }
.pm-request-detail .timeline-content { background:#f8fafc; padding:.85rem 1rem; border-radius:14px; border:1px solid #e2e8f0; flex:1; box-shadow:0 2px 8px -2px rgba(0,0,0,.06); }
.pm-request-detail .timeline-content h4 { margin:.25rem 0 .4rem; font-size:.85rem; font-weight:700; color:#1e293b; letter-spacing:.3px; }
.pm-request-detail .timeline-content p { margin:.2rem 0 .4rem; font-size:.7rem; color:#475569; }
.pm-request-detail .timeline-date { font-size:.6rem; font-weight:600; letter-spacing:.5px; color:#64748b; }

/* Approval actions card tweak */
.pm-request-detail #approval-actions-heading + .card-content { background:linear-gradient(180deg,#f8fafc,#f1f5f9); border-bottom-left-radius:18px; border-bottom-right-radius:18px; }

/* Empty/No data */
.pm-request-detail .no-data { text-align:center; font-size:.7rem; color:#94a3b8; font-style:italic; padding:.25rem 0; }

/* Loading & error within scoped layout */
.pm-request-detail .loading-container, .pm-request-detail .error-container { min-height:40vh; display:flex; flex-direction:column; justify-content:center; align-items:center; gap:1rem; }
.pm-request-detail .loading-spinner { width:48px; height:48px; border:4px solid #e2e8f0; border-top-color:#1d4ed8; border-radius:50%; animation:pmSpin 1s linear infinite; }
@keyframes pmSpin { to { transform:rotate(360deg); } }

/* Buttons */
.pm-request-detail .btn-secondary { background:#1e40af; color:#fff; border:none; padding:.65rem 1.1rem; border-radius:10px; font-size:.75rem; font-weight:600; display:inline-flex; align-items:center; gap:.5rem; cursor:pointer; letter-spacing:.3px; box-shadow:0 4px 14px -4px rgba(30,58,138,.4); transition:background .25s, transform .25s; }
.pm-request-detail .btn-secondary:hover { background:#1d4ed8; transform:translateY(-2px); }
.pm-request-detail .back-button { background:#e2e8f0; color:#1e293b; border:1px solid #cbd5e1; padding:.55rem 1rem; border-radius:8px; font-size:.7rem; font-weight:600; cursor:pointer; transition:all .2s; }
.pm-request-detail .back-button:hover { background:#cbd5e1; }

/* Profile dropdown overrides (inherit base if present) */
.pm-request-detail .profile-dropdown .profile-menu { border-radius:14px; border:1px solid #e2e8f0; box-shadow:0 10px 38px -8px rgba(0,0,0,.25); }
.pm-request-detail .profile-dropdown .profile-action { background:transparent; border:none; width:100%; text-align:left; padding:.6rem .85rem; font-size:.75rem; display:flex; align-items:center; gap:.55rem; cursor:pointer; color:#475569; border-radius:8px; transition:background .2s, color .2s; }
.pm-request-detail .profile-dropdown .profile-action:hover { background:#f1f5f9; color:#1e293b; }
.pm-request-detail .profile-dropdown .profile-action.logout { color:#dc2626; }
.pm-request-detail .profile-dropdown .profile-action.logout:hover { background:#fee2e2; color:#b91c1c; }

/* Responsive tweaks */
@media (max-width: 860px) {
  .pm-request-detail .detail-grid { grid-template-columns:1fr; }
  .pm-request-detail .detail-card.full-width { order:99; }
  .pm-request-detail .status-section { justify-content:center; }
}

@media (max-width: 520px) {
  .pm-request-detail .info-row { flex-direction:column; align-items:flex-start; }
  .pm-request-detail .info-label { min-width:unset; }
  .pm-request-detail .page-container { padding:1rem .9rem 2.75rem; }
  .pm-request-detail .detail-card .card-header { padding:.85rem 1rem .6rem; }
  .pm-request-detail .detail-card .card-content { padding:.9rem 1rem 1.1rem; }
  .pm-request-detail .attachment-info { flex-direction:column; align-items:flex-start; }
  .pm-request-detail .attachment-link { font-size:.6rem; }
  .pm-request-detail .btn-secondary { width:100%; justify-content:center; }
}

/* ===================== NEW REDESIGN (mrd-*) ===================== */
.mrd { --mrd-bg:#f5f7fb; --mrd-card:#ffffff; --mrd-border:#e2e8f0; --mrd-text:#1e293b; --mrd-muted:#64748b; --mrd-accent:#2563eb; --mrd-accent-grad:linear-gradient(135deg,#1d4ed8,#2563eb); --mrd-radius:18px; --mrd-shadow:0 4px 22px -6px rgba(30,41,59,.15); --mrd-shadow-hover:0 10px 38px -8px rgba(30,41,59,.28); }
.mrd { max-width:1280px; margin:0 auto; padding:2rem 1.4rem 4rem; display:flex; flex-direction:column; gap:2.4rem; font-family:'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif; }

/* Summary */
.mrd-summary { background:var(--mrd-card); border:1px solid var(--mrd-border); border-radius:var(--mrd-radius); padding:1.5rem 1.75rem; display:flex; justify-content:space-between; gap:2rem; position:relative; overflow:hidden; box-shadow:var(--mrd-shadow); }
.mrd-summary:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 85% 15%,rgba(37,99,235,.18),transparent 60%), linear-gradient(120deg,rgba(29,78,216,.12),transparent); pointer-events:none; }
.mrd-summary-main { flex:1; min-width:0; display:flex; flex-direction:column; gap:.75rem; }
.mrd-id-line { display:flex; align-items:center; gap:.6rem; font-size:.7rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color:var(--mrd-muted); }
.mrd-copy { background:#eef2f7; border:1px solid var(--mrd-border); padding:.25rem .45rem; border-radius:6px; cursor:pointer; font-size:.65rem; display:inline-flex; align-items:center; gap:.25rem; transition:.25s; }
.mrd-copy:hover { background:#e1e8f0; }
.mrd-title { margin:0; font-size:1.35rem; line-height:1.25; font-weight:700; letter-spacing:.5px; color:var(--mrd-text); }
.mrd-desc { margin:.15rem 0 0; font-size:.85rem; line-height:1.5; color:var(--mrd-muted); max-width:70ch; }
.mrd-meta-row { display:flex; flex-wrap:wrap; gap:.9rem 1.4rem; margin-top:.75rem; }
.mrd-meta { font-size:.65rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color:var(--mrd-muted); background:#f1f5f9; padding:.4rem .7rem; border-radius:999px; }
.mrd-summary-side { display:flex; flex-direction:column; align-items:flex-end; gap:.65rem; }
.mrd-status-badge { font-size:.65rem; letter-spacing:.5px; font-weight:700; padding:.55rem .9rem; border-radius:999px; text-transform:uppercase; display:inline-flex; align-items:center; gap:.45rem; background:#e2e8f0; color:#334155; box-shadow:0 4px 14px -4px rgba(0,0,0,.2); }
.mrd-status-badge.status-approved { background:#dcfce7; color:#166534; }
.mrd-status-badge.status-pending { background:#fef3c7; color:#92400e; }
.mrd-status-badge.status-rejected { background:#fee2e2; color:#b91c1c; }
.mrd-status-badge.status-completed { background:#e0f2fe; color:#075985; }
.mrd-chip { font-size:.6rem; font-weight:700; letter-spacing:.6px; text-transform:uppercase; padding:.45rem .75rem; border-radius:8px; background:#f1f5f9; color:#334155; border:1px solid #e2e8f0; display:inline-flex; align-items:center; gap:.4rem; }
.mrd-chip.priority-high { background:#fee2e2; color:#991b1b; border-color:#fecaca; }
.mrd-chip.priority-medium { background:#fef3c7; color:#92400e; border-color:#fde68a; }
.mrd-chip.priority-low { background:#dcfce7; color:#166534; border-color:#bbf7d0; }

/* Grid & Sections */
.mrd-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:1.75rem; }
.mrd-section { background:var(--mrd-card); border:1px solid var(--mrd-border); border-radius:16px; padding:1.15rem 1.25rem 1.3rem; position:relative; display:flex; flex-direction:column; gap:1rem; box-shadow:var(--mrd-shadow); transition:box-shadow .3s, transform .3s; }
.mrd-section:hover { box-shadow:var(--mrd-shadow-hover); transform:translateY(-3px); }
.mrd-section-title { margin:0; font-size:.85rem; font-weight:700; letter-spacing:.5px; text-transform:uppercase; display:flex; align-items:center; gap:.55rem; color:var(--mrd-text); }
.mrd-section-title i { font-size:.9rem; color:var(--mrd-accent); }

/* Definition fields */
.mrd-fields { margin:0; padding:0; display:flex; flex-direction:column; gap:.6rem; }
.mrd-field { display:flex; gap:.75rem; font-size:.75rem; padding:.45rem .55rem; background:#f8fafc; border:1px solid var(--mrd-border); border-radius:10px; align-items:center; }
.mrd-field dt { font-weight:600; color:#334155; min-width:110px; }
.mrd-field dd { margin:0; flex:1; color:var(--mrd-text); }

/* Materials */
.mrd-material-list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.85rem; }
.mrd-material-item { position:relative; background:#f8fafc; border:1px solid var(--mrd-border); border-radius:14px; padding:.9rem .95rem .85rem; display:flex; flex-direction:column; gap:.45rem; overflow:hidden; }
.mrd-material-item:before { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(37,99,235,.1),rgba(59,130,246,.05)); opacity:0; transition:.35s; }
.mrd-material-item:hover:before { opacity:1; }
.mrd-material-head { display:flex; justify-content:space-between; align-items:center; gap:.8rem; flex-wrap:wrap; }
.mrd-material-name { font-weight:600; color:var(--mrd-text); font-size:.83rem; }
.mrd-qty { background:var(--mrd-accent-grad); color:#fff; font-size:.6rem; font-weight:700; padding:.4rem .65rem; border-radius:999px; letter-spacing:.5px; }
.mrd-spec { font-size:.68rem; color:var(--mrd-muted); line-height:1.4; }
.mrd-empty { font-size:.7rem; color:#94a3b8; font-style:italic; }

/* Attachments */
.mrd-attach-list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.8rem; }
.mrd-attach-item { display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:.85rem; background:#f8fafc; border:1px solid var(--mrd-border); padding:.75rem .85rem; border-radius:14px; position:relative; overflow:hidden; }
.mrd-attach-item:before { content:""; position:absolute; inset:0; background:linear-gradient(110deg,rgba(29,78,216,.12),rgba(37,99,235,.05)); opacity:0; transition:.35s; }
.mrd-attach-item:hover:before { opacity:1; }
.mrd-attach-icon { width:44px; height:44px; border-radius:12px; background:var(--mrd-accent-grad); color:#fff; display:flex; align-items:center; justify-content:center; font-size:1rem; box-shadow:0 4px 12px -4px rgba(29,78,216,.5); }
.mrd-attach-name { font-size:.72rem; font-weight:500; color:var(--mrd-text); word-break:break-word; }
.mrd-attach-link { background:var(--mrd-accent-grad); color:#fff; text-decoration:none; font-size:.6rem; font-weight:600; letter-spacing:.6px; padding:.5rem .85rem; border-radius:8px; display:inline-flex; align-items:center; gap:.4rem; position:relative; z-index:1; transition:.25s; }
.mrd-attach-link:hover { filter:brightness(1.08); transform:translateY(-2px); }

/* Flow */
.mrd-flow { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:1.25rem; position:relative; }
.mrd-flow:before { content:""; position:absolute; left:16px; top:14px; bottom:14px; width:2px; background:linear-gradient(to bottom,#cbd5e1,#e2e8f0); }
.mrd-flow-step { display:flex; gap:.9rem; align-items:flex-start; position:relative; padding-left:1.25rem; }
.mrd-flow-step .mrd-step-icon { width:32px; height:32px; border-radius:10px; background:#94a3b8; color:#fff; display:flex; align-items:center; justify-content:center; font-size:.85rem; font-weight:600; box-shadow:0 4px 12px -4px rgba(0,0,0,.35); position:relative; z-index:2; }
.mrd-flow-step.completed .mrd-step-icon { background:linear-gradient(135deg,#10b981,#059669); }
.mrd-flow-step.pending .mrd-step-icon { background:linear-gradient(135deg,#f59e0b,#d97706); }
.mrd-flow-step.denied .mrd-step-icon { background:linear-gradient(135deg,#ef4444,#dc2626); }
.mrd-step-body { background:#f8fafc; border:1px solid var(--mrd-border); border-radius:14px; padding:.75rem .95rem .7rem; min-width:0; flex:1; box-shadow:0 2px 10px -4px rgba(0,0,0,.08); }
.mrd-step-title { display:block; font-size:.78rem; font-weight:700; letter-spacing:.4px; color:var(--mrd-text); margin:0 0 .25rem; }
.mrd-step-meta { display:block; font-size:.62rem; letter-spacing:.5px; font-weight:600; color:var(--mrd-muted); }

/* Actions */
.mrd-actions { border:1px dashed var(--mrd-border); background:linear-gradient(180deg,#ffffff,#f8fafc); }
.mrd-actions .mrd-section-title i { color:#334155; }

/* Interactive focus */
.mrd button:focus-visible, .mrd a:focus-visible { outline:2px solid var(--mrd-accent); outline-offset:2px; }

/* Scroll refinement */
.mrd-material-list, .mrd-attach-list { scrollbar-width:thin; scrollbar-color:#94a3b8 #e2e8f0; }
.mrd-material-list::-webkit-scrollbar, .mrd-attach-list::-webkit-scrollbar { width:8px; }
.mrd-material-list::-webkit-scrollbar-track, .mrd-attach-list::-webkit-scrollbar-track { background:#e2e8f0; border-radius:8px; }
.mrd-material-list::-webkit-scrollbar-thumb, .mrd-attach-list::-webkit-scrollbar-thumb { background:#94a3b8; border-radius:8px; }
.mrd-material-list::-webkit-scrollbar-thumb:hover, .mrd-attach-list::-webkit-scrollbar-thumb:hover { background:#64748b; }

/* Dark mode */
@media (prefers-color-scheme: dark) {
  .mrd { --mrd-bg:#0f172a; --mrd-card:#1e293b; --mrd-border:#334155; --mrd-text:#f1f5f9; --mrd-muted:#94a3b8; --mrd-shadow:0 4px 30px -10px rgba(0,0,0,.65); --mrd-shadow-hover:0 12px 44px -14px rgba(0,0,0,.85); }
  .mrd-summary, .mrd-section, .mrd-field, .mrd-material-item, .mrd-attach-item, .mrd-step-body { background:var(--mrd-card); }
  .mrd-desc, .mrd-spec { color:var(--mrd-muted); }
  .mrd-field { background:#0f172a; }
  .mrd-material-item { background:#0f172a; }
  .mrd-attach-item { background:#0f172a; }
  .mrd-step-body { background:#0f172a; }
  .mrd-meta { background:#1e293b; color:#cbd5e1; }
  .mrd-status-badge { box-shadow:none; }
  .mrd-section:hover { transform:translateY(-3px); }
}

/* Responsive */
@media (max-width: 920px) { .mrd-summary { flex-direction:column; align-items:flex-start; } .mrd-summary-side { flex-direction:row; align-items:center; flex-wrap:wrap; } }
@media (max-width: 620px) { .mrd { padding:1.5rem 1rem 3.5rem; } .mrd-grid { grid-template-columns:1fr; } .mrd-summary { padding:1.25rem 1.1rem; } .mrd-title { font-size:1.15rem; } }
