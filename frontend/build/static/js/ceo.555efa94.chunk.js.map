{"version":3,"file":"static/js/ceo.555efa94.chunk.js","mappings":"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","sources":["components/ceo/CeoMaterialRequestEdit.js","components/ceo/CeoAuditLogs.js","utils/manpowerRequestsPdf.js","components/ceo/CeoProj.js","components/ceo/CeoAddArea.js","../node_modules/recharts/es6/chart/BarChart.js","components/ceo/CeoMatRequestListWrapper.js","components/ceo/CeoManpowerRequestList.js","components/ceo/CeoManpowerRequestDetail.js","components/ceo/CeoViewProject.js","components/ceo/CeoMaterialRequestDetail.js","components/chats/CeoChat.js","components/ceo/CeoDash.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport api from '../../api/axiosInstance';\r\nimport AppHeader from '../layout/AppHeader';\r\nimport '../style/ceo_style/CeoMaterialRequestDetail.css';\r\nimport { FaPlus, FaTrash, FaSave, FaPaperclip, FaDownload } from 'react-icons/fa';\r\n\r\nconst CeoMaterialRequestEdit = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [materialRequest, setMaterialRequest] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [saving, setSaving] = useState(false);\r\n  // Header/profile removed (AppHeader used)\r\n  \r\n  const [user, setUser] = useState(() => {\r\n    const stored = localStorage.getItem('user');\r\n    return stored ? JSON.parse(stored) : null;\r\n  });\r\n\r\n  // Editable form state\r\n  const [formData, setFormData] = useState({ description: '', materials: [], attachments: [] });\r\n  const [newFiles, setNewFiles] = useState([]);\r\n  const [previewURLs, setPreviewURLs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch the material request data\r\n    api.get(`/requests/${id}`)\r\n      .then(res => {\r\n        console.log('Material Request Data for Edit:', res.data);\r\n        const data = res.data;\r\n        setMaterialRequest(data);\r\n        \r\n        // Initialize form data\r\n        setFormData({\r\n          description: data.description || '',\r\n          materials: (data.materials || []).map((m, idx) => ({\r\n            id: idx + 1,\r\n            materialName: m.materialName || '',\r\n            quantity: m.quantity || '',\r\n            unit: m.unit || ''\r\n          })),\r\n          attachments: data.attachments || []\r\n        });\r\n        \r\n        setError('');\r\n      })\r\n      .catch((err) => {\r\n        console.error('Error fetching request:', err);\r\n        setError('Failed to load request details.');\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [id]);\r\n\r\n  useEffect(()=>{},[]); // placeholder\r\n\r\n  // Cleanup preview URLs\r\n  useEffect(()=>{\r\n    return ()=>{ previewURLs.forEach(url=> URL.revokeObjectURL(url)); };\r\n  },[previewURLs]);\r\n\r\n  const handleBack = () => navigate(`/ceo/material-request/${id}`);\r\n\r\n  // Handlers\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev=>({...prev,[name]:value}));\r\n  };\r\n\r\n  const handleMaterialChange = (rowId, field, value) => {\r\n    setFormData(prev=>({\r\n      ...prev,\r\n      materials: prev.materials.map(m=> m.id===rowId ? { ...m, [field]: field==='quantity' ? value.replace(/[^0-9.]/g,'').slice(0,10) : value } : m )\r\n    }));\r\n  };\r\n\r\n  const addMaterialRow = () => {\r\n    setFormData(prev=>({\r\n      ...prev,\r\n      materials:[...prev.materials, { id: (prev.materials.at(-1)?.id || 0)+1, materialName:'', quantity:'', unit:'' }]\r\n    }));\r\n  };\r\n\r\n  const removeMaterialRow = (rowId) => {\r\n    setFormData(prev=>({\r\n      ...prev,\r\n      materials: prev.materials.length>1 ? prev.materials.filter(m=>m.id!==rowId) : prev.materials\r\n    }));\r\n  };\r\n\r\n  const onFilesSelected = (e) => {\r\n    const files = Array.from(e.target.files||[]);\r\n    if(!files.length) return;\r\n    const previews = files.map(f=> URL.createObjectURL(f));\r\n    setNewFiles(prev=>[...prev,...files]);\r\n    setPreviewURLs(prev=>[...prev,...previews]);\r\n  };\r\n\r\n  const removeNewFile = (idx) => {\r\n    setNewFiles(prev=> prev.filter((_,i)=> i!==idx));\r\n    setPreviewURLs(prev=> {\r\n      URL.revokeObjectURL(prev[idx]);\r\n      return prev.filter((_,i)=> i!==idx);\r\n    });\r\n  };\r\n\r\n  const removeExistingAttachment = (idx) => {\r\n    setFormData(prev=>({\r\n      ...prev,\r\n      attachments: prev.attachments.filter((_,i)=> i!==idx)\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    const cleanMaterials = formData.materials.filter(m=> m.materialName.trim() && m.quantity.trim() && m.unit.trim());\r\n    if(!formData.description.trim()) return setError('Description required');\r\n    if(!cleanMaterials.length) return setError('At least one material entry complete');\r\n    setSaving(true);\r\n    try {\r\n      const fd = new FormData();\r\n      fd.append('description', formData.description.trim());\r\n      fd.append('materials', JSON.stringify(cleanMaterials.map(({materialName,quantity,unit})=>({materialName,quantity,unit}))));\r\n      fd.append('attachments', JSON.stringify(formData.attachments));\r\n      newFiles.forEach(f=> fd.append('newAttachments', f));\r\n      await api.put(`/requests/${id}`, fd, { headers: { 'Content-Type':'multipart/form-data' } });\r\n      navigate(`/ceo/material-request/${id}`);\r\n    } catch(err){\r\n      console.error(err);\r\n      setError(err.response?.data?.message || 'Update failed');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Loading & missing states (minimal, reused styles)\r\n  if (loading) return <div className=\"mr-loading\"><div className=\"mr-spinner\"/><p>Loading request</p></div>;\r\n  if (!materialRequest) return <div className=\"mr-loading\"><p>{error||'Request not found'}</p><button onClick={handleBack} className=\"mr-btn ghost\" type=\"button\">Back</button></div>;\r\n\r\n  const statusClass = `priority-badge-CEO priority-${(materialRequest.status || 'pending').toLowerCase().replace(/\\s+/g,'-')}`;\r\n\r\n  return (\r\n    <div className=\"mr-edit-page\">\r\n      <AppHeader roleSegment=\"ceo\" />\r\n      <div className=\"mr-container\">\r\n        <div className=\"mr-page-head\">\r\n          <div className=\"mr-head-text\">\r\n            <h1>Edit Material Request</h1>\r\n            <div className=\"mr-meta-line\">\r\n              <span className=\"mr-id\">ID: {materialRequest._id}</span>\r\n              <span className={statusClass}>{materialRequest.status}</span>\r\n              <span className=\"mr-project\">Project: <strong>{materialRequest.project?.projectName||''}</strong></span>\r\n            </div>\r\n          </div>\r\n          <div className=\"mr-head-actions\">\r\n            <button type=\"button\" onClick={handleBack} className=\"mr-btn ghost\">Cancel</button>\r\n            <button type=\"submit\" form=\"mr-form\" className=\"mr-btn primary\" disabled={saving}>{saving? 'Saving':'Save Changes'}</button>\r\n          </div>\r\n        </div>\r\n\r\n        {error && <div className=\"mr-alert error\">{error}</div>}\r\n\r\n        <form id=\"mr-form\" onSubmit={handleSubmit} className=\"mr-form\" autoComplete=\"off\">\r\n          <div className=\"mr-grid\">\r\n            <section className=\"mr-section\">\r\n              <header><h2>Request Information</h2></header>\r\n              <div className=\"mr-field\">\r\n                <label htmlFor=\"mr-desc\">Description</label>\r\n                <textarea id=\"mr-desc\" name=\"description\" value={formData.description} onChange={handleChange} rows={5} placeholder=\"Describe the requested materials, purpose, urgency\" />\r\n                <div className=\"mr-hint\">Provide enough context for approvers.</div>\r\n              </div>\r\n              <div className=\"mr-inline-info\">\r\n                <div><span className=\"lbl\">Current Status</span><span className={statusClass}>{materialRequest.status}</span></div>\r\n                <div><span className=\"lbl\">Project</span><span className=\"val\">{materialRequest.project?.projectName||''}</span></div>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"mr-section\">\r\n              <header><h2>Materials</h2></header>\r\n              <div className=\"mr-materials-wrap\">\r\n                <table className=\"mr-materials-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th style={{width:'55%'}}>Name</th>\r\n                      <th style={{width:'15%'}}>Qty</th>\r\n                      <th style={{width:'20%'}}>Unit</th>\r\n                      <th style={{width:'10%'}}></th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {formData.materials.map(row=> (\r\n                      <tr key={row.id}>\r\n                        <td>\r\n                          <input type=\"text\" value={row.materialName} onChange={e=>handleMaterialChange(row.id,'materialName',e.target.value)} placeholder=\"e.g. Cement Type 1\" />\r\n                        </td>\r\n                        <td>\r\n                          <input type=\"text\" value={row.quantity} onChange={e=>handleMaterialChange(row.id,'quantity',e.target.value)} placeholder=\"0\" />\r\n                        </td>\r\n                        <td>\r\n                          <select value={row.unit} onChange={e=>handleMaterialChange(row.id,'unit',e.target.value)}>\r\n                            <option value=\"\">Select</option>\r\n                            <option value=\"pcs\">pcs</option>\r\n                            <option value=\"kg\">kg</option>\r\n                            <option value=\"m\">m</option>\r\n                            <option value=\"l\">l</option>\r\n                            <option value=\"box\">box</option>\r\n                            <option value=\"roll\">roll</option>\r\n                            <option value=\"set\">set</option>\r\n                            <option value=\"pair\">pair</option>\r\n                            <option value=\"unit\">unit</option>\r\n                            <option value=\"bundle\">bundle</option>\r\n                          </select>\r\n                        </td>\r\n                        <td className=\"mr-actions-cell\">\r\n                          <button type=\"button\" className=\"mr-icon-btn danger\" onClick={()=>removeMaterialRow(row.id)} disabled={formData.materials.length===1} title=\"Remove\">\r\n                            <FaTrash />\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n                <button type=\"button\" onClick={addMaterialRow} className=\"mr-btn subtle\" style={{marginTop:12}}><FaPlus/> Add Material</button>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"mr-section full\">\r\n              <header><h2>Attachments</h2></header>\r\n              <div className=\"mr-attachments\">\r\n                {formData.attachments.length===0 && <div className=\"mr-empty\">No attachments.</div>}\r\n                {formData.attachments.length>0 && (\r\n                  <ul className=\"mr-attachment-list\">\r\n                    {formData.attachments.map((att,idx)=>(\r\n                      <li key={idx} className=\"mr-attachment-item\">\r\n                        <a href={`${process.env.REACT_APP_API_BASE_URL||''}/uploads/${att}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"file\">\r\n                          <FaDownload/> <span>{att}</span>\r\n                        </a>\r\n                        <button type=\"button\" className=\"mr-icon-btn danger\" onClick={()=>removeExistingAttachment(idx)} title=\"Remove\"><FaTrash/></button>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n                <div className=\"mr-file-add\">\r\n                  <label className=\"mr-file-drop\">\r\n                    <FaPaperclip/> <span>Select Files</span>\r\n                    <input type=\"file\" multiple onChange={onFilesSelected} accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt\" />\r\n                  </label>\r\n                  {newFiles.length>0 && (\r\n                    <ul className=\"mr-attachment-list new\">\r\n                      {newFiles.map((f,i)=>(\r\n                        <li key={i} className=\"mr-attachment-item\">\r\n                          <span className=\"file\"><FaPaperclip/> {f.name}</span>\r\n                          <button type=\"button\" className=\"mr-icon-btn danger\" onClick={()=>removeNewFile(i)}><FaTrash/></button>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n          <div className=\"mr-floating-bar\">\r\n            <div className=\"inner\">\r\n              <span className=\"hint\">Review before saving.</span>\r\n              <div className=\"actions\">\r\n                <button type=\"button\" onClick={handleBack} className=\"mr-btn ghost\">Cancel</button>\r\n                <button type=\"submit\" className=\"mr-btn primary\" disabled={saving}><FaSave/>{saving? 'Saving':'Save Changes'}</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CeoMaterialRequestEdit;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport api from '../../api/axiosInstance';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport AppHeader from '../layout/AppHeader';\r\n\r\n\r\nconst ITEMS_PER_PAGE = 15;\r\n\r\nconst CeoAuditLogs = () => {\r\n  const navigate = useNavigate();\r\n  // (User name not required here since AppHeader handles user display)\r\n  const [logs, setLogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [roleFilter, setRoleFilter] = useState(\"\");\r\n  const [actionFilter, setActionFilter] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    api.get('/audit-logs')\r\n      .then((res) => {\r\n        setLogs(res.data); \r\n        setLoading(false);\r\n      })\r\n      .catch(() => setLoading(false));\r\n  }, []);\r\n\r\n  // (Profile menu & logout handled by AppHeader)\r\n\r\n  // Filter logic\r\n  const filteredLogs = logs.filter((log) => {\r\n    return (\r\n      (!roleFilter || log.performedByRole?.toLowerCase().includes(roleFilter.toLowerCase())) &&\r\n      (!actionFilter || log.action?.toLowerCase().includes(actionFilter.toLowerCase())) &&\r\n      (\r\n        !search ||\r\n        log.description?.toLowerCase().includes(search.toLowerCase()) ||\r\n        log.performedBy?.name?.toLowerCase().includes(search.toLowerCase()) ||\r\n        log.performedByRole?.toLowerCase().includes(search.toLowerCase()) ||\r\n        log.action?.toLowerCase().includes(search.toLowerCase())\r\n      )\r\n    );\r\n  });\r\n\r\n  // Pagination\r\n  const totalPages = Math.ceil(filteredLogs.length / ITEMS_PER_PAGE);\r\n  const pagedLogs = filteredLogs.slice(\r\n    (currentPage - 1) * ITEMS_PER_PAGE,\r\n    currentPage * ITEMS_PER_PAGE\r\n  );\r\n\r\n  // When filter/search changes, go to page 1\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [search, roleFilter, actionFilter]);\r\n\r\n  return (\r\n    <div>\r\n      <AppHeader roleSegment=\"ceo\" />\r\n\r\n      <div style={{ maxWidth: 1200, margin: \"30px auto\", padding: 24, background: \"#fff\", borderRadius: 12, boxShadow: \"0 2px 16px #0001\" }}>\r\n  <h2 style={{ marginBottom: 24 }}>Audit Log</h2>\r\n\r\n        <div style={{ display: \"flex\", gap: 12, marginBottom: 20, flexWrap: \"wrap\" }}>\r\n          <input\r\n            placeholder=\"Search anything...\"\r\n            value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n            style={{ flex: 2, minWidth: 180, padding: 8, borderRadius: 6, border: \"1px solid #bbb\" }}\r\n          />\r\n          <input\r\n            placeholder=\"Filter by role\"\r\n            value={roleFilter}\r\n            onChange={e => setRoleFilter(e.target.value)}\r\n            style={{ flex: 1, minWidth: 120, padding: 8, borderRadius: 6, border: \"1px solid #bbb\" }}\r\n          />\r\n          <input\r\n            placeholder=\"Filter by action\"\r\n            value={actionFilter}\r\n            onChange={e => setActionFilter(e.target.value)}\r\n            style={{ flex: 1, minWidth: 120, padding: 8, borderRadius: 6, border: \"1px solid #bbb\" }}\r\n          />\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div>Loading...</div>\r\n        ) : (\r\n          <div style={{ overflowX: \"auto\" }}>\r\n            <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 15 }}>\r\n              <thead>\r\n                <tr style={{ background: \"#f6f6f6\" }}>\r\n                  <th style={th}>Date/Time</th>\r\n                  <th style={th}>Action</th>\r\n                  <th style={th}>Performed By</th>\r\n                  <th style={th}>Role</th>\r\n                  <th style={th}>Description</th>\r\n                  <th style={th}>Details</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {pagedLogs.length === 0 ? (\r\n                  <tr><td colSpan={6} style={{ textAlign: \"center\", color: \"#888\" }}>No logs found.</td></tr>\r\n                ) : (\r\n                  pagedLogs.map((log, i) => (\r\n                    <tr key={log._id || i} style={{ background: i % 2 ? \"#fafbfc\" : \"#fff\" }}>\r\n                      <td style={td}>{new Date(log.timestamp).toLocaleString()}</td>\r\n                      <td style={td}><span style={{ background: \"#f3f6ff\", borderRadius: 4, padding: \"2px 8px\" }}>{log.action}</span></td>\r\n                      <td style={td}>{log.performedBy?.name || \"Unknown\"}</td>\r\n                      <td style={td}>{log.performedByRole}</td>\r\n                      <td style={td}>{log.description}</td>\r\n                      <td style={td}>\r\n                        <details>\r\n                          <summary style={{ cursor: \"pointer\" }}>View</summary>\r\n                          <pre style={{ whiteSpace: \"pre-wrap\", fontSize: 12, background: \"#f8f8f8\", padding: 8, borderRadius: 6 }}>{JSON.stringify(log.meta, null, 2)}</pre>\r\n                        </details>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n\r\n        {/* Pagination Controls */}\r\n        <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", gap: 10, marginTop: 30 }}>\r\n          <button\r\n            onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\r\n            disabled={currentPage === 1}\r\n            style={{\r\n              padding: \"7px 18px\",\r\n              borderRadius: 6,\r\n              border: \"1px solid #bbb\",\r\n              background: currentPage === 1 ? \"#eee\" : \"#fafcff\",\r\n              color: currentPage === 1 ? \"#bbb\" : \"#333\",\r\n              cursor: currentPage === 1 ? \"not-allowed\" : \"pointer\"\r\n            }}\r\n          >Prev</button>\r\n          {/* Page numbers */}\r\n          {Array.from({ length: totalPages }, (_, i) => i + 1)\r\n            .filter(pageNum => \r\n              pageNum === 1 ||\r\n              pageNum === totalPages ||\r\n              Math.abs(pageNum - currentPage) <= 2\r\n            )\r\n            .reduce((arr, pageNum, idx, src) => {\r\n              // add ... for skipped numbers\r\n              if (idx > 0 && pageNum - src[idx - 1] > 1) arr.push('...');\r\n              arr.push(pageNum);\r\n              return arr;\r\n            }, [])\r\n            .map((page, idx) =>\r\n              page === '...' ? (\r\n                <span key={'ellipsis-' + idx} style={{ padding: \"0 6px\", color: \"#aaa\" }}>...</span>\r\n              ) : (\r\n                <button\r\n                  key={page}\r\n                  onClick={() => setCurrentPage(page)}\r\n                  style={{\r\n                    padding: \"7px 14px\",\r\n                    borderRadius: 5,\r\n                    border: page === currentPage ? \"2px solid #384ee6\" : \"1px solid #ccc\",\r\n                    background: page === currentPage ? \"#f3f6ff\" : \"#fff\",\r\n                    color: page === currentPage ? \"#384ee6\" : \"#333\",\r\n                    fontWeight: page === currentPage ? 700 : 400,\r\n                    cursor: \"pointer\",\r\n                    margin: \"0 2px\"\r\n                  }}\r\n                  disabled={page === currentPage}\r\n                >{page}</button>\r\n              )\r\n            )\r\n          }\r\n          <button\r\n            onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\r\n            disabled={currentPage === totalPages || totalPages === 0}\r\n            style={{\r\n              padding: \"7px 18px\",\r\n              borderRadius: 6,\r\n              border: \"1px solid #bbb\",\r\n              background: currentPage === totalPages || totalPages === 0 ? \"#eee\" : \"#fafcff\",\r\n              color: currentPage === totalPages || totalPages === 0 ? \"#bbb\" : \"#333\",\r\n              cursor: currentPage === totalPages || totalPages === 0 ? \"not-allowed\" : \"pointer\"\r\n            }}\r\n          >Next</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst th = {\r\n  textAlign: \"left\",\r\n  padding: \"10px 8px\",\r\n  fontWeight: 600,\r\n  borderBottom: \"2px solid #eee\",\r\n};\r\nconst td = {\r\n  padding: \"8px 8px\",\r\n  borderBottom: \"1px solid #eee\",\r\n};\r\n\r\nexport default CeoAuditLogs;\r\n","import jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\n\r\n/* ---------- utility functions ---------- */\r\nfunction loadImageDataURLWithSize(url) {\r\n  return new Promise((resolve) => {\r\n    if (!url) return resolve(null);\r\n    try {\r\n      const img = new Image();\r\n      img.crossOrigin = 'anonymous';\r\n      img.onload = () => {\r\n        const c = document.createElement('canvas');\r\n        c.width = img.naturalWidth;\r\n        c.height = img.naturalHeight;\r\n        c.getContext('2d').drawImage(img, 0, 0);\r\n        resolve({ dataUrl: c.toDataURL('image/png'), w: img.naturalWidth, h: img.naturalHeight });\r\n      };\r\n      img.onerror = () => resolve(null);\r\n      img.src = url;\r\n    } catch {\r\n      resolve(null);\r\n    }\r\n  });\r\n}\r\n\r\nfunction loadFontFromPublic(doc, fontFile, family, style) {\r\n  return new Promise((resolve) => {\r\n    try {\r\n      const fontPath = `${process.env.PUBLIC_URL || ''}/fonts/${fontFile}`;\r\n      fetch(fontPath)\r\n        .then((r) => r.arrayBuffer())\r\n        .then((buf) => {\r\n          try {\r\n            doc.addFileToVFS(fontFile, buf);\r\n            doc.addFont(fontFile, family, style);\r\n            resolve(true);\r\n          } catch {\r\n            resolve(false);\r\n          }\r\n        })\r\n        .catch(() => resolve(false));\r\n    } catch {\r\n      resolve(false);\r\n    }\r\n  });\r\n}\r\n\r\nfunction fontUsable(doc, family, style) {\r\n  try {\r\n    const fonts = doc.getFontList();\r\n    return fonts && fonts[family] && fonts[family][style];\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction fitInside(w, h, maxW, maxH) {\r\n  if (!w || !h) return { w: maxW, h: maxH };\r\n  const r = Math.min(maxW / w, maxH / h, 1);\r\n  return { w: w * r, h: h * r };\r\n}\r\n\r\nfunction formatDateTime(date) {\r\n  if (!date) return 'N/A';\r\n  const dt = new Date(date);\r\n  return Number.isNaN(dt.getTime()) ? 'N/A' : dt.toLocaleString();\r\n}\r\n\r\nfunction buildFileName(prefix = 'Manpower-Requests-Export') {\r\n  const d = new Date();\r\n  const name = `_${pad(d.getHours())}${pad(d.getMinutes())}`;\r\n  return `${prefix}-${name}.pdf`;\r\n}\r\n\r\nfunction pad(n) {\r\n  return String(n).padStart(2, '0');\r\n}\r\n\r\nfunction buildFiltersSummary(filters) {\r\n  const parts = [];\r\n  if (filters.status && filters.status !== 'all') parts.push(`Status: ${filters.status}`);\r\n  if (filters.search) parts.push(`Search: \"${filters.search}\"`);\r\n  if (filters.dateFrom) parts.push(`From: ${filters.dateFrom}`);\r\n  if (filters.dateTo) parts.push(`To: ${filters.dateTo}`);\r\n  return parts.length ? parts.join(', ') : null;\r\n}\r\n\r\nfunction computeStatusLabel(req) {\r\n  if (req.status === 'Approved') return 'Approved';\r\n  if (req.status === 'Pending') return 'Pending';\r\n  if (req.status === 'Rejected') return 'Rejected';\r\n  if (req.status === 'Completed') return 'Completed';\r\n  if (req.status === 'In Progress') return 'In Progress';\r\n  return 'Unknown';\r\n}\r\n\r\nexport async function exportManpowerRequestsPdf(rows = [], options = {}) {\r\n  const {\r\n    companyName = 'FadzTrack',\r\n    logoPath = `${process.env.PUBLIC_URL || ''}/images/Fadz-logo.png`,\r\n    exporterName = 'Unknown',\r\n    exporterRole = '',\r\n    filters = {},\r\n    reportTitle = 'Manpower Requests Export',\r\n  } = options;\r\n\r\n  const doc = new jsPDF({ unit: 'pt', format: 'a4' });\r\n\r\n  // Fonts\r\n  const FAMILY = 'NotoSans';\r\n  const regOk = await loadFontFromPublic(doc, 'NotoSans-Regular.ttf', FAMILY, 'normal');\r\n  const boldOk = await loadFontFromPublic(doc, 'NotoSans-Bold.ttf', FAMILY, 'bold');\r\n  const canUseRegular = regOk && fontUsable(doc, FAMILY, 'normal');\r\n  const canUseBold = boldOk && fontUsable(doc, FAMILY, 'bold');\r\n  const bodyFont = canUseRegular ? FAMILY : 'helvetica';\r\n  const headStyle = canUseBold ? 'bold' : 'normal';\r\n\r\n  const marginX = 40;\r\n  let y = 40;\r\n\r\n  // Header: logo + company name + context\r\n  const logo = await loadImageDataURLWithSize(logoPath);\r\n  let titleX = marginX;\r\n  if (logo?.dataUrl) {\r\n    const { w: drawW, h: drawH } = fitInside(logo.w, logo.h, 180, 60); // increased size\r\n    doc.addImage(logo.dataUrl, 'PNG', marginX, y - 12, drawW, drawH, undefined, 'FAST');\r\n    titleX = marginX + drawW + 16; // more spacing\r\n  }\r\n\r\n  doc.setFont(bodyFont, headStyle);\r\n  doc.setFontSize(20); // increased font size\r\n  doc.setTextColor(20);\r\n  doc.text(String(companyName), titleX, y + 16);\r\n\r\n  doc.setFont(bodyFont, 'normal');\r\n  doc.setFontSize(12);\r\n  doc.setTextColor(90);\r\n  doc.text(reportTitle, titleX, y + 26);\r\n\r\n  // Divider\r\n  doc.setDrawColor(220);\r\n  doc.setLineWidth(1);\r\n  doc.line(marginX, y + 38, 595 - marginX, y + 38);\r\n  y += 54;\r\n\r\n  // Metadata block\r\n  doc.setFont(bodyFont, headStyle);\r\n  doc.setFontSize(12);\r\n  doc.setTextColor(20);\r\n  doc.text('Export Details', marginX, y);\r\n\r\n  doc.setFont(bodyFont, 'normal');\r\n  doc.setTextColor(60);\r\n  const meta = [\r\n    `Exported by: ${exporterName}${exporterRole ? ` (${exporterRole})` : ''}`,\r\n    `Date exported: ${formatDateTime(new Date())}`,\r\n  ];\r\n  const filterSummary = buildFiltersSummary(filters);\r\n  if (filterSummary) meta.push(`Filters: ${filterSummary}`);\r\n\r\n  let metaY = y + 16;\r\n  meta.forEach((line) => {\r\n    doc.text(line, marginX, metaY);\r\n    metaY += 16;\r\n  });\r\n\r\n  // Table\r\n  const tableStartY = metaY + 6;\r\n  const head = [['Date', 'Requester', 'Project', 'Manpower Requested', 'Status', 'Acquisition Date']];\r\n  const body = rows.map((r) => {\r\n    const manpowerList = Array.isArray(r.manpowerRequested)\r\n      ? r.manpowerRequested.map((m) => `${m.name || ''}${m.position ? ` (${m.position})` : ''}`).join(', ')\r\n      : '';\r\n    return [\r\n      r.createdAt ? new Date(r.createdAt).toLocaleDateString() : '',\r\n      String(r.createdBy?.name || ''),\r\n      String(r.project?.projectName || ''),\r\n      manpowerList,\r\n      computeStatusLabel(r),\r\n      r.acquisitionDate ? new Date(r.acquisitionDate).toLocaleDateString() : '',\r\n    ];\r\n  });\r\n\r\n  autoTable(doc, {\r\n    startY: tableStartY,\r\n    head,\r\n    body,\r\n    styles: { font: bodyFont, fontStyle: 'normal', fontSize: 10, cellPadding: 5, halign: 'left', overflow: 'linebreak' },\r\n    headStyles: { font: bodyFont, fontStyle: headStyle, fillColor: [59, 130, 246], textColor: 255 },\r\n    theme: 'grid',\r\n    margin: { left: marginX, right: marginX },\r\n    columnStyles: { 3: { cellWidth: 180 } }, // Manpower Requested column\r\n    didDrawPage: () => {\r\n      const str = `Generated: ${formatDateTime(new Date())}`;\r\n      doc.setFont(bodyFont, 'normal');\r\n      doc.setFontSize(9);\r\n      doc.setTextColor(120);\r\n      doc.text(str, marginX, 842 - 24);\r\n\r\n      const page = doc.getCurrentPageInfo().pageNumber || 1;\r\n      const pages = doc.getNumberOfPages();\r\n      const label = `Page ${page} of ${pages}`;\r\n      const w = doc.getTextWidth(label);\r\n      doc.text(label, 595 - marginX - w, 842 - 24);\r\n    },\r\n  });\r\n\r\n  doc.save(buildFileName());\r\n}\r\n","import React, { useEffect, useMemo, useState, useDeferredValue } from 'react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport api from '../../api/axiosInstance';\r\nimport AppHeader from '../layout/AppHeader';\r\nimport '../style/it_style/It_Projects.css';\r\nimport { \r\n  FaProjectDiagram, FaSearch, FaChevronUp, FaChevronDown, FaTh, FaList,\r\n  FaMapMarkerAlt, FaUserTie, FaBuilding, FaCalendarAlt, FaUsers as FaUsersIcon,\r\n  FaMoneyBillWave, FaClock, FaCheckCircle\r\n} from 'react-icons/fa';\r\n\r\nconst CeoProj = () => {\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const [projects,setProjects]=useState([]);\r\n  const [loading,setLoading]=useState(true);\r\n  const [error,setError]=useState('');\r\n  const [filter,setFilter]=useState('all');\r\n  const [viewMode,setViewMode]=useState('grid');\r\n  const [searchTerm,setSearchTerm]=useState('');\r\n  const deferredSearch = useDeferredValue(searchTerm); // smoother typing\r\n  const [sortBy,setSortBy]=useState('name');\r\n  const [sortOrder,setSortOrder]=useState('asc');\r\n  const [page,setPage]=useState(1);\r\n  const [pageSize,setPageSize]=useState(12);\r\n\r\n  // Set filter from URL params on component mount\r\n  useEffect(() => {\r\n    const statusParam = searchParams.get('status');\r\n    if (statusParam && ['ongoing', 'completed', 'pending'].includes(statusParam)) {\r\n      setFilter(statusParam);\r\n    }\r\n  }, [searchParams]);\r\n\r\n  useEffect(()=>{\r\n    let active = true;\r\n    (async()=>{\r\n      try {\r\n        const { data } = await api.get('/projects');\r\n        if(!active) return;\r\n        setProjects(Array.isArray(data)? data : []);\r\n      } catch {\r\n        if(active) setError('Failed to fetch projects');\r\n      } finally { if(active) setLoading(false); }\r\n    })();\r\n    return ()=>{ active=false; };\r\n  },[]);\r\n\r\n  const currencyFmt = useMemo(()=> new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:2}),[]);\r\n  const dateFmt = (d)=> d ? new Date(d).toLocaleDateString(undefined,{month:'short',day:'numeric',year:'numeric'}) : '';\r\n\r\n  const statusMeta = (statusRaw='')=>{\r\n    const s = statusRaw.toLowerCase();\r\n    if(s==='completed') return { color:'#10B981', Icon:FaCheckCircle, label:'Completed' };\r\n    if(s==='ongoing' || s==='on going') return { color:'#3B82F6', Icon:FaClock, label:'Ongoing' };\r\n    if(['pending','not started'].includes(s)) return { color:'#F59E0B', Icon:FaClock, label:'Pending' };\r\n    return { color:'#6B7280', Icon:FaClock, label: statusRaw || 'Unknown' };\r\n  };\r\n\r\n  const filteredSorted = useMemo(()=>{\r\n    const srch = deferredSearch.trim().toLowerCase();\r\n    const subset = projects\r\n      .filter(p=>{\r\n        const st = (p.status||'').toLowerCase();\r\n        if(filter==='completed') return st==='completed';\r\n        if(filter==='ongoing') return ['ongoing','on going'].includes(st);\r\n        if(filter==='pending') return ['pending','not started'].includes(st);\r\n        return true;\r\n      })\r\n      .filter(p=>{\r\n        if(!srch) return true;\r\n        return [p.projectName, p.location?.name, p.projectmanager?.name, p.contractor]\r\n          .some(v=> (v||'').toLowerCase().includes(srch));\r\n      })\r\n      .sort((a,b)=>{\r\n        const pick=(o)=>{\r\n          switch(sortBy){\r\n            case 'location': return o.location?.name||'';\r\n            case 'manager': return o.projectmanager?.name||'';\r\n            case 'status': return o.status||'';\r\n            case 'startDate': return o.startDate ? new Date(o.startDate).getTime():0;\r\n            default: return o.projectName||'';\r\n          }\r\n        };\r\n        const av = pick(a); const bv = pick(b);\r\n        if(av===bv) return 0;\r\n        return (av>bv?1:-1)*(sortOrder==='asc'?1:-1);\r\n      });\r\n    return subset;\r\n  },[projects,filter,deferredSearch,sortBy,sortOrder]);\r\n\r\n  // Reset page when filters/search/sort change\r\n  useEffect(()=>{ setPage(1); },[filter,deferredSearch,sortBy,sortOrder]);\r\n\r\n  const totalItems = filteredSorted.length;\r\n  const totalPages = Math.max(1, Math.ceil(totalItems / pageSize));\r\n  const currentPage = Math.min(page, totalPages);\r\n  const paginatedProjects = useMemo(()=> filteredSorted.slice((currentPage-1)*pageSize, currentPage*pageSize),[filteredSorted,currentPage,pageSize]);\r\n\r\n  const counts = useMemo(()=>({\r\n    total: projects.length,\r\n    ongoing: projects.filter(p=> ['ongoing','on going'].includes((p.status||'').toLowerCase())).length,\r\n    completed: projects.filter(p=> (p.status||'').toLowerCase()==='completed').length,\r\n    pending: projects.filter(p=> ['pending','not started'].includes((p.status||'').toLowerCase())).length\r\n  }),[projects]);\r\n\r\n  const Skeleton = ({n=8}) => (\r\n    <div className={`projects-display ${viewMode}`}>\r\n      {Array.from({length:n}).map((_,i)=>(\r\n        <div key={i} className=\"project-card skeleton\">\r\n          <div className=\"project-image-wrapper shimmer\" />\r\n          <div className=\"project-content\">\r\n            <div className=\"skeleton-line w60\" />\r\n            <div className=\"skeleton-line w40\" />\r\n            <div className=\"skeleton-line w80\" />\r\n            <div className=\"skeleton-line w50\" />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n  <div className=\"dashboard-container no-inner-scroll ceo-projects-page\">\r\n      <AppHeader roleSegment=\"ceo\" />\r\n      <main className=\"dashboard-main auto-height\">\r\n  <div className=\"projects-container projects-light\">\r\n          <div className=\"page-header enhanced\">\r\n            <div className=\"page-title-section\">\r\n              <h1 className=\"page-title\">Projects</h1>\r\n              <p className=\"page-subtitle\">Portfolio overview</p>\r\n            </div>\r\n            <div className=\"page-actions\">\r\n              <div className=\"search-container\">\r\n                <FaSearch className=\"search-icon\" />\r\n                <input\r\n                  value={searchTerm}\r\n                  onChange={e=>setSearchTerm(e.target.value)}\r\n                  placeholder=\"Search by name, location, manager...\"\r\n                  className=\"search-input\"\r\n                />\r\n              </div>\r\n              <div className=\"view-mode-container\">\r\n                <button\r\n                  aria-label=\"Grid view\"\r\n                  className={`view-mode-btn ${viewMode==='grid'?'active':''}`}\r\n                  onClick={()=>setViewMode('grid')}><FaTh/></button>\r\n                <button\r\n                  aria-label=\"List view\"\r\n                  className={`view-mode-btn ${viewMode==='list'?'active':''}`}\r\n                  onClick={()=>setViewMode('list')}><FaList/></button>\r\n              </div>\r\n              <div className=\"sort-container\">\r\n                <select value={sortBy} onChange={e=>setSortBy(e.target.value)} className=\"sort-select\">\r\n                  <option value=\"name\">Name</option>\r\n                  <option value=\"location\">Location</option>\r\n                  <option value=\"manager\">Manager</option>\r\n                  <option value=\"status\">Status</option>\r\n                  <option value=\"startDate\">Start Date</option>\r\n                </select>\r\n                <button\r\n                  aria-label=\"Toggle sort order\"\r\n                  className=\"sort-order-btn\"\r\n                  onClick={()=>setSortOrder(o=>o==='asc'?'desc':'asc')}>\r\n                  {sortOrder==='asc'? <FaChevronUp/> : <FaChevronDown/>}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"filter-bar below-header\">\r\n            <button className={`filter-chip ${filter==='all'?'active':''}`} onClick={()=>setFilter('all')}>All <span className=\"badge\">{counts.total}</span></button>\r\n            <button className={`filter-chip ${filter==='ongoing'?'active':''}`} onClick={()=>setFilter('ongoing')}>Ongoing <span className=\"badge\">{counts.ongoing}</span></button>\r\n            <button className={`filter-chip ${filter==='completed'?'active':''}`} onClick={()=>setFilter('completed')}>Completed <span className=\"badge\">{counts.completed}</span></button>\r\n            <button className={`filter-chip ${filter==='pending'?'active':''}`} onClick={()=>setFilter('pending')}>Pending <span className=\"badge\">{counts.pending}</span></button>\r\n          </div>\r\n\r\n          {error && <div className=\"error-state compact\"><FaClock/><span>{error}</span></div>}\r\n          {loading && !error && <Skeleton n={8} />}\r\n\r\n          {!loading && !error && (\r\n            <>\r\n            <div className={`projects-display ${viewMode}`}>\r\n              {paginatedProjects.length===0 && (\r\n                <div className=\"empty-state full\">\r\n                  <FaProjectDiagram size={42}/>\r\n                  <h3>No projects found</h3>\r\n                  <p>{searchTerm||filter!=='all' ? 'Adjust search text, filters or sorting.' : 'Start by creating a new project.'}</p>\r\n                </div>\r\n              )}\r\n              {paginatedProjects.map(p=>{\r\n                const meta = statusMeta(p.status);\r\n                return (\r\n                  <div\r\n                    key={p._id}\r\n                    className={`project-card ${viewMode}`}\r\n                    onClick={()=>navigate(`/ceo/proj/${p._id}`)}\r\n                    role=\"button\"\r\n                    tabIndex={0}\r\n                    onKeyDown={e=>{ if(e.key==='Enter') navigate(`/ceo/proj/${p._id}`); }}\r\n                  >\r\n                    <div className=\"project-image-wrapper\">\r\n                      <img\r\n                        loading=\"lazy\"\r\n                        src={p.photos?.[0] || 'https://placehold.co/640x360?text=No+Photo'}\r\n                        alt={p.projectName}\r\n                        className=\"project-image\"\r\n                      />\r\n                      <div className=\"status-badge\" style={{backgroundColor:meta.color}}>\r\n                        <meta.Icon size={12}/>\r\n                        <span>{meta.label}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"project-content\">\r\n                      <h3 className=\"project-name clamp\">{p.projectName||'Untitled'}</h3>\r\n                      <div className=\"project-location\"><FaMapMarkerAlt/><span>{p.location?.name || 'No Location'}</span></div>\r\n                      <ul className=\"meta-list\">\r\n                        <li><FaUserTie/><span>{p.projectmanager?.name||'Unassigned'}</span></li>\r\n                        <li><FaBuilding/><span>{p.contractor||'No Contractor'}</span></li>\r\n                        <li><FaCalendarAlt/><span>{p.startDate && p.endDate ? `${dateFmt(p.startDate)} - ${dateFmt(p.endDate)}` : (p.startDate? dateFmt(p.startDate): 'No timeline')}</span></li>\r\n                        <li><FaUsersIcon/><span>{Array.isArray(p.manpower)&&p.manpower.length>0 ? `${p.manpower.length} manpower` : 'No manpower'}</span></li>\r\n                        {p.budget && <li><FaMoneyBillWave/><span>{currencyFmt.format(p.budget)}</span></li>}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            {paginatedProjects.length>0 && (\r\n              <div className=\"pagination-bar\">\r\n                <div className=\"pagination-left\">\r\n                  <span className=\"pagination-info\">Showing {(currentPage-1)*pageSize + 1}-{Math.min(currentPage*pageSize,totalItems)} of {totalItems}</span>\r\n                  <label className=\"page-size-select-label\">\r\n                    <span>Per page:</span>\r\n                    <select value={pageSize} onChange={e=>{ setPageSize(parseInt(e.target.value)||12); setPage(1); }} className=\"page-size-select\">\r\n                      {[6,12,18,24,36].map(sz=> <option key={sz} value={sz}>{sz}</option>)}\r\n                    </select>\r\n                  </label>\r\n                </div>\r\n                <div className=\"pagination-pages\">\r\n                  <button disabled={currentPage===1} onClick={()=>setPage(p=>Math.max(1,p-1))} className=\"page-btn\" aria-label=\"Previous page\"></button>\r\n                  {Array.from({length: totalPages}).slice(0, totalPages).map((_,i)=>{\r\n                    const pageNumber = i+1;\r\n                    // show first, last, and nearby pages with ellipsis\r\n                    const show = pageNumber===1 || pageNumber===totalPages || Math.abs(pageNumber-currentPage)<=1;\r\n                    if(!show) {\r\n                      // Insert ellipsis placeholders\r\n                      if(pageNumber===2 && currentPage>3) return <span key=\"start-ellipsis\" className=\"ellipsis\"></span>;\r\n                      if(pageNumber===totalPages-1 && currentPage<totalPages-2) return <span key=\"end-ellipsis\" className=\"ellipsis\"></span>;\r\n                      return null;\r\n                    }\r\n                    return (\r\n                      <button\r\n                        key={pageNumber}\r\n                        className={`page-btn ${pageNumber===currentPage?'active':''}`}\r\n                        onClick={()=>setPage(pageNumber)}\r\n                        aria-current={pageNumber===currentPage? 'page': undefined}\r\n                      >{pageNumber}</button>\r\n                    );\r\n                  })}\r\n                  <button disabled={currentPage===totalPages} onClick={()=>setPage(p=>Math.min(totalPages,p+1))} className=\"page-btn\" aria-label=\"Next page\"></button>\r\n                </div>\r\n              </div>\r\n            )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CeoProj;\r\n\r\n\r\n","import React, { useEffect, useState, useMemo } from 'react';\r\nimport api from '../../api/axiosInstance';\r\nimport { FaSearch, FaCheckCircle, FaTimesCircle } from 'react-icons/fa';\r\n\r\n// CEO Add Area / Assign Locations modal\r\n// Modernized UI: search, select all, clear, counts, sticky footer\r\nconst CeoAddArea = ({ onSuccess, onCancel }) => {\r\n  const [areaManagers, setAreaManagers] = useState([]);\r\n  const [locations, setLocations] = useState([]);\r\n  const [selectedManager, setSelectedManager] = useState('');\r\n  const [assignedLocations, setAssignedLocations] = useState([]);\r\n  const [originalAssigned, setOriginalAssigned] = useState([]);\r\n  const [loadingManagers, setLoadingManagers] = useState(true);\r\n  const [loadingLocations, setLoadingLocations] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [search, setSearch] = useState('');\r\n\r\n  // Fetch managers & locations\r\n  useEffect(() => {\r\n    let active = true;\r\n    (async () => {\r\n      try {\r\n        const [mgrRes, locRes] = await Promise.all([\r\n          api.get('/users/role/Area%20Manager'),\r\n          api.get('/locations')\r\n        ]);\r\n        if(!active) return;\r\n        setAreaManagers(Array.isArray(mgrRes.data)?mgrRes.data:[]);\r\n        setLocations(Array.isArray(locRes.data)?locRes.data:[]);\r\n      } catch (e) { if(active) setError('Failed to load data'); }\r\n      finally { if(active){ setLoadingManagers(false); setLoadingLocations(false);} }\r\n    })();\r\n    return ()=> { active=false; };\r\n  }, []);\r\n\r\n  // Fetch assigned locations when manager changes\r\n  useEffect(() => {\r\n    if(!selectedManager){ setAssignedLocations([]); setOriginalAssigned([]); return; }\r\n    let active = true;\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(`/users/${selectedManager}/locations`);\r\n        if(!active) return;\r\n        const ids = Array.isArray(data)? data.map(l=> l._id) : [];\r\n        setAssignedLocations(ids);\r\n        setOriginalAssigned(ids);\r\n      } catch (e) { if(active) setError('Failed to load assigned locations'); }\r\n    })();\r\n    return ()=> { active=false; };\r\n  }, [selectedManager]);\r\n\r\n  const toggleLocation = (locId) => {\r\n    setAssignedLocations(prev => prev.includes(locId) ? prev.filter(id => id !== locId) : [...prev, locId]);\r\n  };\r\n\r\n  const allVisibleIds = useMemo(() => {\r\n    return locations\r\n      .filter(l => !search || l.name.toLowerCase().includes(search.toLowerCase()) || l.region.toLowerCase().includes(search.toLowerCase()))\r\n      .map(l => l._id);\r\n  }, [locations, search]);\r\n\r\n  const allSelectedVisible = allVisibleIds.length>0 && allVisibleIds.every(id => assignedLocations.includes(id));\r\n  const partiallySelected = !allSelectedVisible && allVisibleIds.some(id => assignedLocations.includes(id));\r\n\r\n  const handleSelectAllVisible = () => {\r\n    if(allSelectedVisible){\r\n      // unselect all visible\r\n      setAssignedLocations(prev => prev.filter(id => !allVisibleIds.includes(id)));\r\n    } else {\r\n      setAssignedLocations(prev => Array.from(new Set([...prev, ...allVisibleIds])));\r\n    }\r\n  };\r\n\r\n  const isDirty = useMemo(() => {\r\n    if(assignedLocations.length !== originalAssigned.length) return true;\r\n    const setOrig = new Set(originalAssigned);\r\n    return assignedLocations.some(id => !setOrig.has(id));\r\n  }, [assignedLocations, originalAssigned]);\r\n\r\n  const filteredLocations = useMemo(() => {\r\n    return locations.filter(loc => !search || loc.name.toLowerCase().includes(search.toLowerCase()) || loc.region.toLowerCase().includes(search.toLowerCase()))\r\n      .sort((a,b)=> a.name.localeCompare(b.name));\r\n  }, [locations, search]);\r\n\r\n  const handleSave = async () => {\r\n    if(!selectedManager) return;\r\n    setSaving(true); setError('');\r\n    try {\r\n      await api.put(`/users/${selectedManager}/locations`, { locations: assignedLocations });\r\n      setOriginalAssigned(assignedLocations);\r\n      if(onSuccess) onSuccess();\r\n    } catch (e) {\r\n      setError('Failed to save locations');\r\n    } finally { setSaving(false); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"ceo-modal-card\">\r\n      <div className=\"modal-header-inline\">\r\n        <h2>Assign Locations</h2>\r\n        <button className=\"btn-text\" onClick={onCancel}></button>\r\n      </div>\r\n      <div className=\"form-row\">\r\n        <label className=\"form-label\" htmlFor=\"managerSelect\">Area Manager</label>\r\n        <select id=\"managerSelect\" className=\"input select w-full\" value={selectedManager} onChange={e=> setSelectedManager(e.target.value)} disabled={loadingManagers || saving}>\r\n          <option value=\"\">Select Area Manager...</option>\r\n          {areaManagers.map(am => <option key={am._id} value={am._id}>{am.name}</option>)}\r\n        </select>\r\n      </div>\r\n      {selectedManager && (\r\n        <>\r\n          <div className=\"locations-toolbar\">\r\n            <div className=\"search-box\">\r\n              <FaSearch />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search locations...\"\r\n                value={search}\r\n                onChange={e=> setSearch(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"toolbar-actions\">\r\n              <button className=\"btn-chip\" onClick={handleSelectAllVisible} disabled={!allVisibleIds.length}>\r\n                {allSelectedVisible ? 'Unselect Visible' : partiallySelected ? 'Select Remaining' : 'Select Visible'}\r\n              </button>\r\n              <button className=\"btn-chip\" onClick={()=> setAssignedLocations([])} disabled={!assignedLocations.length}>Clear All</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"locations-meta\">\r\n            <span className=\"count\">{assignedLocations.length} selected</span>\r\n            <span className=\"divider\" />\r\n            <span className=\"count subtle\">{filteredLocations.length} shown</span>\r\n          </div>\r\n          <div className=\"location-list\" role=\"group\" aria-label=\"Locations multi select\">\r\n            {loadingLocations ? (\r\n              <div className=\"loading-row\">Loading locations...</div>\r\n            ) : filteredLocations.length === 0 ? (\r\n              <div className=\"empty-row\">No locations match your search.</div>\r\n            ) : filteredLocations.map(loc => {\r\n              const checked = assignedLocations.includes(loc._id);\r\n              return (\r\n                <label key={loc._id} className={`location-item ${checked ? 'selected' : ''}`}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={checked}\r\n                    onChange={()=> toggleLocation(loc._id)}\r\n                  />\r\n                  <span className=\"loc-name\">{loc.name}</span>\r\n                  <span className=\"loc-region\">{loc.region}</span>\r\n                  {checked ? <FaCheckCircle className=\"state-icon ok\" /> : <FaTimesCircle className=\"state-icon muted\" />}\r\n                </label>\r\n              );\r\n            })}\r\n          </div>\r\n        </>\r\n      )}\r\n      {error && <div className=\"error-banner\">{error}</div>}\r\n      <div className=\"sticky-actions\">\r\n        <button className=\"btn-outline\" onClick={onCancel} disabled={saving}>Cancel</button>\r\n        <button className=\"btn-primary\" onClick={handleSave} disabled={!selectedManager || saving || !isDirty}>\r\n          {saving ? 'Saving...' : 'Save Changes'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CeoAddArea;\r\n","/**\n * @fileOverview Bar Chart\n */\nimport { generateCategoricalChart } from './generateCategoricalChart';\nimport { Bar } from '../cartesian/Bar';\nimport { XAxis } from '../cartesian/XAxis';\nimport { YAxis } from '../cartesian/YAxis';\nimport { formatAxisMap } from '../util/CartesianUtils';\nexport var BarChart = generateCategoricalChart({\n  chartName: 'BarChart',\n  GraphicalChild: Bar,\n  defaultTooltipEventType: 'axis',\n  validateTooltipEventTypes: ['axis', 'item'],\n  axisComponents: [{\n    axisType: 'xAxis',\n    AxisComp: XAxis\n  }, {\n    axisType: 'yAxis',\n    AxisComp: YAxis\n  }],\n  formatAxisMap: formatAxisMap\n});","import React from 'react';\r\nimport MaterialRequestListView from '../material/MaterialRequestListView';\r\nimport '../material/materialRequests.css';\r\n\r\nconst CeoMatRequestListWrapper = () => (\r\n  <MaterialRequestListView\r\n    role=\"CEO\"\r\n    fetchUrl=\"/requests\"\r\n    detailLinkBase=\"/ceo/material-request\"\r\n    rootClass=\"ceo-request-list\"\r\n    headerTitle=\"Material Requests\"\r\n    headerSubtitle=\"Organization-wide material requests overview\"\r\n    enableExport={true}\r\n    exportTitle=\"Material Requests Export (CEO View)\"\r\n  />\r\n);\r\n\r\nexport default CeoMatRequestListWrapper;\r\n","import React, { useState, useEffect, useMemo, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport '../style/ceo_style/Ceo_Dash.css';\r\nimport '../style/ceo_style/Ceo_ManpowerRequest.css';\r\nimport api from '../../api/axiosInstance';\r\nimport { FaSearch, FaDownload } from 'react-icons/fa';\r\nimport AppHeader from '../layout/AppHeader';\r\nimport { exportManpowerRequestsPdf } from '../../utils/manpowerRequestsPdf';\r\n\r\nconst ITEMS_PER_PAGE = 8;\r\n\r\nconst CeoManpowerRequestList = () => {\r\n  const navigate = useNavigate();\r\n  const userRef = useRef(null);\r\n  if (userRef.current === null) {\r\n    const stored = localStorage.getItem('user');\r\n    userRef.current = stored ? JSON.parse(stored) : null;\r\n  }\r\n  const user = userRef.current;\r\n\r\n  const [requests, setRequests] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [status, setStatus] = useState('All');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [layoutView, setLayoutView] = useState('cards');\r\n  const [exporting, setExporting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!user || user.role !== 'CEO') return;\r\n    let active = true;\r\n    const fetchAll = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const { data } = await api.get('/manpower-requests');\r\n        if (!active) return;\r\n        setRequests(Array.isArray(data) ? data : []);\r\n      } catch (err) {\r\n        if (!active) return;\r\n        console.error('Failed to load manpower requests:', err);\r\n        if (err.response && (err.response.status === 401 || err.response.status === 403)) {\r\n          setError('Session expired or unauthorized. Please login.');\r\n        } else {\r\n          setError('Failed to load manpower requests');\r\n        }\r\n      } finally {\r\n        if (active) {\r\n          setLoading(false);\r\n          setCurrentPage(1);\r\n        }\r\n      }\r\n    };\r\n    fetchAll();\r\n    return () => { active = false; };\r\n  }, [user]);\r\n\r\n  const filteredRequests = useMemo(() => {\r\n    let items = requests;\r\n    if (status !== 'All') {\r\n      if (status === 'Archived') {\r\n        items = items.filter(r => (r.status || 'Pending').toLowerCase().includes('archived'));\r\n      } else {\r\n        items = items.filter(r => (r.status || 'Pending').toLowerCase().includes(status.toLowerCase()));\r\n      }\r\n    } else {\r\n      // For 'All' filter, exclude archived items by default\r\n      items = items.filter(r => !(r.status || 'Pending').toLowerCase().includes('archived'));\r\n    }\r\n    if (searchTerm) {\r\n      const s = searchTerm.toLowerCase();\r\n      items = items.filter(r => {\r\n        const proj = r.project?.projectName || '';\r\n        const by = r.createdBy?.name || '';\r\n        const summary = (r.manpowers || []).map(m => `${m.quantity} ${m.type}`).join(', ');\r\n        return proj.toLowerCase().includes(s) || by.toLowerCase().includes(s) || summary.toLowerCase().includes(s) || (r.description || '').toLowerCase().includes(s);\r\n      });\r\n    }\r\n    return items;\r\n  }, [requests, status, searchTerm]);\r\n\r\n  const totalPages = Math.max(1, Math.ceil(filteredRequests.length / ITEMS_PER_PAGE));\r\n  const pageRows = useMemo(() => {\r\n    const start = (currentPage - 1) * ITEMS_PER_PAGE;\r\n    return filteredRequests.slice(start, start + ITEMS_PER_PAGE);\r\n  }, [filteredRequests, currentPage]);\r\n\r\n  const handleExportPdf = async () => {\r\n    try {\r\n      setExporting(true);\r\n      await exportManpowerRequestsPdf(filteredRequests, {\r\n        companyName: 'FadzTrack',\r\n        logoPath: `${process.env.PUBLIC_URL || ''}/images/Fadz-logo.png`,\r\n        exporterName: user?.name || 'Unknown',\r\n        exporterRole: user?.role || '',\r\n        filters: { status, searchTerm },\r\n        reportTitle: 'Manpower Requests Export (CEO View)',\r\n      });\r\n    } catch (error) {\r\n      console.error('Export failed:', error);\r\n      alert('Failed to export PDF');\r\n    } finally {\r\n      setExporting(false);\r\n    }\r\n  };\r\n\r\n  const getRequestBackgroundColor = (request) => {\r\n    const statusLower = request.status?.toLowerCase() || '';\r\n    if (statusLower.includes('pending') && request.acquisitionDate && new Date(request.acquisitionDate) < new Date()) {\r\n      return '#fef3c7';\r\n    }\r\n    if (statusLower.includes('pending')) return '#ffffff';\r\n    if (statusLower.includes('approved')) return '#fef3c7';\r\n    if (statusLower.includes('rejected') || statusLower.includes('cancel') || statusLower.includes('denied')) return '#fef2f2';\r\n    if (statusLower.includes('completed')) return '#ecfdf5';\r\n    return '#f9fafb';\r\n  };\r\n\r\n  const getStatusBadge = (request) => {\r\n    const s = (request.status || 'Pending').toLowerCase();\r\n    const isOverdue = s === 'pending' && request.acquisitionDate && new Date(request.acquisitionDate) < new Date();\r\n    if (isOverdue) return 'Overdue';\r\n    if (s.includes('archived')) return 'Archived';\r\n    if (s.includes('completed')) return 'Completed';\r\n    if (s.includes('approved')) return 'Approved';\r\n    if (s.includes('pending')) return 'Pending';\r\n    if (s.includes('reject') || s.includes('denied') || s.includes('cancel')) return 'Rejected';\r\n    if (s.includes('overdue')) return 'Overdue';\r\n    return 'Unknown';\r\n  };\r\n\r\n  const getStatusColor = (request) => {\r\n    const s = (request.status || 'Pending').toLowerCase();\r\n    const isOverdue = s === 'pending' && request.acquisitionDate && new Date(request.acquisitionDate) < new Date();\r\n    if (isOverdue) return '#d97706';\r\n    if (s.includes('archived')) return '#8b5cf6';\r\n    if (s.includes('completed')) return '#059669';\r\n    if (s.includes('approved')) return '#10b981';\r\n    if (s.includes('pending')) return '#f59e0b';\r\n    if (s.includes('reject') || s.includes('denied') || s.includes('cancel')) return '#ef4444';\r\n    if (s.includes('overdue')) return '#d97706';\r\n    return '#6b7280';\r\n  };\r\n\r\n  const summaryCounts = useMemo(() => {\r\n    let pending = 0, approved = 0, completed = 0, rejected = 0, overdue = 0, archived = 0;\r\n    requests.forEach(r => {\r\n      const s = (r.status || 'Pending').toLowerCase();\r\n      const isOver = s === 'pending' && r.acquisitionDate && new Date(r.acquisitionDate) < new Date();\r\n      if (s.includes('archived')) archived++; else if (s.includes('completed')) completed++; else if (s.includes('approved')) approved++; else if (s.includes('reject') || s.includes('denied') || s.includes('cancel')) rejected++; else if (isOver || s.includes('overdue')) overdue++; else pending++;\r\n    });\r\n    return { total: requests.length, pending, approved, rejected, overdue, completed, archived };\r\n  }, [requests]);\r\n\r\n  const statusCounts = useMemo(() => ({\r\n    All: summaryCounts.total - summaryCounts.archived, // Exclude archived from All count\r\n    Pending: summaryCounts.pending,\r\n    Overdue: summaryCounts.overdue,\r\n    Approved: summaryCounts.approved,\r\n    Completed: summaryCounts.completed,\r\n    Rejected: summaryCounts.rejected,\r\n    Archived: summaryCounts.archived\r\n  }), [summaryCounts]);\r\n\r\n  if (!user || user.role !== 'CEO') {\r\n    return (\r\n      <div style={{ padding: 24 }}>\r\n        <h2>Forbidden</h2>\r\n        <p>You must be a CEO user to view this page.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-container ceo-manpower-requests-page\">\r\n      <AppHeader roleSegment=\"ceo\" />\r\n      <main className=\"dashboard-main\">\r\n        <div className=\"page-container\">\r\n          <div className=\"dashboard-card ceo-mr-header-card\">\r\n            <div className=\"card-header mr-header-row\">\r\n              <div className=\"mr-header-texts\">\r\n                <h1 className=\"card-title\">Manpower Requests</h1>\r\n                <p className=\"card-subtitle\">Organization-wide manpower requests overview</p>\r\n              </div>\r\n              <div className=\"layout-toggle-wrapper\">\r\n                <button onClick={()=>setLayoutView(v=> v==='cards' ? 'table' : 'cards')} className=\"btn-secondary toggle-layout-btn\">\r\n                  {layoutView === 'cards' ? 'Table View' : 'Card View'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-body mr-filters-row\">\r\n              <div className=\"filter-tabs compact\">\r\n                {['All','Pending','Overdue','Approved','Completed','Rejected','Archived'].map(tab => (\r\n                  <button key={tab} className={`filter-tab ${status === tab ? 'active' : ''}`} onClick={() => {setStatus(tab); setCurrentPage(1);}}>\r\n                    <span>{tab}</span>\r\n                    <span className=\"count\">{statusCounts[tab] ?? 0}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <div className=\"search-wrapper stretch\">\r\n                <FaSearch className=\"search-icon\" />\r\n                <input type=\"text\" placeholder=\"Search requests...\" value={searchTerm} onChange={(e)=>{setSearchTerm(e.target.value); setCurrentPage(1);}} className=\"search-input\" />\r\n              </div>\r\n              <button\r\n                onClick={handleExportPdf}\r\n                disabled={exporting || filteredRequests.length === 0}\r\n                className=\"btn-primary export-btn\"\r\n                style={{ display: 'flex', alignItems: 'center', gap: '8px', padding: '8px 16px', minWidth: 'auto' }}\r\n              >\r\n                <FaDownload />\r\n                {exporting ? 'Exporting...' : 'Export PDF'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"dashboard-card ceo-mr-summary-card\">\r\n            <div className=\"card-header\"><h3 className=\"card-title-sm\">Summary</h3></div>\r\n            <div className=\"mr-summary-grid\">\r\n              {[{ label:'Total', value: summaryCounts.total, color:'#334155' },\r\n                { label:'Pending', value: summaryCounts.pending, color:'#f59e0b' },\r\n                { label:'Overdue', value: summaryCounts.overdue, color:'#d97706' },\r\n                { label:'Approved', value: summaryCounts.approved, color:'#10b981' },\r\n                { label:'Completed', value: summaryCounts.completed, color:'#059669' },\r\n                { label:'Rejected', value: summaryCounts.rejected, color:'#ef4444' },\r\n                { label:'Archived', value: summaryCounts.archived, color:'#8b5cf6' }\r\n              ].map(c => (\r\n                <div key={c.label} className=\"mr-summary-item\">\r\n                  <span className=\"mr-summary-label\">{c.label}</span>\r\n                  <span className=\"mr-summary-value\" style={{ color:c.color }}>{c.value}</span>\r\n                  <div className=\"mr-summary-bar\" style={{ background:c.color }} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"dashboard-card ceo-mr-list-card\">\r\n            <div className=\"card-header list-header\"><h3 className=\"card-title-sm\">Requests <span className=\"muted\">({filteredRequests.length})</span></h3></div>\r\n            <div className={`requests-grid ceo-mr-grid ${layoutView === 'table' ? 'table-view' : ''}`}>            \r\n              {loading ? (\r\n                <div className=\"loading-state\"><div className=\"loading-spinner\"></div><p>Loading manpower requests...</p></div>\r\n              ) : error ? (\r\n                <div className=\"error-state\"><p>{error}</p></div>\r\n              ) : pageRows.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                  <div className=\"empty-icon\"></div>\r\n                  <h3>No manpower requests found</h3>\r\n                  <p>No requests match your current filters. Try adjusting your search criteria.</p>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  {layoutView === 'table' && (\r\n                    <div className=\"mr-table-header\" role=\"row\" aria-label=\"Table Header\">\r\n                      <div>Project</div>\r\n                      <div>Requester</div>\r\n                      <div>Description</div>\r\n                      <div>Manpower</div>\r\n                      <div>Target</div>\r\n                      <div>Dur</div>\r\n                      <div>Created</div>\r\n                      <div>Status</div>\r\n                    </div>\r\n                  )}\r\n                  {pageRows.map(request => {\r\n                    const summary = (request.manpowers || []).map(m=>`${m.quantity} ${m.type}`).join(', ');\r\n                    const badgeLabel = getStatusBadge(request);\r\n                    const badgeColor = getStatusColor(request);\r\n                    if (layoutView === 'table') {\r\n                      return (\r\n                        <div\r\n                          key={request._id}\r\n                          className=\"mr-table-row\"\r\n                          role=\"row\"\r\n                          onClick={() => navigate(`/ceo/manpower-request/${request._id}`)}\r\n                          style={{ cursor: 'pointer' }}\r\n                          title=\"View details\"\r\n                        >\r\n                          <div className=\"rt-title\" title={request.project?.projectName || '(No Project Name)'}>{request.project?.projectName || '(No Project Name)'}</div>\r\n                          <div className=\"rt-req\" title={request.createdBy?.name || 'Unknown'}>{request.createdBy?.name || 'Unknown'}</div>\r\n                          <div className=\"rt-desc\" title={request.description || 'No description'}>{request.description || 'No description'}</div>\r\n                          <div className=\"rt-man\" title={summary || ''}>{summary || ''}</div>\r\n                          <div className=\"rt-date\" title=\"Target Date\">{request.acquisitionDate ? new Date(request.acquisitionDate).toLocaleDateString() : ''}</div>\r\n                          <div className=\"rt-date\" title=\"Duration\">{request.duration || ''}d</div>\r\n                          <div className=\"rt-date\" title=\"Created\">{request.createdAt ? new Date(request.createdAt).toLocaleDateString() : ''}</div>\r\n                          <div className=\"rt-btn\"><span className={`status-chip ${badgeLabel.toLowerCase()}`}>{badgeLabel}</span></div>\r\n                        </div>\r\n                      );\r\n                    }\r\n                    return (\r\n                      <div className={`request-card ceo-mr-card`} key={request._id}>\r\n                        <div className=\"card-body\">\r\n                          <div className=\"mr-card-top-row\">\r\n                            <h3 className=\"request-title\" title={request.project?.projectName || '(No Project Name)'}>{request.project?.projectName || '(No Project Name)'}</h3>\r\n                            <span className={`status-chip ${badgeLabel.toLowerCase()}`}>{badgeLabel}</span>\r\n                          </div>\r\n                          <p className=\"request-description\" title={request.description || 'No description provided'}>{request.description || 'No description provided'}</p>\r\n                          <div className=\"request-meta\">\r\n                            <div className=\"meta-item\"><span className=\"meta-label\">Requested by:</span><span className=\"meta-value\" title={request.createdBy?.name || 'Unknown'}>{request.createdBy?.name || 'Unknown'}</span></div>\r\n                            <div className=\"meta-item\"><span className=\"meta-label\">Manpower:</span><span className=\"meta-value\" title={summary || ''}>{summary || ''}</span></div>\r\n                            <div className=\"meta-item\"><span className=\"meta-label\">Date:</span><span className=\"meta-value\">{request.createdAt ? new Date(request.createdAt).toLocaleDateString() : ''}</span></div>\r\n                            <div className=\"meta-item\"><span className=\"meta-label\">Target:</span><span className=\"meta-value\">{request.acquisitionDate ? new Date(request.acquisitionDate).toLocaleDateString() : ''}</span></div>\r\n                            <div className=\"meta-item\"><span className=\"meta-label\">Duration:</span><span className=\"meta-value\">{request.duration || ''} d</span></div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"card-footer\">\r\n                          <Link to={`/ceo/manpower-request/${request._id}`} className=\"view-details-btn\">View Details</Link>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </>\r\n              )}\r\n            </div>\r\n            {filteredRequests.length > 0 && (\r\n              <div className=\"pagination-section inside-card\">\r\n                <div className=\"pagination-info\">Showing {((currentPage - 1) * ITEMS_PER_PAGE) + 1} to {Math.min(currentPage * ITEMS_PER_PAGE, filteredRequests.length)} of {filteredRequests.length} entries</div>\r\n                <div className=\"pagination-controls\">\r\n                  <button onClick={()=>setCurrentPage(p=>Math.max(p-1,1))} disabled={currentPage===1} className=\"pagination-btn\">Previous</button>\r\n                  {Array.from({ length: totalPages }, (_, i) => i + 1).map(page => (\r\n                    <button key={page} className={`pagination-btn ${page === currentPage ? 'active' : ''}`} onClick={()=>setCurrentPage(page)}>{page}</button>\r\n                  ))}\r\n                  <button onClick={()=>setCurrentPage(p=>Math.min(p+1,totalPages))} disabled={currentPage===totalPages} className=\"pagination-btn\">Next</button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CeoManpowerRequestList;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport api from '../../api/axiosInstance';\r\nimport AppHeader from '../layout/AppHeader';\r\nimport {\r\n  FaTachometerAlt,\r\n  FaComments,\r\n  FaBoxes,\r\n  FaProjectDiagram,\r\n  FaClipboardList,\r\n  FaChartBar,\r\n  FaArrowLeft,\r\n  FaUsers,\r\n  FaFileAlt,\r\n  FaClock,\r\n  FaUserTie,\r\n  FaCheckCircle,\r\n  FaExclamationTriangle,\r\n  FaHourglassHalf\r\n} from 'react-icons/fa';\r\nimport '../style/ceo_style/Ceo_ManpowerRequestDetail.css';\r\n\r\nconst CeoManpowerRequestDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const userRef = useRef(null);\r\n  if (userRef.current === null) {\r\n    const stored = localStorage.getItem('user');\r\n    userRef.current = stored ? JSON.parse(stored) : null;\r\n  }\r\n  const user = userRef.current;\r\n  const token = localStorage.getItem('token');\r\n\r\n  // Header handled by AppHeader\r\n  const [request, setRequest] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // Hooks must always run; gate logic inside\r\n  // (Profile dropdown logic removed)\r\n\r\n  useEffect(() => {\r\n    if (!user || user.role !== 'CEO') return;\r\n    let active = true;\r\n    const load = async () => {\r\n      setLoading(true); setError('');\r\n      try {\r\n        const { data } = await api.get(`/manpower-requests/${id}`, { headers: { Authorization: `Bearer ${token}` }});\r\n        if (!active) return;\r\n        setRequest(data);\r\n      } catch (err) {\r\n        if (!active) return;\r\n        console.error('Failed to load request', err);\r\n        setError('Failed to load request details');\r\n      } finally { if (active) setLoading(false); }\r\n    };\r\n    load();\r\n    return () => { active = false; };\r\n  }, [id, token]);\r\n\r\n  // (Logout handled by AppHeader)\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch(status?.toLowerCase()) {\r\n      case 'approved': return <FaCheckCircle className=\"status-icon approved\" />;\r\n      case 'rejected': return <FaExclamationTriangle className=\"status-icon rejected\" />;\r\n      case 'pending': return <FaHourglassHalf className=\"status-icon pending\" />;\r\n      case 'completed': return <FaCheckCircle className=\"status-icon approved\" />;\r\n      default: return <FaHourglassHalf className=\"status-icon pending\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = () => {\r\n    const s = (request?.status || 'Pending').toLowerCase();\r\n    const isOverdue = s === 'pending' && request.acquisitionDate && new Date(request.acquisitionDate) < new Date();\r\n    if (isOverdue) return { label:'Overdue', color:'#d97706' };\r\n    if (s.includes('completed')) return { label:'Completed', color:'#059669' };\r\n    if (s.includes('approved')) return { label:'Approved', color:'#10b981' };\r\n    if (s.includes('pending')) return { label:'Pending', color:'#f59e0b' };\r\n    if (s.includes('reject') || s.includes('denied') || s.includes('cancel')) return { label:'Rejected', color:'#ef4444' };\r\n    if (s.includes('overdue')) return { label:'Overdue', color:'#d97706' };\r\n    return { label:'Unknown', color:'#6b7280' };\r\n  };\r\n\r\n  if (!user || user.role !== 'CEO') {\r\n    return <div style={{ padding:24 }}><h2>Forbidden</h2><p>CEO access only.</p></div>;\r\n  }\r\n  if (loading) return (<div className=\"dashboard-container\"><div className=\"loading-container\"><div className=\"loading-spinner\" /><p>Loading manpower request...</p></div></div>);\r\n  if (error || !request) return (<div className=\"dashboard-container\"><div className=\"error-container\"><FaExclamationTriangle className=\"error-icon\" /><p>{error || 'Request not found.'}</p></div></div>);\r\n\r\n  return (\r\n    <div className=\"dashboard-container ceo-mr-detail\">\r\n      <AppHeader roleSegment=\"ceo\" />\r\n\r\n      <main className=\"dashboard-main\">\r\n        <div className=\"content-wrapper\">\r\n          <div className=\"page-header\">\r\n            <div className=\"page-header-content\">\r\n              <button onClick={() => navigate(-1)} className=\"back-button\"><FaArrowLeft /><span>Back</span></button>\r\n              <div className=\"page-title-section\">\r\n                <h1 className=\"page-title\">Manpower Request Details</h1>\r\n                <p className=\"page-subtitle\">Executive overview for request #{request.requestNumber || id?.slice(-3)}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`status-metrics-card ${request.status?.toLowerCase()}`}>\r\n            <div className=\"smc-header\">\r\n              <div className=\"smc-status-icon\">{getStatusIcon(request.status)}</div>\r\n              <div className=\"smc-texts\">\r\n                <h3>{(request.status || 'Pending')} Request</h3>\r\n                <p>{request.description || 'No description provided'}</p>\r\n              </div>\r\n              {request.status?.toLowerCase() === 'pending' && request.acquisitionDate && new Date(request.acquisitionDate) < new Date() && (\r\n                <span className=\"badge-overdue\">Overdue</span>\r\n              )}\r\n            </div>\r\n            <div className=\"smc-metrics\">\r\n              {(() => {\r\n                const badge = getStatusBadge();\r\n                const manpowerTotal = Array.isArray(request.manpowers) ? request.manpowers.reduce((acc,m)=>acc + (Number(m.quantity)||0),0) : 0;\r\n                const metrics = [\r\n                  { label:'Status', value:badge.label },\r\n                  { label:'Types', value: Array.isArray(request.manpowers) ? request.manpowers.length : 0 },\r\n                  { label:'Quantity', value: manpowerTotal },\r\n                  { label:'Duration', value: `${request.duration || 0}d` },\r\n                  { label:'Return', value: request.returnDate ? 'Yes' : 'No' }\r\n                ];\r\n                return metrics.map(m => (\r\n                  <div key={m.label} className=\"smc-metric\">\r\n                    <span className=\"m-label\">{m.label}</span>\r\n                    <span className=\"m-value\">{m.value}</span>\r\n                  </div>\r\n                ));\r\n              })()}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"info-grid\">\r\n            <div className=\"info-card\">\r\n              <div className=\"card-header\"><FaFileAlt className=\"card-icon\" /><h3>Request Information</h3></div>\r\n              <div className=\"card-content\">\r\n                <div className=\"info-row\"><span className=\"info-label\">Request Number:</span><span className=\"info-value\">#{request.requestNumber || id?.slice(-3)}</span></div>\r\n                <div className=\"info-row\"><span className=\"info-label\">Created By:</span><span className=\"info-value\"><FaUserTie className=\"inline-icon\" />{request.createdBy?.name || 'Unknown'}</span></div>\r\n                <div className=\"info-row\"><span className=\"info-label\">Project:</span><span className=\"info-value\"><FaProjectDiagram className=\"inline-icon\" />{request.project?.projectName || 'Unknown Project'}</span></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"info-card\">\r\n              <div className=\"card-header\"><FaClock className=\"card-icon\" /><h3>Timeline</h3></div>\r\n              <div className=\"card-content\">\r\n                <div className=\"info-row\"><span className=\"info-label\">Target Date:</span><span className=\"info-value\">{request.acquisitionDate ? new Date(request.acquisitionDate).toLocaleDateString() : 'Not set'}</span></div>\r\n                <div className=\"info-row\"><span className=\"info-label\">Duration:</span><span className=\"info-value\">{request.duration} days</span></div>\r\n                {request.returnDate && <div className=\"info-row\"><span className=\"info-label\">Return Date:</span><span className=\"info-value\">{new Date(request.returnDate).toLocaleDateString()}</span></div>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"requirements-card\">\r\n            <div className=\"card-header\"><FaUsers className=\"card-icon\" /><h3>Manpower Requirements</h3></div>\r\n            <div className=\"card-content\">\r\n              {Array.isArray(request.manpowers) && request.manpowers.length > 0 ? (\r\n                <div className=\"manpower-grid\">\r\n                  {request.manpowers.map((mp,i)=>(\r\n                    <div key={i} className=\"manpower-item\">\r\n                      <div className=\"manpower-quantity\">{mp.quantity}</div>\r\n                      <div className=\"manpower-type\">{mp.type}</div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : <div className=\"no-manpower\"><p>No manpower types listed</p></div>}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"description-card\">\r\n            <div className=\"card-header\"><FaFileAlt className=\"card-icon\" /><h3>Request Description</h3></div>\r\n            <div className=\"card-content\"><div className=\"description-text\">{request.description || 'No description provided'}</div></div>\r\n          </div>\r\n\r\n          <div className=\"bottom-actions\">\r\n            <button onClick={() => navigate(-1)} className=\"back-btn\"><FaArrowLeft /><span>Go Back</span></button>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CeoManpowerRequestDetail;\r\n","import React from 'react';\r\nimport ProjectView from '../project/ProjectView';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default function CeoViewProject(){\r\n\tconst { id } = useParams();\r\n\tconst overrides = {\r\n\t\t'View Project': `/ceo/proj/${id}`,\r\n\t\t'Reports': `/ceo/progress-report/${id}`\r\n\t};\r\n\treturn <ProjectView role=\"ceo\" navPathOverrides={overrides} useUnifiedHeader={true} />;\r\n}\r\n","// CEO Material Request Detail now reuses the unified MaterialRequestDetailView (same UI as IT)\r\n// to ensure consistent styling and layout across roles.\r\nimport React from 'react';\r\nimport MaterialRequestDetailView from '../material/MaterialRequestDetailView';\r\n\r\nconst CeoMaterialRequestDetail = () => (\r\n  <MaterialRequestDetailView\r\n    role=\"CEO\"\r\n    headerTitle=\"Material Request Detail\"\r\n    headerSubtitle=\"Full lifecycle view\"\r\n    rootClass=\"ceo-mr-request-detail\"\r\n  />\r\n);\r\n\r\nexport default CeoMaterialRequestDetail;\r\n","// Unified CeoChat wrapper using AreaChat implementation\r\nimport React from 'react';\r\nimport AreaChat from './AreaChat';\r\n\r\nexport default function CeoChat(){\r\n  return <AreaChat baseSegment=\"ceo\" />;\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { ResponsiveContainer, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip } from 'recharts';\r\nimport { createPortal } from 'react-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport '../style/ceo_style/Ceo_Dash.css';\r\nimport api from '../../api/axiosInstance';\r\nimport CeoAddArea from './CeoAddArea';\r\nimport AppHeader from '../layout/AppHeader';\r\n\r\n// Icons (same set used by AM for consistent look)\r\nimport {\r\n  FaUsers,\r\n  FaProjectDiagram,\r\n  FaCalendarAlt,\r\n  FaArrowRight,\r\n  FaChevronDown,\r\n  FaChevronUp,\r\n  FaMapMarkerAlt,\r\n  FaChevronRight,\r\n  FaChevronLeft,\r\n  FaBoxes,\r\n  FaChartBar,\r\n  FaBars\r\n} from 'react-icons/fa';\r\n\r\nconst CeoDash = () => {\r\n  // Stable user\r\n  const userRef = useRef(null);\r\n  if (userRef.current === null) {\r\n    const raw = localStorage.getItem('user');\r\n    userRef.current = raw ? JSON.parse(raw) : null;\r\n  }\r\n  const user = userRef.current;\r\n  const [userName] = useState(user?.name || '');\r\n  const [userRole] = useState(user?.role || '');\r\n\r\n  // Header now unified via AppHeader\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  // Data state\r\n  const [locations, setLocations] = useState([]);\r\n  const [allProjects, setAllProjects] = useState([]);\r\n  const [enrichedAllProjects, setEnrichedAllProjects] = useState([]);\r\n  const [expandedLocations, setExpandedLocations] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Material Requests\r\n  const [materialRequests, setMaterialRequests] = useState([]);\r\n  const [materialRequestsLoading, setMaterialRequestsLoading] = useState(true);\r\n\r\n  // Requests\r\n  const [requestsError, setRequestsError] = useState(null);\r\n\r\n  // Metrics\r\n  const [projectMetrics, setProjectMetrics] = useState([]);\r\n  const [metricsLoading, setMetricsLoading] = useState(true);\r\n  // pagination removed; we keep horizontal scroll of all items\r\n\r\n  const [showAddAreaModal, setShowAddAreaModal] = useState(false);\r\n  const [selectedArea, setSelectedArea] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('');\r\n  const [locationSearch, setLocationSearch] = useState('');\r\n\r\n  // Initial load: locations, projects, requests\r\n  useEffect(() => {\r\n    let isActive = true;\r\n    const controller = new AbortController();\r\n\r\n    const loadAll = async () => {\r\n      try {\r\n        const [locRes, projRes, matRes] = await Promise.all([\r\n          api.get('/locations', { signal: controller.signal }),\r\n          api.get('/projects', { signal: controller.signal }),\r\n          api.get('/requests', { signal: controller.signal })\r\n        ]);\r\n\r\n        if (!isActive) return;\r\n        const locs = Array.isArray(locRes.data) ? locRes.data : [];\r\n        const projs = Array.isArray(projRes.data) ? projRes.data : [];\r\n        const mats = Array.isArray(matRes.data) ? matRes.data : [];\r\n        setLocations(locs);\r\n        setAllProjects(projs);\r\n        setMaterialRequests(mats);\r\n        setMaterialRequestsLoading(false);\r\n        setRequestsError(null);\r\n\r\n        // Enrich projects with location object + display fields\r\n        const enriched = projs.map((p) => {\r\n          const loc = typeof p.location === 'object' && p.location?.name\r\n            ? p.location\r\n            : locs.find(l => l._id === (p.location?._id || p.location));\r\n          return {\r\n            ...p,\r\n            location: loc ? { ...loc } : { name: 'Unknown Location', region: '' },\r\n            name: p.projectName,\r\n            engineer: p.projectmanager?.name || 'Not Assigned',\r\n          };\r\n        });\r\n        setEnrichedAllProjects(enriched);\r\n      } catch (err) {\r\n        if (!isActive) return;\r\n        setRequestsError('Error loading data');\r\n      } finally {\r\n        if (isActive) setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadAll();\r\n    return () => { isActive = false; controller.abort(); };\r\n  }, []);\r\n\r\n  // Compute per-project metrics replicating Area Manager dashboard logic (reports first, then fallback to contributions)\r\n  useEffect(() => {\r\n    if (!enrichedAllProjects.length) { setProjectMetrics([]); return; }\r\n    let cancelled = false;\r\n    setMetricsLoading(true);\r\n\r\n    const buildMetrics = async () => {\r\n    const metrics = await Promise.all(enrichedAllProjects.map(async (project) => {\r\n        try {\r\n          const totalPics = Array.isArray(project.pic) ? project.pic.length : 0;\r\n      let avg = 0; // running average (precise)\r\n      let reportingPics = 0; let pendingPics = totalPics; let latestDate = null; let picContributions = []; let aiRisk = '';\r\n\r\n          // 1. Fetch project reports (primary source like AM dashboard)\r\n          try {\r\n            const { data: repData } = await api.get(`/projects/${project._id}/reports`);\r\n            const list = repData?.reports || [];\r\n            if (list.length) {\r\n              const sorted = [...list].sort((a,b)=> new Date(b.uploadedAt||0) - new Date(a.uploadedAt||0));\r\n              latestDate = sorted[0]?.uploadedAt || null;\r\n              const byUser = new Map();\r\n              for (const r of sorted) {\r\n                const key = r.uploadedBy || r.uploadedByName || r._id;\r\n                if (!byUser.has(key)) byUser.set(key, r); // keep newest per user\r\n              }\r\n              const distinct = [...byUser.values()];\r\n              const valsRaw = distinct\r\n                .map(r => {\r\n                  const ai = r?.ai || {};\r\n                  const rawVal = ai.pic_contribution_percent_raw;\r\n                  const legacyVal = ai.pic_contribution_percent;\r\n                  let num = null;\r\n                  if (rawVal !== undefined && rawVal !== null) {\r\n                    const n = typeof rawVal === 'string' ? parseFloat(rawVal.toString().replace(/[^0-9.]+/g,'')) : Number(rawVal);\r\n                    if (isFinite(n)) num = n;\r\n                  } else if (legacyVal !== undefined && legacyVal !== null) {\r\n                    const n = typeof legacyVal === 'string' ? parseFloat(legacyVal.toString().replace(/[^0-9.]+/g,'')) : Number(legacyVal);\r\n                    if (isFinite(n)) num = n;\r\n                  }\r\n                  return num;\r\n                })\r\n                .filter(v => v !== null && v >= 0 && v <= 100);\r\n              let vals = valsRaw;\r\n              if (vals.length) {\r\n                // Headcount average: sum of reported contributions divided by total assigned PICs (missing = 0)\r\n                const sum = vals.reduce((s,v)=> s+v,0);\r\n                avg = totalPics > 0 ? (sum / totalPics) : 0;\r\n              }\r\n              reportingPics = distinct.length; pendingPics = totalPics > 0 ? Math.max(0, totalPics - reportingPics) : 0;\r\n              picContributions = distinct.map(r => {\r\n                const ai = r?.ai || {};\r\n                const rawVal = ai.pic_contribution_percent_raw;\r\n                const legacyVal = ai.pic_contribution_percent;\r\n                let chosen = 0;\r\n                if (rawVal !== undefined && rawVal !== null) {\r\n                  const n = typeof rawVal === 'string' ? parseFloat(rawVal.toString().replace(/[^0-9.]+/g,'')) : Number(rawVal);\r\n                  if (isFinite(n)) chosen = n;\r\n                } else if (legacyVal !== undefined && legacyVal !== null) {\r\n                  const n = typeof legacyVal === 'string' ? parseFloat(legacyVal.toString().replace(/[^0-9.]+/g,'')) : Number(legacyVal);\r\n                  if (isFinite(n)) chosen = n;\r\n                }\r\n                return { picId: r.uploadedBy || r._id, picName: r.uploadedByName || 'Unknown', contribution: Math.round(chosen), hasReport: true, lastReportDate: r.uploadedAt || null };\r\n              });\r\n\r\n              // Risk extraction (prefer realistic critical path analysis first report that contains it)\r\n              for (const rep of distinct) {\r\n                const ai = rep?.ai;\r\n                const cpa = Array.isArray(ai?.critical_path_analysis) ? ai.critical_path_analysis : [];\r\n                const realistic = cpa.find(c => (c?.path_type || '').toLowerCase() === 'realistic');\r\n                aiRisk = (realistic?.risk || ai?.risk || '').toString();\r\n                if (aiRisk) break;\r\n              }\r\n            }\r\n          } catch { /* ignore, fallback below */ }\r\n\r\n          // 2. Fallback to aggregated contributions endpoint if avg still 0\r\n          if (avg === 0) {\r\n            try {\r\n              const { data: contrib } = await api.get(`/daily-reports/project/${project._id}/pic-contributions`);\r\n              if (contrib) {\r\n                if (!latestDate) {\r\n                  const ld = (contrib.picContributions || []).filter(p => p.lastReportDate).map(p => new Date(p.lastReportDate)).sort((a,b)=> b-a)[0];\r\n                  latestDate = ld ? ld.toISOString() : latestDate;\r\n                }\r\n                if (contrib.averageContribution) {\r\n                  // Backend already returns headcount average (missing PICs = 0)\r\n                  avg = contrib.averageContribution;\r\n                }\r\n                if (!reportingPics) reportingPics = contrib.reportingPics || 0;\r\n                if (totalPics && pendingPics === totalPics) pendingPics = contrib.pendingPics ?? pendingPics;\r\n                if (!picContributions.length) picContributions = contrib.picContributions || [];\r\n              }\r\n            } catch { /* ignore */ }\r\n          }\r\n\r\n          // 3. (Optional) Legacy progress endpoint fallback if still 0 (additional safety)\r\n          if (Math.round(avg) === 0 && reportingPics === 0) {\r\n            try {\r\n              const { data: legacy } = await api.get(`/daily-reports/project/${project._id}/progress`);\r\n              const segs = Array.isArray(legacy?.progress) ? legacy.progress : [];\r\n              const completed = segs.find(s => /completed/i.test(s.name))?.value || 0;\r\n              const inProg = segs.find(s => /in progress/i.test(s.name))?.value || 0;\r\n              const approx = Math.round(Math.min(100, Math.max(0, completed + inProg * 0.5)));\r\n              if (approx > 0) avg = approx;\r\n            } catch { /* ignore */ }\r\n          }\r\n\r\n            let status = 'ontrack';\r\n          if (pendingPics > 0 && totalPics > 1) status = 'pending';\r\n          else if (avg < 50) status = 'regressing';\r\n          const latestDateObj = latestDate ? new Date(latestDate) : null;\r\n          if (latestDateObj && (Date.now() - latestDateObj.getTime()) > 3 * 24 * 60 * 60 * 1000) status = 'stale';\r\n          const picNames = (picContributions || []).map(p => p.hasReport ? p.picName : `${p.picName} (pending)`);\r\n\r\n          return {\r\n            projectId: project._id,\r\n            projectName: project.name,\r\n            pm: project.engineer,\r\n            area: project.location?.name || 'Unknown Area',\r\n            progressPrecise: Number(avg.toFixed(2)),\r\n            progress: Math.round(avg),\r\n            totalPics,\r\n            latestDate: latestDateObj,\r\n            status,\r\n            waitingForAll: pendingPics > 0 && totalPics > 1,\r\n            picNames,\r\n            aiRisk,\r\n            reportingPics,\r\n            pendingPics,\r\n            picContributions\r\n          };\r\n        } catch (err) {\r\n          return {\r\n            projectId: project._id,\r\n            projectName: project.name,\r\n            pm: project.engineer,\r\n            area: project.location?.name || 'Unknown Area',\r\n            progressPrecise: 0,\r\n            progress: 0,\r\n            totalPics: 0,\r\n            latestDate: null,\r\n            status: 'stale',\r\n            waitingForAll: false,\r\n            picNames: [],\r\n            picContributions: []\r\n          };\r\n        }\r\n      }));\r\n\r\n      metrics.sort((a,b)=> {\r\n        if (!a.latestDate && !b.latestDate) return 0;\r\n        if (!a.latestDate) return 1;\r\n        if (!b.latestDate) return -1;\r\n        return new Date(b.latestDate) - new Date(a.latestDate);\r\n      });\r\n\r\n      if (!cancelled) {\r\n        setProjectMetrics(metrics);\r\n        setMetricsLoading(false);\r\n      }\r\n    };\r\n\r\n    buildMetrics();\r\n    return () => { cancelled = true; };\r\n  }, [enrichedAllProjects]);\r\n\r\n  // Listen for global projectReportsUpdated to update per-project metrics incrementally\r\n  useEffect(()=>{\r\n    const handler = (e)=>{\r\n      const projectId = e?.detail?.projectId; if(!projectId) return;\r\n      // Find the project in enrichedAllProjects; if absent ignore\r\n      const project = enrichedAllProjects.find(p=> String(p._id)===String(projectId));\r\n      if(!project) return;\r\n      (async()=>{\r\n        try {\r\n          const totalPics = Array.isArray(project.pic)? project.pic.length : 0;\r\n          let avg=0; let reportingPics=0; let pendingPics=totalPics; let latestDate=null; let picContributions=[]; let aiRisk='';\r\n          const { data: repData } = await api.get(`/projects/${projectId}/reports`);\r\n          const list = repData?.reports||[];\r\n          if(list.length){\r\n            const sorted=[...list].sort((a,b)=> new Date(b.uploadedAt||0)-new Date(a.uploadedAt||0));\r\n            latestDate = sorted[0]?.uploadedAt||null;\r\n            const byUser=new Map();\r\n            for(const r of sorted){ const key=r.uploadedBy||r.uploadedByName||r._id; if(!byUser.has(key)) byUser.set(key,r); }\r\n            const distinct=[...byUser.values()];\r\n            const vals = distinct.map(r=>{ const ai=r.ai||{}; const raw=Number(ai.pic_contribution_percent_raw); const legacy=Number(ai.pic_contribution_percent); if(isFinite(raw)&&raw>=0) return raw; if(isFinite(legacy)&&legacy>=0) return legacy; return 0; }).filter(v=> isFinite(v)&&v>=0);\r\n            if(vals.length){ const sum=vals.reduce((s,v)=> s+v,0); avg = totalPics>0? (sum/totalPics):0; }\r\n            reportingPics=distinct.length; pendingPics= totalPics>0? Math.max(0,totalPics-reportingPics):0;\r\n            picContributions = distinct.map(r=>{ const ai=r.ai||{}; const raw=Number(ai.pic_contribution_percent_raw); const legacy=Number(ai.pic_contribution_percent); const chosen=isFinite(raw)&&raw>=0? raw : (isFinite(legacy)&&legacy>=0? legacy : 0); return { picId:r.uploadedBy||r._id, picName:r.uploadedByName||'Unknown', contribution:Math.round(chosen), hasReport:true, lastReportDate:r.uploadedAt||null }; });\r\n          }\r\n          setProjectMetrics(prev=> prev.map(m=> m.projectId===projectId? { ...m, progressPrecise: Number(avg.toFixed(2)), progress: Math.round(avg), reportingPics, pendingPics, latestDate: latestDate? new Date(latestDate): null, picContributions } : m));\r\n        } catch {}\r\n      })();\r\n    };\r\n    window.addEventListener('projectReportsUpdated', handler);\r\n    return ()=> window.removeEventListener('projectReportsUpdated', handler);\r\n  },[enrichedAllProjects, setProjectMetrics]);\r\n\r\n  // (no pagination state)\r\n\r\n  const toggleSidebar = () => setSidebarOpen((v) => !v);\r\n\r\n  // Group ONLY ongoing/active projects by location for sidebar (exclude completed)\r\n  const projectsByLocation = enrichedAllProjects.reduce((acc, project) => {\r\n    const statusStr = String(project.status || '').toLowerCase();\r\n    const isCompleted = statusStr === 'completed' || /\\bcompleted\\b/.test(statusStr);\r\n    if (isCompleted) return acc; // skip completed in sidebar list\r\n    const locationId = project.location?._id || 'unknown';\r\n    if (!acc[locationId]) {\r\n      acc[locationId] = {\r\n        name: project.location?.name || 'Unknown Location',\r\n        region: project.location?.region || '',\r\n        projects: [],\r\n      };\r\n    }\r\n    acc[locationId].projects.push(project);\r\n    return acc;\r\n  }, {});\r\n  const sidebarProjectCount = Object.values(projectsByLocation).reduce((sum, l) => sum + l.projects.length, 0);\r\n\r\n  // (Heatmap removed)\r\n\r\n  // Filter metrics by area when selected from heatmap\r\n  const visibleMetrics = (selectedArea\r\n    ? projectMetrics.filter(m => (m.area || 'Unknown Area') === selectedArea)\r\n    : projectMetrics)\r\n    .filter(m => !statusFilter || m.status === statusFilter)\r\n    .filter(m => !searchTerm ||\r\n      m.projectName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (m.area || '').toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n  // Prepare widget datasets (use overall metrics so widgets always show data)\r\n  const widgetStuck = projectMetrics.filter(m => m.status === 'stale' || m.waitingForAll).slice(0, 5);\r\n  const widgetRecent = projectMetrics\r\n    .slice()\r\n    .sort((a,b) => new Date(b.latestDate||0) - new Date(a.latestDate||0))\r\n    .slice(0,5);\r\n  const widgetAging = projectMetrics\r\n    .map(m => ({ ...m, age: m.latestDate ? Math.floor((Date.now() - new Date(m.latestDate).getTime()) / (24*60*60*1000)) : null }))\r\n    .sort((a,b) => (b.age||0) - (a.age||0))\r\n    .slice(0,5);\r\n  const widgetPerf = projectMetrics\r\n    .slice()\r\n    .sort((a,b) => (b.progress||0) - (a.progress||0))\r\n    .slice(0,5);\r\n\r\n  // Request timeline status helper (same logic as AM)\r\n  const getTimelineStatus = (status, stage) => {\r\n    const statusLower = status?.toLowerCase() || '';\r\n    if (statusLower.includes('rejected')) return 'rejected';\r\n    switch (stage) {\r\n      case 'placed':\r\n        if (statusLower.includes('pending pm') || statusLower.includes('project manager')) return 'completed one-step-behind';\r\n        if (statusLower.includes('pending am') || statusLower.includes('area manager') || statusLower.includes('pending cio') || statusLower.includes('received')) return 'completed';\r\n        return 'completed';\r\n      case 'pm':\r\n        if (statusLower.includes('rejected pm') || statusLower.includes('pm rejected')) return 'rejected';\r\n        if (statusLower.includes('pending pm') || statusLower.includes('project manager')) return 'pending';\r\n        if (statusLower.includes('pending am') || statusLower.includes('area manager')) return 'completed one-step-behind';\r\n        if (statusLower.includes('pending cio') || statusLower.includes('received')) return 'completed';\r\n        break;\r\n      case 'am':\r\n        if (statusLower.includes('rejected am') || statusLower.includes('am rejected')) return 'rejected';\r\n        if (statusLower.includes('pending am') || statusLower.includes('area manager')) return 'pending';\r\n        if (statusLower.includes('pending cio')) return 'completed one-step-behind';\r\n        if (statusLower.includes('received')) return 'completed';\r\n        break;\r\n      case 'cio':\r\n        if (statusLower.includes('rejected cio') || statusLower.includes('cio rejected')) return 'rejected';\r\n        if (statusLower.includes('pending cio') || statusLower.includes('pending ceo')) return 'pending';\r\n        if (statusLower.includes('received')) return 'completed one-step-behind';\r\n        break;\r\n      case 'done':\r\n        if (statusLower.includes('received')) return 'completed';\r\n        break;\r\n    }\r\n    return '';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading dashboard data...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"ceo-dashboard dashboard-container\">\r\n      {/* Unified AppHeader (reports nav omitted by default) */}\r\n      <AppHeader\r\n        roleSegment=\"ceo\"\r\n        extraLeft={\r\n          <button\r\n            className=\"sidebar-toggle-btn ceo-header-toggle\"\r\n            onClick={toggleSidebar}\r\n            aria-label={sidebarOpen ? 'Close areas & projects panel' : 'Open areas & projects panel'}\r\n          >\r\n            <FaBars />\r\n          </button>\r\n        }\r\n      />\r\n\r\n      {/* Main */}\r\n      <main className=\"dashboard-main\">\r\n        {/* Sidebar toggle moved to header */}\r\n\r\n        {/* Areas & Projects Sidebar (portal) */}\r\n        {createPortal(\r\n          <aside className={`areas-projects-sidebar ceo-sidepanel ${sidebarOpen ? 'open' : ''}`} aria-label=\"Areas and Projects\" role=\"complementary\">\r\n            <div className=\"sidepanel-header\">\r\n              <button className=\"icon-btn ghost\" onClick={toggleSidebar} aria-label=\"Close sidebar\"><FaChevronLeft /></button>\r\n              <h3 className=\"panel-title\">Areas & Projects</h3>\r\n              <button className=\"icon-btn primary\" onClick={() => setShowAddAreaModal(true)}>Add</button>\r\n            </div>\r\n            <div className=\"sidepanel-search-row\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"sidepanel-search\"\r\n                placeholder=\"Search area or region...\"\r\n                value={locationSearch}\r\n                onChange={(e)=> setLocationSearch(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"sidepanel-scroll\">\r\n              {Object.keys(projectsByLocation).length === 0 ? (\r\n                <div className=\"empty-state small pad-1rem\">\r\n                  <span>No areas or projects found</span>\r\n                  <p>Projects will appear here once available.</p>\r\n                </div>\r\n              ) : (\r\n                Object.entries(projectsByLocation)\r\n                  .filter(([,loc])=> !locationSearch || loc.name.toLowerCase().includes(locationSearch.toLowerCase()) || loc.region.toLowerCase().includes(locationSearch.toLowerCase()))\r\n                  .map(([locationId, locationData]) => {\r\n                    const expanded = !!expandedLocations[locationId];\r\n                    return (\r\n                      <div key={locationId} className={`area-block ${expanded ? 'expanded' : ''}`}>\r\n                        <button\r\n                          className=\"area-summary\"\r\n                          onClick={() => setExpandedLocations(prev => ({ ...prev, [locationId]: !prev[locationId] }))}\r\n                          aria-expanded={expanded}\r\n                        >\r\n                          <span className=\"marker\"><FaMapMarkerAlt /></span>\r\n                          <span className=\"area-texts\">\r\n                            <span className=\"area-name\">{locationData.name}</span>\r\n                            <span className=\"area-region\">{locationData.region}</span>\r\n                          </span>\r\n                          <span className=\"count-pill\" title=\"Projects\">{locationData.projects.length}</span>\r\n                          <span className=\"chevron\">{expanded ? <FaChevronUp /> : <FaChevronDown />}</span>\r\n                        </button>\r\n                        {expanded && (\r\n                          <div className=\"projects-collapsible\">\r\n                            {locationData.projects.map(project => (\r\n                              <Link to={`/ceo/proj/${project._id}`} key={project._id} className=\"project-link\" onClick={toggleSidebar}>\r\n                                <FaProjectDiagram className=\"pj-ic\" />\r\n                                <span className=\"pj-name\" title={project.name}>{project.name}</span>\r\n                                <span className=\"pj-pm\" title={project.engineer}>{project.engineer}</span>\r\n                                <FaArrowRight className=\"arrow\" />\r\n                              </Link>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })\r\n              )}\r\n            </div>\r\n            <div className=\"sidepanel-footer\">\r\n              <span>{sidebarProjectCount} ongoing projects</span>\r\n            </div>\r\n          </aside>,\r\n          document.body\r\n        )}\r\n\r\n        {/* Overlay (portal) */}\r\n        {sidebarOpen && createPortal(\r\n          <div className=\"sidebar-overlay\" onClick={toggleSidebar} style={{ zIndex: 20000 }}></div>,\r\n          document.body\r\n        )}\r\n\r\n        {/* Content area */}\r\n        <div className=\"dashboard-content ceo-content\">\r\n          {/* Welcome */}\r\n          <div className=\"dashboard-card ceo-welcome-card ceo-welcome\">\r\n            <div className=\"welcome-content\">\r\n              <h2 className=\"welcome-title\">Welcome back, {userName}! </h2>\r\n              <p className=\"welcome-subtitle\">Here's the status of all company projects</p>\r\n            </div>\r\n            <div className=\"welcome-stats\">\r\n              {(() => {\r\n                const total = allProjects.length;\r\n                const ongoing = allProjects.filter(p => {\r\n                  const s = String(p.status || '').toLowerCase();\r\n                  return s === 'ongoing' || s === 'active' || s === 'in progress';\r\n                }).length;\r\n                const completed = allProjects.filter(p => String(p.status || '').toLowerCase() === 'completed').length;\r\n                return (\r\n                  <>\r\n                    <Link to=\"/ceo/proj\" className=\"stat-item stat-link no-decoration inherit-color\" aria-label=\"View all projects\">\r\n                      <span className=\"stat-number\">{total}</span>\r\n                      <span className=\"stat-label\">Total Projects</span>\r\n                    </Link>\r\n                    <Link to=\"/ceo/proj?status=ongoing\" className=\"stat-item stat-link no-decoration inherit-color\" aria-label=\"View ongoing projects\">\r\n                      <span className=\"stat-number\">{ongoing}</span>\r\n                      <span className=\"stat-label\">Ongoing</span>\r\n                    </Link>\r\n                    <Link to=\"/ceo/proj?status=completed\" className=\"stat-item stat-link no-decoration inherit-color\" aria-label=\"View completed projects\">\r\n                      <span className=\"stat-number\">{completed}</span>\r\n                      <span className=\"stat-label\">Completed</span>\r\n                    </Link>\r\n                    <Link to=\"/ceo/material-list\" className=\"stat-item stat-link no-decoration inherit-color\" aria-label=\"View material requests\">\r\n                      <span className=\"stat-number\">{materialRequests.length}</span>\r\n                      <span className=\"stat-label\"> Material Requests</span>\r\n                    </Link>\r\n                  </>\r\n                );\r\n              })()}\r\n            \r\n            </div>\r\n            {/* KPI strip similar to AM */}\r\n            <div className=\"kpi-strip\">\r\n              <Link to=\"/ceo/material-list\" className=\"kpi\" aria-label=\"Pending material requests\">\r\n                <div className=\"kpi-ico\"><FaBoxes /></div>\r\n                <div className=\"kpi-body\">\r\n                  <div className=\"kpi-title\">Pending Requests</div>\r\n                  <div className=\"kpi-value\">{materialRequests.filter(r=>/pending/i.test(String(r.status||''))).length}</div>\r\n                </div>\r\n              </Link>\r\n              <Link to=\"/ceo/proj\" className=\"kpi\" aria-label=\"Active projects\">\r\n                <div className=\"kpi-ico\"><FaProjectDiagram /></div>\r\n                <div className=\"kpi-body\">\r\n                  <div className=\"kpi-title\">Active Projects</div>\r\n                  <div className=\"kpi-value\">{allProjects.filter(p=>/ongoing|active|in progress/i.test(String(p.status||''))).length}</div>\r\n                </div>\r\n              </Link>\r\n              <div className=\"kpi\" aria-label=\"Avg. progress\">\r\n                <div className=\"kpi-ico\"><FaChartBar /></div>\r\n                <div className=\"kpi-body\">\r\n                  <div className=\"kpi-title\">Avg. Progress</div>\r\n                  <div className=\"kpi-value\">{Math.round(visibleMetrics.reduce((a,m)=>a+(m.progress||0),0)/(visibleMetrics.length||1))}%</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* CEO hero art inside the welcome card (right side) */}\r\n            <div\r\n              className=\"hero-art\"\r\n              aria-hidden=\"true\"\r\n              style={{\r\n                backgroundImage: `radial-gradient(ellipse at 65% 35%, rgba(255,255,255,0.18), transparent 55%), url(${process.env.PUBLIC_URL || ''}/images/illustration-construction-site.png)`\r\n              }}\r\n            ></div>\r\n          </div>\r\n\r\n          {/* Progress Metrics */}\r\n          <div className=\"dashboard-grid single-col\">\r\n            <div className=\"dashboard-card ceo-project-metrics-card\">\r\n              <div className=\"card-header ceo-metrics-header\">\r\n                <h3>Project Progress</h3>\r\n                <div className=\"metrics-filters-row\">\r\n                  <span className=\"metrics-subtitle subtle-text\">Based on latest PIC reports</span>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search projects or area...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"input text-input\"\r\n                    aria-label=\"Search projects or by area name\"\r\n                  />\r\n                  <select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)} className=\"input select-input\">\r\n                    <option value=\"\">All statuses</option>\r\n                    <option value=\"ontrack\">On Track</option>\r\n                    <option value=\"regressing\">Regressing</option>\r\n                    <option value=\"stale\">Stale</option>\r\n                    <option value=\"pending\">Pending</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"project-metrics-container\">\r\n                {metricsLoading ? (\r\n                  <div className=\"metrics-loading fade-in\">\r\n                    <div className=\"loading-spinner\"></div>\r\n                    <span>Loading project metrics...</span>\r\n                  </div>\r\n                ) : visibleMetrics.length === 0 ? (\r\n                  <div className=\"metrics-empty fade-in\">\r\n                    <FaChartBar />\r\n                    <span>No project metrics available</span>\r\n                    <p>Reports need to be submitted to see progress</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"project-metrics-scroll\">\r\n                    {selectedArea && (\r\n                      <div className=\"active-filter-pill\">\r\n                        Filter: <b>{selectedArea}</b> <button onClick={() => setSelectedArea(null)} className=\"btn-light-xs\">Clear</button>\r\n                      </div>\r\n                    )}\r\n                    {visibleMetrics.map((metric) => (\r\n                      <Link to={`/ceo/proj/${metric.projectId}`} key={metric.projectId} className=\"project-metric-item metric-card metric-card-link\">\r\n                        <div className=\"metric-header\">\r\n                          <div className=\"metric-project-info\">\r\n                            <h4 className=\"metric-project-name\">{metric.projectName}</h4>\r\n                            <p className=\"metric-project-details\">\r\n                              <span className=\"metric-pm\">{metric.pm}</span>\r\n                              <span className=\"metric-area\">{metric.area}</span>\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"metric-progress-circle\">\r\n                            <div className=\"progress-ring\">\r\n                              <svg width=\"60\" height=\"60\">\r\n                                <circle cx=\"30\" cy=\"30\" r=\"25\" stroke=\"#e2e8f0\" strokeWidth=\"4\" fill=\"transparent\" />\r\n                                <circle\r\n                                  cx=\"30\"\r\n                                  cy=\"30\"\r\n                                  r=\"25\"\r\n                                  stroke={metric.progress >= 80 ? '#10B981' : metric.progress >= 50 ? '#3B82F6' : '#F59E0B'}\r\n                                  strokeWidth=\"4\"\r\n                                  fill=\"transparent\"\r\n                                  strokeDasharray={`${2 * Math.PI * 25}`}\r\n                                  strokeDashoffset={`${2 * Math.PI * 25 * (1 - (metric.progressPrecise ?? metric.progress) / 100)}`}\r\n                                  strokeLinecap=\"round\"\r\n                                  transform=\"rotate(-90 30 30)\"\r\n                                />\r\n                              </svg>\r\n                              <div className=\"progress-text\" title={`${metric.progressPrecise?.toFixed(2) || metric.progress}% exact`}>\r\n                                <span className=\"progress-percentage\">{metric.progress}%</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"metric-footer\">\r\n                          <div className=\"metric-stats\">\r\n                            <span className=\"metric-stat\">\r\n                              <FaUsers />\r\n                              {metric.totalPics} PICs\r\n                            </span>\r\n                            <span className=\"metric-stat\">\r\n                              <FaCalendarAlt />\r\n                              {metric.latestDate ? new Date(metric.latestDate).toLocaleDateString() : 'No reports'}\r\n                            </span>\r\n                            <span className={`metric-status status-${metric.status}`}>\r\n                              {metric.waitingForAll ? 'Waiting for all PICs' : metric.status === 'ontrack' ? 'On Track' : metric.status === 'regressing' ? 'Regressing' : metric.status === 'stale' ? 'Stale' : 'Pending'}\r\n                            </span>\r\n                          </div>\r\n                          {/* AM-style metric badges */}\r\n                          <div className=\"metric-badges\" style={{marginTop:8, display:'grid', gridTemplateColumns:'repeat(auto-fit,minmax(90px,1fr))', gap:6, fontSize:11}}>\r\n                            <div style={{background:'#f1f5f9',padding:'6px 8px',borderRadius:6,display:'flex',flexDirection:'column',gap:2}}>\r\n                              <span style={{opacity:.6}}>Progress</span>\r\n                              <strong>{metric.progress}%</strong>\r\n                            </div>\r\n                            <div style={{background:'#f1f5f9',padding:'6px 8px',borderRadius:6,display:'flex',flexDirection:'column',gap:2}}>\r\n                              <span style={{opacity:.6}}>Reported</span>\r\n                              <strong>{metric.reportingPics}/{metric.totalPics||0}</strong>\r\n                            </div>\r\n                            <div style={{background:'#f1f5f9',padding:'6px 8px',borderRadius:6,display:'flex',flexDirection:'column',gap:2}}>\r\n                              <span style={{opacity:.6}}>Pending PICs</span>\r\n                              <strong>{metric.pendingPics}</strong>\r\n                            </div>\r\n                            <div style={{background:'#f1f5f9',padding:'6px 8px',borderRadius:6,display:'flex',flexDirection:'column',gap:2}}>\r\n                              <span style={{opacity:.6}}>Status</span>\r\n                              <strong style={{textTransform:'capitalize'}}>{metric.waitingForAll ? 'Waiting' : metric.status}</strong>\r\n                            </div>\r\n                            <div style={{background:'#f1f5f9',padding:'6px 8px',borderRadius:6,display:'flex',flexDirection:'column',gap:2}}>\r\n                              <span style={{opacity:.6}}>Last Report</span>\r\n                              <strong>{metric.latestDate ? new Date(metric.latestDate).toLocaleDateString() : ''}</strong>\r\n                            </div>\r\n                          </div>\r\n                          {/* Mini per-PIC contribution bar chart */}\r\n                          <div className=\"metric-mini-chart\" style={{marginTop:10, background:'#f8fafc', border:'1px solid #e2e8f0', borderRadius:8, padding:'4px 6px'}}>\r\n                            {(() => {\r\n                              const contrib = metric.picContributions || [];\r\n                              const data = contrib.filter(c=>c.hasReport).map(c=>({\r\n                                name: c.picName.length>6? c.picName.slice(0,6)+'': c.picName,\r\n                                value: c.contribution || 0\r\n                              }));\r\n                              if(!data.length){\r\n                                return <div style={{fontSize:11, opacity:.6, textAlign:'center', padding:'6px 0'}}>No PIC reports yet</div>;\r\n                              }\r\n                              return (\r\n                                <ResponsiveContainer width=\"100%\" height={90}>\r\n                                  <BarChart data={data} margin={{top:4,right:4,left:0,bottom:0}}>\r\n                                    <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#e2e8f0\" />\r\n                                    <XAxis dataKey=\"name\" tick={{fontSize:9}} axisLine={false} tickLine={false} />\r\n                                    <YAxis hide domain={[0,100]} />\r\n                                    <Tooltip cursor={{fill:'rgba(0,0,0,0.04)'}} formatter={(v)=>[v+'%', 'Contribution']} />\r\n                                    <Bar dataKey=\"value\" radius={[4,4,0,0]} fill=\"#3B82F6\" />\r\n                                  </BarChart>\r\n                                </ResponsiveContainer>\r\n                              );\r\n                            })()}\r\n                          </div>\r\n                        </div>\r\n                      </Link>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Material Requests + Risks Row */}\r\n          <div className=\"dashboard-grid two-col compact-row\">\r\n            <div className=\"dashboard-card material-requests-card stretch-card\">\r\n              <div className=\"card-header\">\r\n                <h3>Material Request Tracking</h3>\r\n                <Link to=\"/ceo/material-list\" className=\"inline-link\">\r\n                  View All \r\n                </Link>\r\n              </div>\r\n              <div className=\"card-body compact-padding\">\r\n                <div className=\"helper-row\">\r\n                  <span className=\"helper-text\">\r\n                     Quick access to material request management\r\n                  </span>\r\n                </div>\r\n                {materialRequestsLoading ? (\r\n                  <div className=\"muted\">Loading material requests...</div>\r\n                ) : materialRequests.length === 0 ? (\r\n                  <div className=\"muted\">No material requests found</div>\r\n                ) : (\r\n                  <div className=\"mr-list-wrapper\">\r\n                    <div className=\"mr-list-label\">\r\n                      Recent Requests with Tracking:\r\n                    </div>\r\n                    <div className=\"mr-items\">\r\n                      {materialRequests.slice(0, 3).map((request) => {\r\n                        const approvals = Array.isArray(request.approvals) ? request.approvals : [];\r\n                        const pmApproval = approvals.find(a => /project manager/i.test(a.role) && a.decision === 'approved');\r\n                        const amApproval = approvals.find(a => /area manager/i.test(a.role) && a.decision === 'approved');\r\n                        const pmApprovedAt = pmApproval?.timestamp;\r\n                        const amApprovedAt = amApproval?.timestamp;\r\n                        return (\r\n                        <Link to={`/ceo/material-request/${request._id}`} key={request._id} className=\"mr-item mr-item-link\">\r\n                          <div className=\"mr-item-head\">\r\n                            <span className=\"mr-item-title\">\r\n                              {request.description?.substring(0, 40) || 'No description'}...\r\n                            </span>\r\n                            <span className={`status-chip ${request.status?.includes('approved') ? 'status-approved' : request.status?.includes('denied') ? 'status-denied' : 'status-pending'}`}>{request.status || 'Pending'}</span>\r\n                          </div>\r\n                          \r\n                          {/* Tracking Progress */}\r\n                          <div className=\"mr-tracking\">\r\n                            <div className=\"mr-tracking-label\">\r\n                              Tracking Progress:\r\n                            </div>\r\n                            <div className=\"mr-tracking-rail\">\r\n                              {/* Placed Stage */}\r\n                              <div className=\"track-stage completed\">\r\n                                <div className=\"stage-icon\">\r\n                                  \r\n                                </div>\r\n                                <span className=\"stage-label\">Placed</span>\r\n                                <span className=\"stage-status success\">Completed</span>\r\n                                <span className=\"stage-date\">{new Date(request.createdAt).toLocaleDateString()}</span>\r\n                              </div>\r\n                              \r\n                              {/* Connector 1 */}\r\n                              <div className=\"track-connector completed\" />\r\n                              \r\n                              {/* PM Stage */}\r\n                              <div className={`track-stage ${ pmApprovedAt ? 'completed' : (request.status?.includes('Denied by Project Manager') ? 'rejected' : 'pending') }`}>\r\n                                <div className=\"stage-icon\">\r\n                                  {pmApprovedAt ? '' : (request.status?.includes('Denied by Project Manager') ? '' : '')}\r\n                                </div>\r\n                                <span className=\"stage-label\">Project Manager</span>\r\n                                <span className={`stage-status ${ pmApprovedAt ? 'success' : (request.status?.includes('Denied by Project Manager') ? 'error' : 'pending') }`}>\r\n                                  {pmApprovedAt ? 'Approved' : (request.status?.includes('Denied by Project Manager') ? 'Rejected' : 'Pending')}\r\n                                </span>\r\n                                <span className=\"stage-date\">{pmApprovedAt ? new Date(pmApprovedAt).toLocaleDateString() : 'N/A'}</span>\r\n                              </div>\r\n                              \r\n                              {/* Connector 2 */}\r\n                              <div className={`track-connector ${ (request.status?.includes('pm') || request.status?.includes('project manager')) && !request.status?.includes('denied') ? 'completed' : '' }`} />\r\n                              \r\n                              {/* AM Stage */}\r\n                              <div className={`track-stage ${ amApprovedAt ? 'completed' : (request.status?.includes('Denied by Area Manager') ? 'rejected' : 'pending') }`}>\r\n                                <div className=\"stage-icon\">\r\n                                  {amApprovedAt ? '' : (request.status?.includes('Denied by Area Manager') ? '' : '')}\r\n                                </div>\r\n                                <span className=\"stage-label\">Area Manager</span>\r\n                                <span className={`stage-status ${ amApprovedAt ? 'success' : (request.status?.includes('Denied by Area Manager') ? 'error' : 'pending') }`}>\r\n                                  {amApprovedAt ? 'Approved' : (request.status?.includes('Denied by Area Manager') ? 'Rejected' : 'Pending')}\r\n                                </span>\r\n                                <span className=\"stage-date\">{amApprovedAt ? new Date(amApprovedAt).toLocaleDateString() : 'N/A'}</span>\r\n                              </div>\r\n                              \r\n                              {/* Connector 3 */}\r\n                              <div className={`track-connector ${ (request.status?.includes('am') || request.status?.includes('area manager')) && !request.status?.includes('denied') ? 'completed' : '' }`} />\r\n                              \r\n                              {/* Received Stage */}\r\n                              <div className={`track-stage ${ request.receivedByPIC ? 'completed' : 'pending' }`}>\r\n                                <div className=\"stage-icon\">\r\n                                  {request.receivedByPIC ? '' : ''}\r\n                                </div>\r\n                                <span className=\"stage-label\">Received</span>\r\n                                <span className={`stage-status ${ request.receivedByPIC ? 'success' : 'pending' }`}>\r\n                                  {request.receivedByPIC ? 'Received' : 'Pending'}\r\n                                </span>\r\n                                <span className=\"stage-date\">{request.receivedByPIC ? new Date(request.receivedByPIC).toLocaleDateString() : 'N/A'}</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"mr-meta muted\">\r\n                            <span className=\"strong\">{request.createdBy?.name || 'Unknown'}</span>  {new Date(request.createdAt).toLocaleDateString()}\r\n                            {request.project?.projectName && (<span>  Project: {request.project.projectName}</span>)}\r\n                          </div>\r\n                        </Link>\r\n                      );})}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"dashboard-card risks-card stretch-card\">\r\n                <div className=\"card-header\">\r\n                  <h3>Top Risks from AI</h3>\r\n                </div>\r\n                {(() => {\r\n                  const risks = projectMetrics\r\n                    .map(m => ({ projectId: m.projectId, projectName: m.projectName, risk: (m.aiRisk || '').toString() }))\r\n                    .filter(x => x.risk)\r\n                    .slice(0, 10);\r\n                  if (risks.length === 0) {\r\n                    return (<div className=\"muted pad-l\">No risks extracted from AI reports</div>);\r\n                  }\r\n                  return (\r\n                    <ul className=\"risk-list\">\r\n                      {risks.map(x => (\r\n                        <li key={x.projectId}>\r\n                          <b>{x.projectName}</b>  {x.risk}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  );\r\n                })()}\r\n            </div>\r\n          </div>\r\n\r\n          {/* (heatmap removed) */}\r\n        </div>\r\n        {/* Material Requests removed for CEO dashboard as requested */}\r\n      </main>\r\n\r\n      {/* Modal for Add Area */}\r\n      {showAddAreaModal && (\r\n        <div className=\"modal-overlay modal-centered\">\r\n          <div className=\"modal-content modal-standard ceo-narrow-modal\">\r\n            <CeoAddArea onSuccess={() => setShowAddAreaModal(false)} onCancel={() => setShowAddAreaModal(false)} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CeoDash;\r\n"],"names":["CeoMaterialRequestEdit","_materialRequest$proj","_materialRequest$proj2","id","useParams","navigate","useNavigate","materialRequest","setMaterialRequest","useState","loading","setLoading","error","setError","saving","setSaving","user","setUser","stored","localStorage","getItem","JSON","parse","formData","setFormData","description","materials","attachments","newFiles","setNewFiles","previewURLs","setPreviewURLs","useEffect","api","get","concat","then","res","console","log","data","map","m","idx","materialName","quantity","unit","catch","err","finally","forEach","url","URL","revokeObjectURL","handleBack","handleMaterialChange","rowId","field","value","prev","_objectSpread","replace","slice","_jsxs","className","children","_jsx","onClick","type","statusClass","status","toLowerCase","AppHeader","roleSegment","_id","project","projectName","form","disabled","onSubmit","async","e","preventDefault","cleanMaterials","filter","trim","length","fd","FormData","append","stringify","_ref","f","put","headers","_err$response","_err$response$data","response","message","autoComplete","htmlFor","name","onChange","target","rows","placeholder","style","width","row","removeMaterialRow","title","FaTrash","addMaterialRow","_prev$materials$at","at","marginTop","FaPlus","att","href","process","REACT_APP_API_BASE_URL","rel","FaDownload","_","i","removeExistingAttachment","FaPaperclip","multiple","files","Array","from","previews","createObjectURL","accept","removeNewFile","FaSave","th","textAlign","padding","fontWeight","borderBottom","td","CeoAuditLogs","logs","setLogs","search","setSearch","roleFilter","setRoleFilter","actionFilter","setActionFilter","currentPage","setCurrentPage","filteredLogs","_log$performedByRole","_log$action","_log$description","_log$performedBy","_log$performedBy$name","_log$performedByRole2","_log$action2","performedByRole","includes","action","performedBy","totalPages","Math","ceil","pagedLogs","maxWidth","margin","background","borderRadius","boxShadow","marginBottom","display","gap","flexWrap","flex","minWidth","border","overflowX","borderCollapse","fontSize","colSpan","color","_log$performedBy2","Date","timestamp","toLocaleString","cursor","whiteSpace","meta","justifyContent","alignItems","p","max","pageNum","abs","reduce","arr","src","push","page","min","loadFontFromPublic","doc","fontFile","family","Promise","resolve","fontPath","fetch","r","arrayBuffer","buf","addFileToVFS","addFont","_unused2","_unused3","fontUsable","fonts","getFontList","_unused4","formatDateTime","date","dt","Number","isNaN","getTime","pad","n","String","padStart","exportManpowerRequestsPdf","arguments","undefined","options","companyName","logoPath","exporterName","exporterRole","filters","reportTitle","jsPDF","format","FAMILY","regOk","boldOk","canUseRegular","canUseBold","bodyFont","headStyle","marginX","y","logo","img","Image","crossOrigin","onload","c","document","createElement","naturalWidth","height","naturalHeight","getContext","drawImage","dataUrl","toDataURL","w","h","onerror","_unused","titleX","drawW","drawH","maxW","maxH","fitInside","addImage","setFont","setFontSize","setTextColor","text","setDrawColor","setLineWidth","line","filterSummary","parts","dateFrom","dateTo","join","buildFiltersSummary","metaY","tableStartY","body","_r$createdBy","_r$project","manpowerList","isArray","manpowerRequested","position","createdAt","toLocaleDateString","createdBy","req","acquisitionDate","autoTable","startY","head","styles","font","fontStyle","cellPadding","halign","overflow","headStyles","fillColor","textColor","theme","left","right","columnStyles","cellWidth","didDrawPage","str","getCurrentPageInfo","pageNumber","pages","getNumberOfPages","label","getTextWidth","save","prefix","d","getHours","getMinutes","buildFileName","CeoProj","searchParams","useSearchParams","projects","setProjects","setFilter","viewMode","setViewMode","searchTerm","setSearchTerm","deferredSearch","useDeferredValue","sortBy","setSortBy","sortOrder","setSortOrder","setPage","pageSize","setPageSize","statusParam","active","currencyFmt","useMemo","Intl","NumberFormat","currency","maximumFractionDigits","dateFmt","month","day","year","filteredSorted","srch","st","_p$location","_p$projectmanager","location","projectmanager","contractor","some","v","sort","a","b","pick","o","_o$location","_o$projectmanager","startDate","av","bv","totalItems","paginatedProjects","counts","total","ongoing","completed","pending","Skeleton","FaSearch","FaTh","FaList","FaChevronUp","FaChevronDown","FaClock","_Fragment","FaProjectDiagram","size","_p$photos","_p$location2","_p$projectmanager2","statusRaw","s","Icon","FaCheckCircle","statusMeta","role","tabIndex","onKeyDown","key","photos","alt","backgroundColor","FaMapMarkerAlt","FaUserTie","FaBuilding","FaCalendarAlt","endDate","FaUsersIcon","manpower","budget","FaMoneyBillWave","parseInt","sz","onSuccess","onCancel","areaManagers","setAreaManagers","locations","setLocations","selectedManager","setSelectedManager","assignedLocations","setAssignedLocations","originalAssigned","setOriginalAssigned","loadingManagers","setLoadingManagers","loadingLocations","setLoadingLocations","mgrRes","locRes","all","ids","l","allVisibleIds","region","allSelectedVisible","every","partiallySelected","isDirty","setOrig","Set","has","filteredLocations","loc","localeCompare","am","handleSelectAllVisible","checked","toggleLocation","locId","FaTimesCircle","BarChart","generateCategoricalChart","chartName","GraphicalChild","Bar","defaultTooltipEventType","validateTooltipEventTypes","axisComponents","axisType","AxisComp","XAxis","YAxis","formatAxisMap","CeoMatRequestListWrapper","MaterialRequestListView","fetchUrl","detailLinkBase","rootClass","headerTitle","headerSubtitle","enableExport","exportTitle","CeoManpowerRequestList","userRef","useRef","current","requests","setRequests","setStatus","layoutView","setLayoutView","exporting","setExporting","fetchAll","filteredRequests","items","proj","by","summary","manpowers","pageRows","start","summaryCounts","approved","rejected","overdue","archived","isOver","statusCounts","All","Pending","Overdue","Approved","Completed","Rejected","Archived","tab","_statusCounts$tab","alert","request","_request$project3","_request$project4","_request$createdBy3","_request$createdBy4","badgeLabel","getStatusBadge","getStatusColor","_request$project","_request$project2","_request$createdBy","_request$createdBy2","duration","Link","to","CeoManpowerRequestDetail","_request$status","_request$status2","token","setRequest","Authorization","load","FaExclamationTriangle","FaArrowLeft","requestNumber","FaHourglassHalf","getStatusIcon","badge","manpowerTotal","acc","returnDate","FaFileAlt","FaUsers","mp","CeoViewProject","overrides","ProjectView","navPathOverrides","useUnifiedHeader","CeoMaterialRequestDetail","MaterialRequestDetailView","CeoChat","AreaChat","baseSegment","CeoDash","raw","userName","userRole","sidebarOpen","setSidebarOpen","allProjects","setAllProjects","enrichedAllProjects","setEnrichedAllProjects","expandedLocations","setExpandedLocations","materialRequests","setMaterialRequests","materialRequestsLoading","setMaterialRequestsLoading","requestsError","setRequestsError","projectMetrics","setProjectMetrics","metricsLoading","setMetricsLoading","showAddAreaModal","setShowAddAreaModal","selectedArea","setSelectedArea","statusFilter","setStatusFilter","locationSearch","setLocationSearch","isActive","controller","AbortController","projRes","matRes","signal","locs","projs","mats","enriched","find","engineer","loadAll","abort","cancelled","metrics","_project$location","totalPics","pic","avg","reportingPics","pendingPics","latestDate","picContributions","aiRisk","repData","list","reports","_sorted$","sorted","uploadedAt","byUser","Map","uploadedBy","uploadedByName","set","distinct","values","vals","ai","rawVal","pic_contribution_percent_raw","legacyVal","pic_contribution_percent","num","parseFloat","toString","isFinite","sum","chosen","picId","picName","contribution","round","hasReport","lastReportDate","rep","realistic","critical_path_analysis","path_type","risk","contrib","_contrib$pendingPics","ld","toISOString","averageContribution","_segs$find","_segs$find2","legacy","segs","progress","test","inProg","approx","latestDateObj","now","picNames","projectId","pm","area","progressPrecise","toFixed","waitingForAll","_project$location2","buildMetrics","handler","_e$detail","detail","_sorted$2","window","addEventListener","removeEventListener","toggleSidebar","projectsByLocation","_project$location3","statusStr","locationId","_project$location4","_project$location5","sidebarProjectCount","Object","visibleMetrics","age","floor","extraLeft","FaBars","createPortal","FaChevronLeft","keys","entries","_ref2","locationData","expanded","FaArrowRight","zIndex","FaBoxes","FaChartBar","backgroundImage","metric","_metric$progressPreci","_metric$progressPreci2","cx","cy","stroke","strokeWidth","fill","strokeDasharray","PI","strokeDashoffset","strokeLinecap","transform","gridTemplateColumns","flexDirection","opacity","textTransform","ResponsiveContainer","top","bottom","CartesianGrid","vertical","dataKey","tick","axisLine","tickLine","hide","domain","Tooltip","formatter","radius","_request$description","_request$status3","_request$status4","_request$status5","_request$status6","_request$status7","_request$status8","_request$status9","_request$status0","_request$status1","_request$status10","_request$status11","_request$status12","_request$status13","_request$status14","approvals","pmApproval","decision","amApproval","pmApprovedAt","amApprovedAt","substring","receivedByPIC","risks","x","CeoAddArea"],"sourceRoot":""}