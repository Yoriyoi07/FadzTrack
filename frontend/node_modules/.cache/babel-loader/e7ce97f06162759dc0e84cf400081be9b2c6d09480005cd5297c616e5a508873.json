{"ast":null,"code":"var _jsxFileName = \"E:\\\\Fadz_web\\\\FADZtrack-web-\\\\frontend\\\\src\\\\components\\\\ceo\\\\CeoDash.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { PieChart, Pie, Cell } from 'recharts';\nimport { useNavigate, Link } from 'react-router-dom';\nimport '../style/ceo_style/Ceo_Dash.css';\nimport api from '../../api/axiosInstance';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CeoDash = () => {\n  _s();\n  const navigate = useNavigate();\n  const [userName, setUserName] = useState('');\n  const [userRole, setUserRole] = useState('');\n  const [profileMenuOpen, setProfileMenuOpen] = useState(false);\n  const [projects, setProjects] = useState([]);\n  const [allProjects, setAllProjects] = useState([]);\n  const [enrichedAllProjects, setEnrichedAllProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [pendingRequests, setPendingRequests] = useState([]);\n  const [expandedLocations, setExpandedLocations] = useState({});\n  const [locations, setLocations] = useState([]);\n  const [sidebarProjects, setSidebarProjects] = useState([{\n    id: 1,\n    name: 'Batangas',\n    engineer: 'Engr. Daryll Miralles'\n  }, {\n    id: 2,\n    name: 'Twin Lakes Project',\n    engineer: 'Engr. Shaquille'\n  }, {\n    id: 3,\n    name: 'Calatagan Townhomes',\n    engineer: 'Engr. Rychea Miralles'\n  }, {\n    id: 4,\n    name: 'Makati',\n    engineer: 'Engr. Michelle Amor'\n  }, {\n    id: 5,\n    name: 'Cavite',\n    engineer: 'Engr. Zenarose Miranda'\n  }, {\n    id: 6,\n    name: 'Taguig',\n    engineer: 'Engr. Third Castellar'\n  }]);\n  const [activities, setActivities] = useState([]);\n  const [reports, setReports] = useState([{\n    id: 1,\n    name: 'BGC Hotel',\n    dateRange: '7/13/25 - 7/27/25',\n    engineer: 'Engr.'\n  }, {\n    id: 2,\n    name: 'Protacio Townhomes',\n    dateRange: '7/13/25 - 7/27/25',\n    engineer: 'Engr.'\n  }, {\n    id: 3,\n    name: 'Fegarido Residences',\n    dateRange: '7/13/25 - 7/27/25',\n    engineer: 'Engr.'\n  }]);\n  const [chats, setChats] = useState([{\n    id: 1,\n    name: 'Rychea Miralles',\n    initial: 'R',\n    message: 'Hello Good Morning po! As...',\n    color: '#4A6AA5'\n  }, {\n    id: 2,\n    name: 'Third Castellar',\n    initial: 'T',\n    message: 'Hello Good Morning po! As...',\n    color: '#2E7D32'\n  }, {\n    id: 3,\n    name: 'Zenarose Miranda',\n    initial: 'Z',\n    message: 'Hello Good Morning po! As...',\n    color: '#9C27B0'\n  }]);\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const stored = localStorage.getItem('user');\n        const user = stored ? JSON.parse(stored) : null;\n        if (user) {\n          setUserName(user.name);\n          setUserRole(user.role);\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    const fetchLocations = async () => {\n      try {\n        const {\n          data\n        } = await api.get('/locations');\n        setLocations(data);\n      } catch (error) {\n        console.error('Error fetching locations:', error);\n      }\n    };\n    const fetchProjects = async () => {\n      try {\n        const {\n          data: projectsData\n        } = await api.get('/projects');\n        setAllProjects(projectsData);\n        // Fetch progress and latest update for each project\n        const projectsWithProgress = await Promise.all(projectsData.map(async project => {\n          try {\n            var _project$projectmanag;\n            const {\n              data: progressData\n            } = await api.get(`/daily-reports/project/${project._id}/progress`);\n            // Fetch latest daily report for sorting\n            const {\n              data: reports\n            } = await api.get(`/daily-reports/project/${project._id}`);\n            let latestDate = null;\n            if (Array.isArray(reports) && reports.length > 0) {\n              latestDate = reports[reports.length - 1].date || null;\n            }\n            return {\n              id: project._id,\n              name: project.projectName,\n              engineer: ((_project$projectmanag = project.projectmanager) === null || _project$projectmanag === void 0 ? void 0 : _project$projectmanag.name) || 'Not Assigned',\n              progress: progressData.progress,\n              latestDate,\n              location: project.location // will be replaced with full object after both fetches\n            };\n          } catch (error) {\n            return null; // skip if error\n          }\n        }));\n        // Filter out projects with no progress or no daily log\n        const filtered = projectsWithProgress.filter(p => p && p.progress && Array.isArray(p.progress) && p.progress[0].name !== 'No Data' && p.latestDate);\n        // Sort by latest update (descending)\n        filtered.sort((a, b) => new Date(b.latestDate) - new Date(a.latestDate));\n        setProjects(filtered);\n      } catch (error) {\n        console.error('Error fetching projects:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const fetchPendingRequests = async () => {\n      try {\n        const {\n          data\n        } = await api.get('/requests');\n        const pending = data.filter(request => request.status === 'Pending CEO');\n        setPendingRequests(pending);\n      } catch (error) {\n        console.error('Error fetching pending requests:', error);\n      }\n    };\n    fetchUserData();\n    fetchLocations();\n    fetchProjects();\n    fetchPendingRequests();\n  }, []);\n\n  // Enrich projects with location info after both are loaded\n  useEffect(() => {\n    // Enrich filtered projects (for progress tracking)\n    if (locations.length && projects.length > 0) {\n      setProjects(prevProjects => prevProjects.map(project => {\n        if (typeof project.location === 'object' && project.location !== null && project.location.name) {\n          return project;\n        }\n        const loc = locations.find(l => {\n          var _project$location;\n          return l._id === (((_project$location = project.location) === null || _project$location === void 0 ? void 0 : _project$location._id) || project.location);\n        });\n        return {\n          ...project,\n          location: loc ? {\n            ...loc\n          } : {\n            name: 'Unknown Location',\n            region: ''\n          }\n        };\n      }));\n    }\n    // Enrich all projects (for sidebar)\n    if (locations.length && allProjects.length > 0) {\n      setEnrichedAllProjects(allProjects.map(project => {\n        var _project$projectmanag3;\n        if (typeof project.location === 'object' && project.location !== null && project.location.name) {\n          var _project$projectmanag2;\n          return {\n            ...project,\n            name: project.projectName,\n            engineer: ((_project$projectmanag2 = project.projectmanager) === null || _project$projectmanag2 === void 0 ? void 0 : _project$projectmanag2.name) || 'Not Assigned'\n          };\n        }\n        const loc = locations.find(l => {\n          var _project$location2;\n          return l._id === (((_project$location2 = project.location) === null || _project$location2 === void 0 ? void 0 : _project$location2._id) || project.location);\n        });\n        return {\n          ...project,\n          location: loc ? {\n            ...loc\n          } : {\n            name: 'Unknown Location',\n            region: ''\n          },\n          name: project.projectName,\n          engineer: ((_project$projectmanag3 = project.projectmanager) === null || _project$projectmanag3 === void 0 ? void 0 : _project$projectmanag3.name) || 'Not Assigned'\n        };\n      }));\n    }\n  }, [locations, allProjects, projects.length]);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (!event.target.closest(\".profile-menu-container\")) {\n        setProfileMenuOpen(false);\n      }\n    };\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside);\n    };\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    navigate('/');\n  };\n  useEffect(() => {\n    const fetchLogs = async () => {\n      try {\n        const {\n          data\n        } = await api.get(\"/audit-logs\");\n        const sliced = data.slice(0, 3).map((log, i) => {\n          var _log$performedBy, _log$performedBy2;\n          return {\n            id: i,\n            user: {\n              name: ((_log$performedBy = log.performedBy) === null || _log$performedBy === void 0 ? void 0 : _log$performedBy.name) || \"Unknown\",\n              initial: (((_log$performedBy2 = log.performedBy) === null || _log$performedBy2 === void 0 ? void 0 : _log$performedBy2.name) || \"U\")[0]\n            },\n            date: new Date(log.timestamp).toLocaleString(),\n            activity: `${log.action} - ${log.description}`,\n            details: log.meta ? Object.entries(log.meta).map(([key, val]) => `${key}: ${val}`) : []\n          };\n        });\n        setActivities(sliced);\n      } catch (err) {\n        console.error(\"Failed to fetch logs\", err);\n      }\n    };\n    fetchLogs();\n  }, []);\n  const toggleLocation = locationId => {\n    setExpandedLocations(prev => ({\n      ...prev,\n      [locationId]: !prev[locationId]\n    }));\n  };\n\n  // Group all projects by location for sidebar\n  const projectsByLocation = enrichedAllProjects.reduce((acc, project) => {\n    var _project$location3;\n    const locationId = ((_project$location3 = project.location) === null || _project$location3 === void 0 ? void 0 : _project$location3._id) || 'unknown';\n    if (!acc[locationId]) {\n      var _project$location4, _project$location5;\n      acc[locationId] = {\n        name: ((_project$location4 = project.location) === null || _project$location4 === void 0 ? void 0 : _project$location4.name) || 'Unknown Location',\n        region: ((_project$location5 = project.location) === null || _project$location5 === void 0 ? void 0 : _project$location5.region) || '',\n        projects: []\n      };\n    }\n    acc[locationId].projects.push(project);\n    return acc;\n  }, {});\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading dashboard data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"head\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: require('../../assets/images/FadzLogo1.png'),\n          alt: \"FadzTrack Logo\",\n          className: \"logo-img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"brand-name\",\n          children: \"FadzTrack\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"nav-menu\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/ceo/dash\",\n          className: \"nav-link\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/ceo/material-list\",\n          className: \"nav-link\",\n          children: \"Material\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/ceo/proj\",\n          className: \"nav-link\",\n          children: \"Projects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/chat\",\n          className: \"nav-link\",\n          children: \"Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/ceo/audit-logs\",\n          className: \"nav-link\",\n          children: \"Audit Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/reports\",\n          className: \"nav-link\",\n          children: \"Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-menu-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-circle\",\n          onClick: () => setProfileMenuOpen(!profileMenuOpen),\n          children: \"Z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), profileMenuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-menu\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-project-btn\",\n          onClick: () => navigate('/ceo/addarea'),\n          children: \"Add New Area\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"location-folders\",\n          children: Object.entries(projectsByLocation).map(([locationId, locationData]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"location-folder\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"location-header\",\n              onClick: () => toggleLocation(locationId),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"folder-icon\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `folder-arrow ${expandedLocations[locationId] ? 'expanded' : ''}`,\n                  children: \"\\u25B6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"folder-icon-img\",\n                  children: \"\\uD83D\\uDCC1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"location-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"location-name\",\n                  children: locationData.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"location-region\",\n                  children: locationData.region\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"project-count\",\n                children: locationData.projects.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), expandedLocations[locationId] && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"projects-list\",\n              children: locationData.projects.map(project => /*#__PURE__*/_jsxDEV(Link, {\n                to: `/ceo/proj/${project._id}`,\n                className: \"project-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"project-icon\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon\",\n                    children: \"\\uD83C\\uDFD7\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"icon-bg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"project-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"project-name\",\n                    children: project.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"project-engineer\",\n                    children: project.engineer\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 25\n                }, this)]\n              }, project._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this)]\n          }, locationId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"greeting-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"greeting-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"greeting-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\"Good Morning, \", userName, \"!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"logged-in-role\",\n                children: [\"Currently logged in as: \", userRole]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-projects\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"total-projects-label\",\n                children: \"Total Projects:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"total-projects-count\",\n                children: allProjects.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-tracking-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Progress Tracking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"latest-projects-progress\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Latest Projects Progress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this), projects.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '2rem',\n                  textAlign: 'center',\n                  color: '#888'\n                },\n                children: \"No updated projects with progress data yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"project-charts scroll-x\",\n                children: projects.map(project => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"project-chart-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: project.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"pie-chart-wrapper\",\n                    children: /*#__PURE__*/_jsxDEV(PieChart, {\n                      width: 160,\n                      height: 160,\n                      children: /*#__PURE__*/_jsxDEV(Pie, {\n                        data: project.progress,\n                        cx: 80,\n                        cy: 80,\n                        innerRadius: 0,\n                        outerRadius: 65,\n                        paddingAngle: 0,\n                        dataKey: \"value\",\n                        children: project.progress.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                          fill: entry.color\n                        }, `cell-${index}`, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 376,\n                          columnNumber: 33\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 366,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"chart-legend\",\n                    children: [\"Completed\", \"In Progress\", \"Not Started\"].map((status, index) => {\n                      const item = project.progress.find(p => p.name === status);\n                      // Always show all statuses, even if value is 0\n                      const color = item ? item.color : status === 'Completed' ? '#4CAF50' : status === 'In Progress' ? '#5E4FDB' : '#FF6B6B';\n                      const value = item ? item.value : 0;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"legend-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"color-box\",\n                          style: {\n                            backgroundColor: color\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 389,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"legend-text\",\n                          children: status\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 390,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            marginLeft: 6,\n                            color: '#555',\n                            fontWeight: 500\n                          },\n                          children: [value.toFixed(1), \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 391,\n                          columnNumber: 33\n                        }, this)]\n                      }, status, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 388,\n                        columnNumber: 31\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.85rem',\n                      color: '#888',\n                      marginTop: 4\n                    },\n                    children: [\"Last updated: \", project.latestDate ? new Date(project.latestDate).toLocaleString() : 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 25\n                  }, this)]\n                }, project.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recent-activities-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Recent Activities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), activities.map(activity => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-initial\",\n              children: activity.user.initial\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-name\",\n                  children: activity.user.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"activity-date\",\n                  children: activity.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-description\",\n                children: activity.activity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-extra-details\",\n                children: activity.details.map((detail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: detail\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this)]\n          }, activity.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pending-requests-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Pending Material Requests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/ceo/material-list\",\n              className: \"view-all-btn\",\n              children: \"View All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pending-requests-list\",\n            children: pendingRequests.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-requests\",\n              children: \"No pending material requests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this) : pendingRequests.slice(0, 3).map(request => {\n              var _request$materials, _request$project;\n              return /*#__PURE__*/_jsxDEV(Link, {\n                to: `/ceo/material-request/${request._id}`,\n                className: \"pending-request-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-icon\",\n                  children: \"\\uD83D\\uDCE6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"request-title\",\n                    children: (_request$materials = request.materials) === null || _request$materials === void 0 ? void 0 : _request$materials.map(m => `${m.materialName} (${m.quantity})`).join(', ')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"request-description\",\n                    children: request.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"request-meta\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"request-project\",\n                      children: (_request$project = request.project) === null || _request$project === void 0 ? void 0 : _request$project.projectName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"request-date\",\n                      children: [\"Requested: \", new Date(request.createdAt).toLocaleDateString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-status\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-badge pending\",\n                    children: \"Pending CEO Approval\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 21\n                }, this)]\n              }, request._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chats-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Chats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chats-list\",\n            children: chats.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chat-avatar\",\n                style: {\n                  backgroundColor: chat.color\n                },\n                children: chat.initial\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chat-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-name\",\n                  children: chat.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-message\",\n                  children: chat.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, chat.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 5\n  }, this);\n};\n_s(CeoDash, \"3LU6ocBuzB4WrdoIHO+b/hIkgo8=\", false, function () {\n  return [useNavigate];\n});\n_c = CeoDash;\nexport default CeoDash;\nvar _c;\n$RefreshReg$(_c, \"CeoDash\");","map":{"version":3,"names":["React","useState","useEffect","PieChart","Pie","Cell","useNavigate","Link","api","jsxDEV","_jsxDEV","CeoDash","_s","navigate","userName","setUserName","userRole","setUserRole","profileMenuOpen","setProfileMenuOpen","projects","setProjects","allProjects","setAllProjects","enrichedAllProjects","setEnrichedAllProjects","loading","setLoading","pendingRequests","setPendingRequests","expandedLocations","setExpandedLocations","locations","setLocations","sidebarProjects","setSidebarProjects","id","name","engineer","activities","setActivities","reports","setReports","dateRange","chats","setChats","initial","message","color","fetchUserData","stored","localStorage","getItem","user","JSON","parse","role","error","console","fetchLocations","data","get","fetchProjects","projectsData","projectsWithProgress","Promise","all","map","project","_project$projectmanag","progressData","_id","latestDate","Array","isArray","length","date","projectName","projectmanager","progress","location","filtered","filter","p","sort","a","b","Date","fetchPendingRequests","pending","request","status","prevProjects","loc","find","l","_project$location","region","_project$projectmanag3","_project$projectmanag2","_project$location2","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","handleLogout","removeItem","fetchLogs","sliced","slice","log","i","_log$performedBy","_log$performedBy2","performedBy","timestamp","toLocaleString","activity","action","description","details","meta","Object","entries","key","val","err","toggleLocation","locationId","prev","projectsByLocation","reduce","acc","_project$location3","_project$location4","_project$location5","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","require","alt","to","onClick","locationData","style","padding","textAlign","width","height","cx","cy","innerRadius","outerRadius","paddingAngle","dataKey","entry","index","fill","item","value","backgroundColor","marginLeft","fontWeight","toFixed","fontSize","marginTop","detail","_request$materials","_request$project","materials","m","materialName","quantity","join","createdAt","toLocaleDateString","chat","_c","$RefreshReg$"],"sources":["E:/Fadz_web/FADZtrack-web-/frontend/src/components/ceo/CeoDash.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { PieChart, Pie, Cell } from 'recharts';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport '../style/ceo_style/Ceo_Dash.css';\r\nimport api from '../../api/axiosInstance';\r\n\r\nconst CeoDash = () => {\r\n  const navigate = useNavigate();\r\n  const [userName, setUserName] = useState('');\r\n  const [userRole, setUserRole] = useState('');\r\n  const [profileMenuOpen, setProfileMenuOpen] = useState(false);\r\n  const [projects, setProjects] = useState([]);\r\n  const [allProjects, setAllProjects] = useState([]);\r\n  const [enrichedAllProjects, setEnrichedAllProjects] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [pendingRequests, setPendingRequests] = useState([]);\r\n  const [expandedLocations, setExpandedLocations] = useState({});\r\n  const [locations, setLocations] = useState([]);\r\n\r\n  const [sidebarProjects, setSidebarProjects] = useState([\r\n    { id: 1, name: 'Batangas', engineer: 'Engr. Daryll Miralles' },\r\n    { id: 2, name: 'Twin Lakes Project', engineer: 'Engr. Shaquille' },\r\n    { id: 3, name: 'Calatagan Townhomes', engineer: 'Engr. Rychea Miralles' },\r\n    { id: 4, name: 'Makati', engineer: 'Engr. Michelle Amor' },\r\n    { id: 5, name: 'Cavite', engineer: 'Engr. Zenarose Miranda' },\r\n    { id: 6, name: 'Taguig', engineer: 'Engr. Third Castellar' }\r\n  ]);\r\n\r\n  const [activities, setActivities] = useState([]);\r\n\r\n  const [reports, setReports] = useState([\r\n    {\r\n      id: 1,\r\n      name: 'BGC Hotel',\r\n      dateRange: '7/13/25 - 7/27/25',\r\n      engineer: 'Engr.'\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Protacio Townhomes',\r\n      dateRange: '7/13/25 - 7/27/25',\r\n      engineer: 'Engr.'\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Fegarido Residences',\r\n      dateRange: '7/13/25 - 7/27/25',\r\n      engineer: 'Engr.'\r\n    }\r\n  ]);\r\n\r\n  const [chats, setChats] = useState([\r\n    {\r\n      id: 1,\r\n      name: 'Rychea Miralles',\r\n      initial: 'R',\r\n      message: 'Hello Good Morning po! As...',\r\n      color: '#4A6AA5'\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Third Castellar',\r\n      initial: 'T',\r\n      message: 'Hello Good Morning po! As...',\r\n      color: '#2E7D32'\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Zenarose Miranda',\r\n      initial: 'Z',\r\n      message: 'Hello Good Morning po! As...',\r\n      color: '#9C27B0'\r\n    }\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      try {\r\n        const stored = localStorage.getItem('user');\r\n        const user = stored ? JSON.parse(stored) : null;\r\n        if (user) {\r\n          setUserName(user.name);\r\n          setUserRole(user.role);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      }\r\n    };\r\n\r\n    const fetchLocations = async () => {\r\n      try {\r\n        const { data } = await api.get('/locations');\r\n        setLocations(data);\r\n      } catch (error) {\r\n        console.error('Error fetching locations:', error);\r\n      }\r\n    };\r\n\r\n    const fetchProjects = async () => {\r\n      try {\r\n        const { data: projectsData } = await api.get('/projects');\r\n        setAllProjects(projectsData);\r\n        // Fetch progress and latest update for each project\r\n        const projectsWithProgress = await Promise.all(\r\n          projectsData.map(async (project) => {\r\n            try {\r\n              const { data: progressData } = await api.get(`/daily-reports/project/${project._id}/progress`);\r\n              // Fetch latest daily report for sorting\r\n              const { data: reports } = await api.get(`/daily-reports/project/${project._id}`);\r\n              let latestDate = null;\r\n              if (Array.isArray(reports) && reports.length > 0) {\r\n                latestDate = reports[reports.length - 1].date || null;\r\n              }\r\n              return {\r\n                id: project._id,\r\n                name: project.projectName,\r\n                engineer: project.projectmanager?.name || 'Not Assigned',\r\n                progress: progressData.progress,\r\n                latestDate,\r\n                location: project.location // will be replaced with full object after both fetches\r\n              };\r\n            } catch (error) {\r\n              return null; // skip if error\r\n            }\r\n          })\r\n        );\r\n        // Filter out projects with no progress or no daily log\r\n        const filtered = projectsWithProgress.filter(\r\n          p => p && p.progress && Array.isArray(p.progress) && p.progress[0].name !== 'No Data' && p.latestDate\r\n        );\r\n        // Sort by latest update (descending)\r\n        filtered.sort((a, b) => new Date(b.latestDate) - new Date(a.latestDate));\r\n        setProjects(filtered);\r\n      } catch (error) {\r\n        console.error('Error fetching projects:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    const fetchPendingRequests = async () => {\r\n      try {\r\n        const { data } = await api.get('/requests');\r\n        const pending = data.filter(request => request.status === 'Pending CEO');\r\n        setPendingRequests(pending);\r\n      } catch (error) {\r\n        console.error('Error fetching pending requests:', error);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n    fetchLocations();\r\n    fetchProjects();\r\n    fetchPendingRequests();\r\n  }, []);\r\n\r\n  // Enrich projects with location info after both are loaded\r\n  useEffect(() => {\r\n    // Enrich filtered projects (for progress tracking)\r\n    if (locations.length && projects.length > 0) {\r\n      setProjects(prevProjects => prevProjects.map(project => {\r\n        if (typeof project.location === 'object' && project.location !== null && project.location.name) {\r\n          return project;\r\n        }\r\n        const loc = locations.find(l => l._id === (project.location?._id || project.location));\r\n        return {\r\n          ...project,\r\n          location: loc ? { ...loc } : { name: 'Unknown Location', region: '' }\r\n        };\r\n      }));\r\n    }\r\n    // Enrich all projects (for sidebar)\r\n    if (locations.length && allProjects.length > 0) {\r\n      setEnrichedAllProjects(\r\n        allProjects.map(project => {\r\n          if (typeof project.location === 'object' && project.location !== null && project.location.name) {\r\n            return {\r\n              ...project,\r\n              name: project.projectName,\r\n              engineer: project.projectmanager?.name || 'Not Assigned',\r\n            };\r\n          }\r\n          const loc = locations.find(l => l._id === (project.location?._id || project.location));\r\n          return {\r\n            ...project,\r\n            location: loc ? { ...loc } : { name: 'Unknown Location', region: '' },\r\n            name: project.projectName,\r\n            engineer: project.projectmanager?.name || 'Not Assigned',\r\n          };\r\n        })\r\n      );\r\n    }\r\n  }, [locations, allProjects, projects.length]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (!event.target.closest(\".profile-menu-container\")) {\r\n        setProfileMenuOpen(false);\r\n      }\r\n    };\r\n    \r\n    document.addEventListener(\"click\", handleClickOutside);\r\n    \r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    navigate('/');\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchLogs = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/audit-logs\");\r\n        const sliced = data.slice(0, 3).map((log, i) => ({\r\n          id: i,\r\n          user: {\r\n            name: log.performedBy?.name || \"Unknown\",\r\n            initial: (log.performedBy?.name || \"U\")[0]\r\n          },\r\n          date: new Date(log.timestamp).toLocaleString(),\r\n          activity: `${log.action} - ${log.description}`,\r\n          details: log.meta ? Object.entries(log.meta).map(([key, val]) => `${key}: ${val}`) : []\r\n        }));\r\n        setActivities(sliced);\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch logs\", err);\r\n      }\r\n    };\r\n    fetchLogs();\r\n  }, []);\r\n\r\n  const toggleLocation = (locationId) => {\r\n    setExpandedLocations(prev => ({\r\n      ...prev,\r\n      [locationId]: !prev[locationId]\r\n    }));\r\n  };\r\n\r\n  // Group all projects by location for sidebar\r\n  const projectsByLocation = enrichedAllProjects.reduce((acc, project) => {\r\n    const locationId = project.location?._id || 'unknown';\r\n    if (!acc[locationId]) {\r\n      acc[locationId] = {\r\n        name: project.location?.name || 'Unknown Location',\r\n        region: project.location?.region || '',\r\n        projects: []\r\n      };\r\n    }\r\n    acc[locationId].projects.push(project);\r\n    return acc;\r\n  }, {});\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading dashboard data...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"head\">\r\n      <header className=\"header\">\r\n        <div className=\"logo-container\">\r\n          <img src={require('../../assets/images/FadzLogo1.png')} alt=\"FadzTrack Logo\" className=\"logo-img\" />\r\n          <h1 className=\"brand-name\">FadzTrack</h1>\r\n        </div>\r\n        <nav className=\"nav-menu\">\r\n          <Link to=\"/ceo/dash\" className=\"nav-link\">Dashboard</Link>\r\n          <Link to=\"/ceo/material-list\" className=\"nav-link\">Material</Link>\r\n          <Link to=\"/ceo/proj\" className=\"nav-link\">Projects</Link>\r\n          <Link to=\"/chat\" className=\"nav-link\">Chat</Link>\r\n          <Link to=\"/ceo/audit-logs\" className=\"nav-link\">Audit Logs</Link>\r\n          <Link to=\"/reports\" className=\"nav-link\">Reports</Link>\r\n        </nav>\r\n        <div className=\"profile-menu-container\">\r\n          <div className=\"profile-circle\" onClick={() => setProfileMenuOpen(!profileMenuOpen)}>Z</div>\r\n          {profileMenuOpen && (\r\n            <div className=\"profile-menu\">\r\n              <button onClick={handleLogout}>Logout</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"dashboard-layout\">\r\n        <div className=\"sidebar\">\r\n          <h2>Dashboard</h2>\r\n          <button className=\"add-project-btn\" onClick={() => navigate('/ceo/addarea')}>Add New Area</button>\r\n          <div className=\"location-folders\">\r\n            {Object.entries(projectsByLocation).map(([locationId, locationData]) => (\r\n              <div key={locationId} className=\"location-folder\">\r\n                <div \r\n                  className=\"location-header\" \r\n                  onClick={() => toggleLocation(locationId)}\r\n                >\r\n                  <div className=\"folder-icon\">\r\n                    <span className={`folder-arrow ${expandedLocations[locationId] ? 'expanded' : ''}`}></span>\r\n                    <span className=\"folder-icon-img\"></span>\r\n                  </div>\r\n                  <div className=\"location-info\">\r\n                    <div className=\"location-name\">{locationData.name}</div>\r\n                    <div className=\"location-region\">{locationData.region}</div>\r\n                  </div>\r\n                  <div className=\"project-count\">{locationData.projects.length}</div>\r\n                </div>\r\n                {expandedLocations[locationId] && (\r\n                  <div className=\"projects-list\">\r\n                    {locationData.projects.map(project => (\r\n                      <Link \r\n                        to={`/ceo/proj/${project._id}`} \r\n                        key={project._id} \r\n                        className=\"project-item\"\r\n                      >\r\n                        <div className=\"project-icon\">\r\n                          <span className=\"icon\"></span>\r\n                          <div className=\"icon-bg\"></div>\r\n                        </div>\r\n                        <div className=\"project-info\">\r\n                          <div className=\"project-name\">{project.name}</div>\r\n                          <div className=\"project-engineer\">{project.engineer}</div>\r\n                        </div>\r\n                      </Link>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"main1\">\r\n          <div className=\"greeting-section\">\r\n            <div className=\"greeting-header\">\r\n              <div className=\"greeting-left\">\r\n                <h1>Good Morning, {userName}!</h1>\r\n                <p className=\"logged-in-role\">Currently logged in as: {userRole}</p>\r\n              </div>\r\n              <div className=\"total-projects\">\r\n                <span className=\"total-projects-label\">Total Projects:</span>\r\n                <span className=\"total-projects-count\">{allProjects.length}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"progress-tracking-section\">\r\n              <h2>Progress Tracking</h2>\r\n              <div className=\"latest-projects-progress\">\r\n                <h3>Latest Projects Progress</h3>\r\n                {projects.length === 0 ? (\r\n                  <div style={{ padding: '2rem', textAlign: 'center', color: '#888' }}>\r\n                    No updated projects with progress data yet.\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"project-charts scroll-x\">\r\n                    {projects.map(project => (\r\n                      <div key={project.id} className=\"project-chart-container\">\r\n                        <h4>{project.name}</h4>\r\n                        <div className=\"pie-chart-wrapper\">\r\n                          <PieChart width={160} height={160}>\r\n                            <Pie\r\n                              data={project.progress}\r\n                              cx={80}\r\n                              cy={80}\r\n                              innerRadius={0}\r\n                              outerRadius={65}\r\n                              paddingAngle={0}\r\n                              dataKey=\"value\"\r\n                            >\r\n                              {project.progress.map((entry, index) => (\r\n                                <Cell key={`cell-${index}`} fill={entry.color} />\r\n                              ))}\r\n                            </Pie>\r\n                          </PieChart>\r\n                        </div>\r\n                        <div className=\"chart-legend\">\r\n                          {[\"Completed\", \"In Progress\", \"Not Started\"].map((status, index) => {\r\n                            const item = project.progress.find(p => p.name === status);\r\n                            // Always show all statuses, even if value is 0\r\n                            const color = item ? item.color : (status === 'Completed' ? '#4CAF50' : status === 'In Progress' ? '#5E4FDB' : '#FF6B6B');\r\n                            const value = item ? item.value : 0;\r\n                            return (\r\n                              <div key={status} className=\"legend-item\">\r\n                                <span className=\"color-box\" style={{ backgroundColor: color }}></span>\r\n                                <span className=\"legend-text\">{status}</span>\r\n                                <span style={{ marginLeft: 6, color: '#555', fontWeight: 500 }}>\r\n                                  {value.toFixed(1)}%\r\n                                </span>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                        <div style={{ fontSize: '0.85rem', color: '#888', marginTop: 4 }}>\r\n                          Last updated: {project.latestDate ? new Date(project.latestDate).toLocaleString() : 'N/A'}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"recent-activities-section\">\r\n            <h2>Recent Activities</h2>\r\n            {activities.map(activity => (\r\n              <div key={activity.id} className=\"activity-item\">\r\n                <div className=\"user-initial\">{activity.user.initial}</div>\r\n                <div className=\"activity-details\">\r\n                  <div className=\"activity-header\">\r\n                    <span className=\"user-name\">{activity.user.name}</span>\r\n                    <span className=\"activity-date\">{activity.date}</span>\r\n                  </div>\r\n                  <div className=\"activity-description\">{activity.activity}</div>\r\n                  <div className=\"activity-extra-details\">\r\n                    {activity.details.map((detail, index) => (\r\n                      <div key={index} className=\"detail-item\">{detail}</div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"right-sidebar\">\r\n          <div className=\"pending-requests-section\">\r\n            <div className=\"section-header\">\r\n              <h2>Pending Material Requests</h2>\r\n              <Link to=\"/ceo/material-list\" className=\"view-all-btn\">View All</Link>\r\n            </div>\r\n            <div className=\"pending-requests-list\">\r\n              {pendingRequests.length === 0 ? (\r\n                <div className=\"no-requests\">No pending material requests</div>\r\n              ) : (\r\n                pendingRequests.slice(0, 3).map(request => (\r\n                  <Link to={`/ceo/material-request/${request._id}`} key={request._id} className=\"pending-request-item\">\r\n                    <div className=\"request-icon\"></div>\r\n                    <div className=\"request-details\">\r\n                      <h3 className=\"request-title\">\r\n                        {request.materials?.map(m => `${m.materialName} (${m.quantity})`).join(', ')}\r\n                      </h3>\r\n                      <p className=\"request-description\">{request.description}</p>\r\n                      <div className=\"request-meta\">\r\n                        <span className=\"request-project\">{request.project?.projectName}</span>\r\n                        <span className=\"request-date\">\r\n                          Requested: {new Date(request.createdAt).toLocaleDateString()}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"request-status\">\r\n                      <span className=\"status-badge pending\">Pending CEO Approval</span>\r\n                    </div>\r\n                  </Link>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"chats-section\">\r\n            <h3>Chats</h3>\r\n            <div className=\"chats-list\">\r\n              {chats.map(chat => (\r\n                <div key={chat.id} className=\"chat-item\">\r\n                  <div className=\"chat-avatar\" style={{ backgroundColor: chat.color }}>{chat.initial}</div>\r\n                  <div className=\"chat-details\">\r\n                    <div className=\"chat-name\">{chat.name}</div>\r\n                    <div className=\"chat-message\">{chat.message}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CeoDash;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,QAAQ,EAAEC,GAAG,EAAEC,IAAI,QAAQ,UAAU;AAC9C,SAASC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AACpD,OAAO,iCAAiC;AACxC,OAAOC,GAAG,MAAM,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACiB,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACmB,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACuB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAClE,MAAM,CAACyB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2B,eAAe,EAAEC,kBAAkB,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAAC6B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG9B,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9D,MAAM,CAAC+B,SAAS,EAAEC,YAAY,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAE9C,MAAM,CAACiC,eAAe,EAAEC,kBAAkB,CAAC,GAAGlC,QAAQ,CAAC,CACrD;IAAEmC,EAAE,EAAE,CAAC;IAAEC,IAAI,EAAE,UAAU;IAAEC,QAAQ,EAAE;EAAwB,CAAC,EAC9D;IAAEF,EAAE,EAAE,CAAC;IAAEC,IAAI,EAAE,oBAAoB;IAAEC,QAAQ,EAAE;EAAkB,CAAC,EAClE;IAAEF,EAAE,EAAE,CAAC;IAAEC,IAAI,EAAE,qBAAqB;IAAEC,QAAQ,EAAE;EAAwB,CAAC,EACzE;IAAEF,EAAE,EAAE,CAAC;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAE;EAAsB,CAAC,EAC1D;IAAEF,EAAE,EAAE,CAAC;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAE;EAAyB,CAAC,EAC7D;IAAEF,EAAE,EAAE,CAAC;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAE;EAAwB,CAAC,CAC7D,CAAC;EAEF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAM,CAACwC,OAAO,EAAEC,UAAU,CAAC,GAAGzC,QAAQ,CAAC,CACrC;IACEmC,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,WAAW;IACjBM,SAAS,EAAE,mBAAmB;IAC9BL,QAAQ,EAAE;EACZ,CAAC,EACD;IACEF,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,oBAAoB;IAC1BM,SAAS,EAAE,mBAAmB;IAC9BL,QAAQ,EAAE;EACZ,CAAC,EACD;IACEF,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,qBAAqB;IAC3BM,SAAS,EAAE,mBAAmB;IAC9BL,QAAQ,EAAE;EACZ,CAAC,CACF,CAAC;EAEF,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAG5C,QAAQ,CAAC,CACjC;IACEmC,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,iBAAiB;IACvBS,OAAO,EAAE,GAAG;IACZC,OAAO,EAAE,8BAA8B;IACvCC,KAAK,EAAE;EACT,CAAC,EACD;IACEZ,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,iBAAiB;IACvBS,OAAO,EAAE,GAAG;IACZC,OAAO,EAAE,8BAA8B;IACvCC,KAAK,EAAE;EACT,CAAC,EACD;IACEZ,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,kBAAkB;IACxBS,OAAO,EAAE,GAAG;IACZC,OAAO,EAAE,8BAA8B;IACvCC,KAAK,EAAE;EACT,CAAC,CACF,CAAC;EAEF9C,SAAS,CAAC,MAAM;IACd,MAAM+C,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;QAC3C,MAAMC,IAAI,GAAGH,MAAM,GAAGI,IAAI,CAACC,KAAK,CAACL,MAAM,CAAC,GAAG,IAAI;QAC/C,IAAIG,IAAI,EAAE;UACRtC,WAAW,CAACsC,IAAI,CAAChB,IAAI,CAAC;UACtBpB,WAAW,CAACoC,IAAI,CAACG,IAAI,CAAC;QACxB;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IAED,MAAME,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMpD,GAAG,CAACqD,GAAG,CAAC,YAAY,CAAC;QAC5C5B,YAAY,CAAC2B,IAAI,CAAC;MACpB,CAAC,CAAC,OAAOH,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IAED,MAAMK,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAM;UAAEF,IAAI,EAAEG;QAAa,CAAC,GAAG,MAAMvD,GAAG,CAACqD,GAAG,CAAC,WAAW,CAAC;QACzDtC,cAAc,CAACwC,YAAY,CAAC;QAC5B;QACA,MAAMC,oBAAoB,GAAG,MAAMC,OAAO,CAACC,GAAG,CAC5CH,YAAY,CAACI,GAAG,CAAC,MAAOC,OAAO,IAAK;UAClC,IAAI;YAAA,IAAAC,qBAAA;YACF,MAAM;cAAET,IAAI,EAAEU;YAAa,CAAC,GAAG,MAAM9D,GAAG,CAACqD,GAAG,CAAC,0BAA0BO,OAAO,CAACG,GAAG,WAAW,CAAC;YAC9F;YACA,MAAM;cAAEX,IAAI,EAAEnB;YAAQ,CAAC,GAAG,MAAMjC,GAAG,CAACqD,GAAG,CAAC,0BAA0BO,OAAO,CAACG,GAAG,EAAE,CAAC;YAChF,IAAIC,UAAU,GAAG,IAAI;YACrB,IAAIC,KAAK,CAACC,OAAO,CAACjC,OAAO,CAAC,IAAIA,OAAO,CAACkC,MAAM,GAAG,CAAC,EAAE;cAChDH,UAAU,GAAG/B,OAAO,CAACA,OAAO,CAACkC,MAAM,GAAG,CAAC,CAAC,CAACC,IAAI,IAAI,IAAI;YACvD;YACA,OAAO;cACLxC,EAAE,EAAEgC,OAAO,CAACG,GAAG;cACflC,IAAI,EAAE+B,OAAO,CAACS,WAAW;cACzBvC,QAAQ,EAAE,EAAA+B,qBAAA,GAAAD,OAAO,CAACU,cAAc,cAAAT,qBAAA,uBAAtBA,qBAAA,CAAwBhC,IAAI,KAAI,cAAc;cACxD0C,QAAQ,EAAET,YAAY,CAACS,QAAQ;cAC/BP,UAAU;cACVQ,QAAQ,EAAEZ,OAAO,CAACY,QAAQ,CAAC;YAC7B,CAAC;UACH,CAAC,CAAC,OAAOvB,KAAK,EAAE;YACd,OAAO,IAAI,CAAC,CAAC;UACf;QACF,CAAC,CACH,CAAC;QACD;QACA,MAAMwB,QAAQ,GAAGjB,oBAAoB,CAACkB,MAAM,CAC1CC,CAAC,IAAIA,CAAC,IAAIA,CAAC,CAACJ,QAAQ,IAAIN,KAAK,CAACC,OAAO,CAACS,CAAC,CAACJ,QAAQ,CAAC,IAAII,CAAC,CAACJ,QAAQ,CAAC,CAAC,CAAC,CAAC1C,IAAI,KAAK,SAAS,IAAI8C,CAAC,CAACX,UAC7F,CAAC;QACD;QACAS,QAAQ,CAACG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACD,CAAC,CAACd,UAAU,CAAC,GAAG,IAAIe,IAAI,CAACF,CAAC,CAACb,UAAU,CAAC,CAAC;QACxEnD,WAAW,CAAC4D,QAAQ,CAAC;MACvB,CAAC,CAAC,OAAOxB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD,CAAC,SAAS;QACR9B,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAED,MAAM6D,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACvC,IAAI;QACF,MAAM;UAAE5B;QAAK,CAAC,GAAG,MAAMpD,GAAG,CAACqD,GAAG,CAAC,WAAW,CAAC;QAC3C,MAAM4B,OAAO,GAAG7B,IAAI,CAACsB,MAAM,CAACQ,OAAO,IAAIA,OAAO,CAACC,MAAM,KAAK,aAAa,CAAC;QACxE9D,kBAAkB,CAAC4D,OAAO,CAAC;MAC7B,CAAC,CAAC,OAAOhC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC1D;IACF,CAAC;IAEDR,aAAa,CAAC,CAAC;IACfU,cAAc,CAAC,CAAC;IAChBG,aAAa,CAAC,CAAC;IACf0B,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAtF,SAAS,CAAC,MAAM;IACd;IACA,IAAI8B,SAAS,CAAC2C,MAAM,IAAIvD,QAAQ,CAACuD,MAAM,GAAG,CAAC,EAAE;MAC3CtD,WAAW,CAACuE,YAAY,IAAIA,YAAY,CAACzB,GAAG,CAACC,OAAO,IAAI;QACtD,IAAI,OAAOA,OAAO,CAACY,QAAQ,KAAK,QAAQ,IAAIZ,OAAO,CAACY,QAAQ,KAAK,IAAI,IAAIZ,OAAO,CAACY,QAAQ,CAAC3C,IAAI,EAAE;UAC9F,OAAO+B,OAAO;QAChB;QACA,MAAMyB,GAAG,GAAG7D,SAAS,CAAC8D,IAAI,CAACC,CAAC;UAAA,IAAAC,iBAAA;UAAA,OAAID,CAAC,CAACxB,GAAG,MAAM,EAAAyB,iBAAA,GAAA5B,OAAO,CAACY,QAAQ,cAAAgB,iBAAA,uBAAhBA,iBAAA,CAAkBzB,GAAG,KAAIH,OAAO,CAACY,QAAQ,CAAC;QAAA,EAAC;QACtF,OAAO;UACL,GAAGZ,OAAO;UACVY,QAAQ,EAAEa,GAAG,GAAG;YAAE,GAAGA;UAAI,CAAC,GAAG;YAAExD,IAAI,EAAE,kBAAkB;YAAE4D,MAAM,EAAE;UAAG;QACtE,CAAC;MACH,CAAC,CAAC,CAAC;IACL;IACA;IACA,IAAIjE,SAAS,CAAC2C,MAAM,IAAIrD,WAAW,CAACqD,MAAM,GAAG,CAAC,EAAE;MAC9ClD,sBAAsB,CACpBH,WAAW,CAAC6C,GAAG,CAACC,OAAO,IAAI;QAAA,IAAA8B,sBAAA;QACzB,IAAI,OAAO9B,OAAO,CAACY,QAAQ,KAAK,QAAQ,IAAIZ,OAAO,CAACY,QAAQ,KAAK,IAAI,IAAIZ,OAAO,CAACY,QAAQ,CAAC3C,IAAI,EAAE;UAAA,IAAA8D,sBAAA;UAC9F,OAAO;YACL,GAAG/B,OAAO;YACV/B,IAAI,EAAE+B,OAAO,CAACS,WAAW;YACzBvC,QAAQ,EAAE,EAAA6D,sBAAA,GAAA/B,OAAO,CAACU,cAAc,cAAAqB,sBAAA,uBAAtBA,sBAAA,CAAwB9D,IAAI,KAAI;UAC5C,CAAC;QACH;QACA,MAAMwD,GAAG,GAAG7D,SAAS,CAAC8D,IAAI,CAACC,CAAC;UAAA,IAAAK,kBAAA;UAAA,OAAIL,CAAC,CAACxB,GAAG,MAAM,EAAA6B,kBAAA,GAAAhC,OAAO,CAACY,QAAQ,cAAAoB,kBAAA,uBAAhBA,kBAAA,CAAkB7B,GAAG,KAAIH,OAAO,CAACY,QAAQ,CAAC;QAAA,EAAC;QACtF,OAAO;UACL,GAAGZ,OAAO;UACVY,QAAQ,EAAEa,GAAG,GAAG;YAAE,GAAGA;UAAI,CAAC,GAAG;YAAExD,IAAI,EAAE,kBAAkB;YAAE4D,MAAM,EAAE;UAAG,CAAC;UACrE5D,IAAI,EAAE+B,OAAO,CAACS,WAAW;UACzBvC,QAAQ,EAAE,EAAA4D,sBAAA,GAAA9B,OAAO,CAACU,cAAc,cAAAoB,sBAAA,uBAAtBA,sBAAA,CAAwB7D,IAAI,KAAI;QAC5C,CAAC;MACH,CAAC,CACH,CAAC;IACH;EACF,CAAC,EAAE,CAACL,SAAS,EAAEV,WAAW,EAAEF,QAAQ,CAACuD,MAAM,CAAC,CAAC;EAE7CzE,SAAS,CAAC,MAAM;IACd,MAAMmG,kBAAkB,GAAIC,KAAK,IAAK;MACpC,IAAI,CAACA,KAAK,CAACC,MAAM,CAACC,OAAO,CAAC,yBAAyB,CAAC,EAAE;QACpDrF,kBAAkB,CAAC,KAAK,CAAC;MAC3B;IACF,CAAC;IAEDsF,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEL,kBAAkB,CAAC;IAEtD,OAAO,MAAM;MACXI,QAAQ,CAACE,mBAAmB,CAAC,OAAO,EAAEN,kBAAkB,CAAC;IAC3D,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMO,YAAY,GAAGA,CAAA,KAAM;IACzBzD,YAAY,CAAC0D,UAAU,CAAC,OAAO,CAAC;IAChC1D,YAAY,CAAC0D,UAAU,CAAC,MAAM,CAAC;IAC/BhG,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC;EAEDX,SAAS,CAAC,MAAM;IACd,MAAM4G,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAM;UAAElD;QAAK,CAAC,GAAG,MAAMpD,GAAG,CAACqD,GAAG,CAAC,aAAa,CAAC;QAC7C,MAAMkD,MAAM,GAAGnD,IAAI,CAACoD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC7C,GAAG,CAAC,CAAC8C,GAAG,EAAEC,CAAC;UAAA,IAAAC,gBAAA,EAAAC,iBAAA;UAAA,OAAM;YAC/ChF,EAAE,EAAE8E,CAAC;YACL7D,IAAI,EAAE;cACJhB,IAAI,EAAE,EAAA8E,gBAAA,GAAAF,GAAG,CAACI,WAAW,cAAAF,gBAAA,uBAAfA,gBAAA,CAAiB9E,IAAI,KAAI,SAAS;cACxCS,OAAO,EAAE,CAAC,EAAAsE,iBAAA,GAAAH,GAAG,CAACI,WAAW,cAAAD,iBAAA,uBAAfA,iBAAA,CAAiB/E,IAAI,KAAI,GAAG,EAAE,CAAC;YAC3C,CAAC;YACDuC,IAAI,EAAE,IAAIW,IAAI,CAAC0B,GAAG,CAACK,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC;YAC9CC,QAAQ,EAAE,GAAGP,GAAG,CAACQ,MAAM,MAAMR,GAAG,CAACS,WAAW,EAAE;YAC9CC,OAAO,EAAEV,GAAG,CAACW,IAAI,GAAGC,MAAM,CAACC,OAAO,CAACb,GAAG,CAACW,IAAI,CAAC,CAACzD,GAAG,CAAC,CAAC,CAAC4D,GAAG,EAAEC,GAAG,CAAC,KAAK,GAAGD,GAAG,KAAKC,GAAG,EAAE,CAAC,GAAG;UACvF,CAAC;QAAA,CAAC,CAAC;QACHxF,aAAa,CAACuE,MAAM,CAAC;MACvB,CAAC,CAAC,OAAOkB,GAAG,EAAE;QACZvE,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEwE,GAAG,CAAC;MAC5C;IACF,CAAC;IACDnB,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMoB,cAAc,GAAIC,UAAU,IAAK;IACrCpG,oBAAoB,CAACqG,IAAI,KAAK;MAC5B,GAAGA,IAAI;MACP,CAACD,UAAU,GAAG,CAACC,IAAI,CAACD,UAAU;IAChC,CAAC,CAAC,CAAC;EACL,CAAC;;EAED;EACA,MAAME,kBAAkB,GAAG7G,mBAAmB,CAAC8G,MAAM,CAAC,CAACC,GAAG,EAAEnE,OAAO,KAAK;IAAA,IAAAoE,kBAAA;IACtE,MAAML,UAAU,GAAG,EAAAK,kBAAA,GAAApE,OAAO,CAACY,QAAQ,cAAAwD,kBAAA,uBAAhBA,kBAAA,CAAkBjE,GAAG,KAAI,SAAS;IACrD,IAAI,CAACgE,GAAG,CAACJ,UAAU,CAAC,EAAE;MAAA,IAAAM,kBAAA,EAAAC,kBAAA;MACpBH,GAAG,CAACJ,UAAU,CAAC,GAAG;QAChB9F,IAAI,EAAE,EAAAoG,kBAAA,GAAArE,OAAO,CAACY,QAAQ,cAAAyD,kBAAA,uBAAhBA,kBAAA,CAAkBpG,IAAI,KAAI,kBAAkB;QAClD4D,MAAM,EAAE,EAAAyC,kBAAA,GAAAtE,OAAO,CAACY,QAAQ,cAAA0D,kBAAA,uBAAhBA,kBAAA,CAAkBzC,MAAM,KAAI,EAAE;QACtC7E,QAAQ,EAAE;MACZ,CAAC;IACH;IACAmH,GAAG,CAACJ,UAAU,CAAC,CAAC/G,QAAQ,CAACuH,IAAI,CAACvE,OAAO,CAAC;IACtC,OAAOmE,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EAEN,IAAI7G,OAAO,EAAE;IACX,oBACEhB,OAAA;MAAKkI,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAChCnI,OAAA;QAAKkI,SAAS,EAAC;MAAiB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACvCvI,OAAA;QAAAmI,QAAA,EAAG;MAAyB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC;EAEV;EAEA,oBACEvI,OAAA;IAAKkI,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnBnI,OAAA;MAAQkI,SAAS,EAAC,QAAQ;MAAAC,QAAA,gBACxBnI,OAAA;QAAKkI,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BnI,OAAA;UAAKwI,GAAG,EAAEC,OAAO,CAAC,mCAAmC,CAAE;UAACC,GAAG,EAAC,gBAAgB;UAACR,SAAS,EAAC;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACpGvI,OAAA;UAAIkI,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACNvI,OAAA;QAAKkI,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvBnI,OAAA,CAACH,IAAI;UAAC8I,EAAE,EAAC,WAAW;UAACT,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC1DvI,OAAA,CAACH,IAAI;UAAC8I,EAAE,EAAC,oBAAoB;UAACT,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAClEvI,OAAA,CAACH,IAAI;UAAC8I,EAAE,EAAC,WAAW;UAACT,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACzDvI,OAAA,CAACH,IAAI;UAAC8I,EAAE,EAAC,OAAO;UAACT,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjDvI,OAAA,CAACH,IAAI;UAAC8I,EAAE,EAAC,iBAAiB;UAACT,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjEvI,OAAA,CAACH,IAAI;UAAC8I,EAAE,EAAC,UAAU;UAACT,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC,eACNvI,OAAA;QAAKkI,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBACrCnI,OAAA;UAAKkI,SAAS,EAAC,gBAAgB;UAACU,OAAO,EAAEA,CAAA,KAAMnI,kBAAkB,CAAC,CAACD,eAAe,CAAE;UAAA2H,QAAA,EAAC;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EAC3F/H,eAAe,iBACdR,OAAA;UAAKkI,SAAS,EAAC,cAAc;UAAAC,QAAA,eAC3BnI,OAAA;YAAQ4I,OAAO,EAAE1C,YAAa;YAAAiC,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAETvI,OAAA;MAAKkI,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BnI,OAAA;QAAKkI,SAAS,EAAC,SAAS;QAAAC,QAAA,gBACtBnI,OAAA;UAAAmI,QAAA,EAAI;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAClBvI,OAAA;UAAQkI,SAAS,EAAC,iBAAiB;UAACU,OAAO,EAAEA,CAAA,KAAMzI,QAAQ,CAAC,cAAc,CAAE;UAAAgI,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClGvI,OAAA;UAAKkI,SAAS,EAAC,kBAAkB;UAAAC,QAAA,EAC9BhB,MAAM,CAACC,OAAO,CAACO,kBAAkB,CAAC,CAAClE,GAAG,CAAC,CAAC,CAACgE,UAAU,EAAEoB,YAAY,CAAC,kBACjE7I,OAAA;YAAsBkI,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC/CnI,OAAA;cACEkI,SAAS,EAAC,iBAAiB;cAC3BU,OAAO,EAAEA,CAAA,KAAMpB,cAAc,CAACC,UAAU,CAAE;cAAAU,QAAA,gBAE1CnI,OAAA;gBAAKkI,SAAS,EAAC,aAAa;gBAAAC,QAAA,gBAC1BnI,OAAA;kBAAMkI,SAAS,EAAE,gBAAgB9G,iBAAiB,CAACqG,UAAU,CAAC,GAAG,UAAU,GAAG,EAAE,EAAG;kBAAAU,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC5FvI,OAAA;kBAAMkI,SAAS,EAAC,iBAAiB;kBAAAC,QAAA,EAAC;gBAAE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC,eACNvI,OAAA;gBAAKkI,SAAS,EAAC,eAAe;gBAAAC,QAAA,gBAC5BnI,OAAA;kBAAKkI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAEU,YAAY,CAAClH;gBAAI;kBAAAyG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACxDvI,OAAA;kBAAKkI,SAAS,EAAC,iBAAiB;kBAAAC,QAAA,EAAEU,YAAY,CAACtD;gBAAM;kBAAA6C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzD,CAAC,eACNvI,OAAA;gBAAKkI,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAEU,YAAY,CAACnI,QAAQ,CAACuD;cAAM;gBAAAmE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChE,CAAC,EACLnH,iBAAiB,CAACqG,UAAU,CAAC,iBAC5BzH,OAAA;cAAKkI,SAAS,EAAC,eAAe;cAAAC,QAAA,EAC3BU,YAAY,CAACnI,QAAQ,CAAC+C,GAAG,CAACC,OAAO,iBAChC1D,OAAA,CAACH,IAAI;gBACH8I,EAAE,EAAE,aAAajF,OAAO,CAACG,GAAG,EAAG;gBAE/BqE,SAAS,EAAC,cAAc;gBAAAC,QAAA,gBAExBnI,OAAA;kBAAKkI,SAAS,EAAC,cAAc;kBAAAC,QAAA,gBAC3BnI,OAAA;oBAAMkI,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAC;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACjCvI,OAAA;oBAAKkI,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC,eACNvI,OAAA;kBAAKkI,SAAS,EAAC,cAAc;kBAAAC,QAAA,gBAC3BnI,OAAA;oBAAKkI,SAAS,EAAC,cAAc;oBAAAC,QAAA,EAAEzE,OAAO,CAAC/B;kBAAI;oBAAAyG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAClDvI,OAAA;oBAAKkI,SAAS,EAAC,kBAAkB;oBAAAC,QAAA,EAAEzE,OAAO,CAAC9B;kBAAQ;oBAAAwG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvD,CAAC;cAAA,GAVD7E,OAAO,CAACG,GAAG;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAWZ,CACP;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA,GAlCOd,UAAU;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAmCf,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENvI,OAAA;QAAKkI,SAAS,EAAC,OAAO;QAAAC,QAAA,gBACpBnI,OAAA;UAAKkI,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BnI,OAAA;YAAKkI,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BnI,OAAA;cAAKkI,SAAS,EAAC,eAAe;cAAAC,QAAA,gBAC5BnI,OAAA;gBAAAmI,QAAA,GAAI,gBAAc,EAAC/H,QAAQ,EAAC,GAAC;cAAA;gBAAAgI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAClCvI,OAAA;gBAAGkI,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,GAAC,0BAAwB,EAAC7H,QAAQ;cAAA;gBAAA8H,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjE,CAAC,eACNvI,OAAA;cAAKkI,SAAS,EAAC,gBAAgB;cAAAC,QAAA,gBAC7BnI,OAAA;gBAAMkI,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,EAAC;cAAe;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC7DvI,OAAA;gBAAMkI,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,EAAEvH,WAAW,CAACqD;cAAM;gBAAAmE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/D,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENvI,OAAA;YAAKkI,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBACxCnI,OAAA;cAAAmI,QAAA,EAAI;YAAiB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1BvI,OAAA;cAAKkI,SAAS,EAAC,0BAA0B;cAAAC,QAAA,gBACvCnI,OAAA;gBAAAmI,QAAA,EAAI;cAAwB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EAChC7H,QAAQ,CAACuD,MAAM,KAAK,CAAC,gBACpBjE,OAAA;gBAAK8I,KAAK,EAAE;kBAAEC,OAAO,EAAE,MAAM;kBAAEC,SAAS,EAAE,QAAQ;kBAAE1G,KAAK,EAAE;gBAAO,CAAE;gBAAA6F,QAAA,EAAC;cAErE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,gBAENvI,OAAA;gBAAKkI,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EACrCzH,QAAQ,CAAC+C,GAAG,CAACC,OAAO,iBACnB1D,OAAA;kBAAsBkI,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,gBACvDnI,OAAA;oBAAAmI,QAAA,EAAKzE,OAAO,CAAC/B;kBAAI;oBAAAyG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACvBvI,OAAA;oBAAKkI,SAAS,EAAC,mBAAmB;oBAAAC,QAAA,eAChCnI,OAAA,CAACP,QAAQ;sBAACwJ,KAAK,EAAE,GAAI;sBAACC,MAAM,EAAE,GAAI;sBAAAf,QAAA,eAChCnI,OAAA,CAACN,GAAG;wBACFwD,IAAI,EAAEQ,OAAO,CAACW,QAAS;wBACvB8E,EAAE,EAAE,EAAG;wBACPC,EAAE,EAAE,EAAG;wBACPC,WAAW,EAAE,CAAE;wBACfC,WAAW,EAAE,EAAG;wBAChBC,YAAY,EAAE,CAAE;wBAChBC,OAAO,EAAC,OAAO;wBAAArB,QAAA,EAEdzE,OAAO,CAACW,QAAQ,CAACZ,GAAG,CAAC,CAACgG,KAAK,EAAEC,KAAK,kBACjC1J,OAAA,CAACL,IAAI;0BAAuBgK,IAAI,EAAEF,KAAK,CAACnH;wBAAM,GAAnC,QAAQoH,KAAK,EAAE;0BAAAtB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAsB,CACjD;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACC;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACR,CAAC,eACNvI,OAAA;oBAAKkI,SAAS,EAAC,cAAc;oBAAAC,QAAA,EAC1B,CAAC,WAAW,EAAE,aAAa,EAAE,aAAa,CAAC,CAAC1E,GAAG,CAAC,CAACwB,MAAM,EAAEyE,KAAK,KAAK;sBAClE,MAAME,IAAI,GAAGlG,OAAO,CAACW,QAAQ,CAACe,IAAI,CAACX,CAAC,IAAIA,CAAC,CAAC9C,IAAI,KAAKsD,MAAM,CAAC;sBAC1D;sBACA,MAAM3C,KAAK,GAAGsH,IAAI,GAAGA,IAAI,CAACtH,KAAK,GAAI2C,MAAM,KAAK,WAAW,GAAG,SAAS,GAAGA,MAAM,KAAK,aAAa,GAAG,SAAS,GAAG,SAAU;sBACzH,MAAM4E,KAAK,GAAGD,IAAI,GAAGA,IAAI,CAACC,KAAK,GAAG,CAAC;sBACnC,oBACE7J,OAAA;wBAAkBkI,SAAS,EAAC,aAAa;wBAAAC,QAAA,gBACvCnI,OAAA;0BAAMkI,SAAS,EAAC,WAAW;0BAACY,KAAK,EAAE;4BAAEgB,eAAe,EAAExH;0BAAM;wBAAE;0BAAA8F,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CAAC,eACtEvI,OAAA;0BAAMkI,SAAS,EAAC,aAAa;0BAAAC,QAAA,EAAElD;wBAAM;0BAAAmD,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CAAC,eAC7CvI,OAAA;0BAAM8I,KAAK,EAAE;4BAAEiB,UAAU,EAAE,CAAC;4BAAEzH,KAAK,EAAE,MAAM;4BAAE0H,UAAU,EAAE;0BAAI,CAAE;0BAAA7B,QAAA,GAC5D0B,KAAK,CAACI,OAAO,CAAC,CAAC,CAAC,EAAC,GACpB;wBAAA;0BAAA7B,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAM,CAAC;sBAAA,GALCtD,MAAM;wBAAAmD,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAMX,CAAC;oBAEV,CAAC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC,eACNvI,OAAA;oBAAK8I,KAAK,EAAE;sBAAEoB,QAAQ,EAAE,SAAS;sBAAE5H,KAAK,EAAE,MAAM;sBAAE6H,SAAS,EAAE;oBAAE,CAAE;oBAAAhC,QAAA,GAAC,gBAClD,EAACzE,OAAO,CAACI,UAAU,GAAG,IAAIe,IAAI,CAACnB,OAAO,CAACI,UAAU,CAAC,CAAC+C,cAAc,CAAC,CAAC,GAAG,KAAK;kBAAA;oBAAAuB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACtF,CAAC;gBAAA,GAtCE7E,OAAO,CAAChC,EAAE;kBAAA0G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAuCf,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENvI,OAAA;UAAKkI,SAAS,EAAC,2BAA2B;UAAAC,QAAA,gBACxCnI,OAAA;YAAAmI,QAAA,EAAI;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EACzB1G,UAAU,CAAC4B,GAAG,CAACqD,QAAQ,iBACtB9G,OAAA;YAAuBkI,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC9CnI,OAAA;cAAKkI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAErB,QAAQ,CAACnE,IAAI,CAACP;YAAO;cAAAgG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC3DvI,OAAA;cAAKkI,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/BnI,OAAA;gBAAKkI,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,gBAC9BnI,OAAA;kBAAMkI,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAErB,QAAQ,CAACnE,IAAI,CAAChB;gBAAI;kBAAAyG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACvDvI,OAAA;kBAAMkI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAErB,QAAQ,CAAC5C;gBAAI;kBAAAkE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC,eACNvI,OAAA;gBAAKkI,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,EAAErB,QAAQ,CAACA;cAAQ;gBAAAsB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC/DvI,OAAA;gBAAKkI,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,EACpCrB,QAAQ,CAACG,OAAO,CAACxD,GAAG,CAAC,CAAC2G,MAAM,EAAEV,KAAK,kBAClC1J,OAAA;kBAAiBkI,SAAS,EAAC,aAAa;kBAAAC,QAAA,EAAEiC;gBAAM,GAAtCV,KAAK;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAuC,CACvD;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA,GAbEzB,QAAQ,CAACpF,EAAE;YAAA0G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAchB,CACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENvI,OAAA;QAAKkI,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5BnI,OAAA;UAAKkI,SAAS,EAAC,0BAA0B;UAAAC,QAAA,gBACvCnI,OAAA;YAAKkI,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7BnI,OAAA;cAAAmI,QAAA,EAAI;YAAyB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClCvI,OAAA,CAACH,IAAI;cAAC8I,EAAE,EAAC,oBAAoB;cAACT,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnE,CAAC,eACNvI,OAAA;YAAKkI,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EACnCjH,eAAe,CAAC+C,MAAM,KAAK,CAAC,gBAC3BjE,OAAA;cAAKkI,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAC;YAA4B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,GAE/DrH,eAAe,CAACoF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC7C,GAAG,CAACuB,OAAO;cAAA,IAAAqF,kBAAA,EAAAC,gBAAA;cAAA,oBACrCtK,OAAA,CAACH,IAAI;gBAAC8I,EAAE,EAAE,yBAAyB3D,OAAO,CAACnB,GAAG,EAAG;gBAAmBqE,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBAClGnI,OAAA;kBAAKkI,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAC;gBAAE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtCvI,OAAA;kBAAKkI,SAAS,EAAC,iBAAiB;kBAAAC,QAAA,gBAC9BnI,OAAA;oBAAIkI,SAAS,EAAC,eAAe;oBAAAC,QAAA,GAAAkC,kBAAA,GAC1BrF,OAAO,CAACuF,SAAS,cAAAF,kBAAA,uBAAjBA,kBAAA,CAAmB5G,GAAG,CAAC+G,CAAC,IAAI,GAAGA,CAAC,CAACC,YAAY,KAAKD,CAAC,CAACE,QAAQ,GAAG,CAAC,CAACC,IAAI,CAAC,IAAI;kBAAC;oBAAAvC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1E,CAAC,eACLvI,OAAA;oBAAGkI,SAAS,EAAC,qBAAqB;oBAAAC,QAAA,EAAEnD,OAAO,CAACgC;kBAAW;oBAAAoB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC5DvI,OAAA;oBAAKkI,SAAS,EAAC,cAAc;oBAAAC,QAAA,gBAC3BnI,OAAA;sBAAMkI,SAAS,EAAC,iBAAiB;sBAAAC,QAAA,GAAAmC,gBAAA,GAAEtF,OAAO,CAACtB,OAAO,cAAA4G,gBAAA,uBAAfA,gBAAA,CAAiBnG;oBAAW;sBAAAiE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eACvEvI,OAAA;sBAAMkI,SAAS,EAAC,cAAc;sBAAAC,QAAA,GAAC,aAClB,EAAC,IAAItD,IAAI,CAACG,OAAO,CAAC4F,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC;oBAAA;sBAAAzC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACxD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACNvI,OAAA;kBAAKkI,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,eAC7BnI,OAAA;oBAAMkI,SAAS,EAAC,sBAAsB;oBAAAC,QAAA,EAAC;kBAAoB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/D,CAAC;cAAA,GAhB+CvD,OAAO,CAACnB,GAAG;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAiB5D,CAAC;YAAA,CACR;UACF;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENvI,OAAA;UAAKkI,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BnI,OAAA;YAAAmI,QAAA,EAAI;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACdvI,OAAA;YAAKkI,SAAS,EAAC,YAAY;YAAAC,QAAA,EACxBjG,KAAK,CAACuB,GAAG,CAACqH,IAAI,iBACb9K,OAAA;cAAmBkI,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACtCnI,OAAA;gBAAKkI,SAAS,EAAC,aAAa;gBAACY,KAAK,EAAE;kBAAEgB,eAAe,EAAEgB,IAAI,CAACxI;gBAAM,CAAE;gBAAA6F,QAAA,EAAE2C,IAAI,CAAC1I;cAAO;gBAAAgG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACzFvI,OAAA;gBAAKkI,SAAS,EAAC,cAAc;gBAAAC,QAAA,gBAC3BnI,OAAA;kBAAKkI,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAE2C,IAAI,CAACnJ;gBAAI;kBAAAyG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC5CvI,OAAA;kBAAKkI,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAE2C,IAAI,CAACzI;gBAAO;kBAAA+F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/C,CAAC;YAAA,GALEuC,IAAI,CAACpJ,EAAE;cAAA0G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAMZ,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACrI,EAAA,CA5dID,OAAO;EAAA,QACML,WAAW;AAAA;AAAAmL,EAAA,GADxB9K,OAAO;AA8db,eAAeA,OAAO;AAAC,IAAA8K,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}