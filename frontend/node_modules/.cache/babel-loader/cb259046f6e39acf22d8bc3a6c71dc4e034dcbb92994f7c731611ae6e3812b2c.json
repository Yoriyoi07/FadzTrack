{"ast":null,"code":"var _jsxFileName = \"E:\\\\Fadz_web\\\\FADZtrack-web-\\\\frontend\\\\src\\\\components\\\\pic\\\\PicChat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { FaPaperPlane, FaWindowMaximize, FaEllipsisH } from 'react-icons/fa';\nimport io from 'socket.io-client';\nimport '../style/pic_style/Pic_Chat.css';\nimport api from '../../api/axiosInstance';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000');\nconst PicChat = () => {\n  _s();\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  const stored = localStorage.getItem('user');\n  const user = stored ? JSON.parse(stored) : null;\n  const userId = user === null || user === void 0 ? void 0 : user._id;\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [project, setProject] = useState(null);\n  const [, setUserName] = useState((user === null || user === void 0 ? void 0 : user.name) || '');\n  const [, setProjects] = useState([]);\n  const [profileMenuOpen, setProfileMenuOpen] = useState(false);\n\n  // Listen for incoming messages\n  useEffect(() => {\n    socket.on('receiveMessage', data => {\n      setMessages(prevMessages => [...prevMessages, data]);\n    });\n\n    // Clean up socket on unmount\n    return () => socket.off('receiveMessage');\n  }, []);\n  const handleSend = () => {\n    if (!newMessage.trim()) return;\n    const user = JSON.parse(localStorage.getItem('user'));\n    const messageData = {\n      sender: user.id,\n      content: newMessage,\n      chatId: '64e2c7c2053f826db77d9301',\n      timestamp: new Date().toISOString()\n    };\n    socket.emit('sendMessage', messageData);\n    setNewMessage('');\n  };\n\n  // Auth guard\n  useEffect(() => {\n    if (!token || !user) {\n      navigate('/');\n      return;\n    }\n    setUserName(user.name);\n  }, [navigate, token, user]);\n\n  // Fetch all projects where this user is PIC\n  useEffect(() => {\n    if (!token || !user) return;\n    const fetchProjects = async () => {\n      try {\n        const {\n          data\n        } = await api.get('/projects', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const filtered = data.filter(p => Array.isArray(p.pic) && p.pic.some(picUser => picUser._id === userId));\n        setProjects(filtered);\n      } catch (err) {\n        setProjects([]);\n      }\n    };\n    fetchProjects();\n  }, [token, user, userId]);\n\n  // Fetch assigned project for nav links\n  useEffect(() => {\n    if (!token || !userId) return;\n    const fetchAssigned = async () => {\n      try {\n        const {\n          data\n        } = await api.get(`/projects/assigned/${userId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setProject(data[0] || null);\n      } catch (err) {\n        setProject(null);\n      }\n    };\n    fetchAssigned();\n  }, [token, userId]);\n\n  // Logout handler\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    navigate('/');\n  };\n\n  // Profile menu close on outside click\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (!event.target.closest(\".profile-menu-container\")) {\n        setProfileMenuOpen(false);\n      }\n    };\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => document.removeEventListener(\"click\", handleClickOutside);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: require('../../assets/images/FadzLogo1.png'),\n          alt: \"FadzTrack Logo\",\n          className: \"logo-img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"brand-name\",\n          children: \"FadzTrack\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"nav-menu\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/pic\",\n          className: \"nav-link\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), project && /*#__PURE__*/_jsxDEV(Link, {\n          to: `/pic/projects/${project._id}/request`,\n          className: \"nav-link\",\n          children: \"Requests\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 24\n        }, this), project && /*#__PURE__*/_jsxDEV(Link, {\n          to: `/pic/${project._id}`,\n          className: \"nav-link\",\n          children: \"View Project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/pic/chat\",\n          className: \"nav-link\",\n          children: \"Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-menu-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-circle\",\n          onClick: () => setProfileMenuOpen(!profileMenuOpen),\n          children: \"Z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), profileMenuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-menu\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"message-title\",\n            children: \"Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"message-text\",\n            children: \"Start chatting below\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-window\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header-icons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"icon-btn\",\n              children: /*#__PURE__*/_jsxDEV(FaWindowMaximize, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"icon-btn\",\n              children: /*#__PURE__*/_jsxDEV(FaEllipsisH, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-messages\",\n            children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [msg.sender, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 13\n              }, this), \" \", msg.content]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Type your message here\",\n            className: \"input-box\",\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            onKeyDown: e => e.key === 'Enter' && handleSend()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-btn\",\n            onClick: handleSend,\n            children: /*#__PURE__*/_jsxDEV(FaPaperPlane, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n_s(PicChat, \"MXzNvYsJ7kxzxA1bEdWeYqIpVYQ=\", false, function () {\n  return [useNavigate];\n});\n_c = PicChat;\nexport default PicChat;\nvar _c;\n$RefreshReg$(_c, \"PicChat\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","FaPaperPlane","FaWindowMaximize","FaEllipsisH","io","api","jsxDEV","_jsxDEV","socket","PicChat","_s","navigate","token","localStorage","getItem","stored","user","JSON","parse","userId","_id","messages","setMessages","newMessage","setNewMessage","project","setProject","setUserName","name","setProjects","profileMenuOpen","setProfileMenuOpen","on","data","prevMessages","off","handleSend","trim","messageData","sender","id","content","chatId","timestamp","Date","toISOString","emit","fetchProjects","get","headers","Authorization","filtered","filter","p","Array","isArray","pic","some","picUser","err","fetchAssigned","handleLogout","removeItem","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","className","children","src","require","alt","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","map","msg","index","type","placeholder","value","onChange","e","onKeyDown","key","_c","$RefreshReg$"],"sources":["E:/Fadz_web/FADZtrack-web-/frontend/src/components/pic/PicChat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport {  FaPaperPlane, FaWindowMaximize, FaEllipsisH } from 'react-icons/fa';\r\nimport io from 'socket.io-client';\r\nimport '../style/pic_style/Pic_Chat.css';\r\nimport api from '../../api/axiosInstance';\r\n\r\nconst socket = io('http://localhost:5000'); \r\n\r\nconst PicChat = () => {\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem('token');\r\n  const stored = localStorage.getItem('user');\r\n  const user = stored ? JSON.parse(stored) : null;\r\n  const userId = user?._id;\r\n\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [project, setProject] = useState(null);\r\n  const [, setUserName] = useState(user?.name || '');\r\n  const [, setProjects] = useState([]);\r\n  const [profileMenuOpen, setProfileMenuOpen] = useState(false);\r\n\r\n\r\n  // Listen for incoming messages\r\n  useEffect(() => {\r\n    socket.on('receiveMessage', (data) => {\r\n      setMessages((prevMessages) => [...prevMessages, data]);\r\n    });\r\n\r\n    // Clean up socket on unmount\r\n    return () => socket.off('receiveMessage');\r\n  }, []);\r\n\r\n  const handleSend = () => {\r\n    if (!newMessage.trim()) return;\r\n  \r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n    const messageData = {\r\n      sender: user.id, \r\n      content: newMessage,\r\n      chatId: '64e2c7c2053f826db77d9301',\r\n      timestamp: new Date().toISOString()\r\n    };\r\n  \r\n    socket.emit('sendMessage', messageData);\r\n    setNewMessage(''); \r\n  };\r\n  \r\n  // Auth guard\r\n  useEffect(() => {\r\n    if (!token || !user) {\r\n      navigate('/');\r\n      return;\r\n    }\r\n    setUserName(user.name);\r\n  }, [navigate, token, user]);\r\n\r\n  // Fetch all projects where this user is PIC\r\n  useEffect(() => {\r\n    if (!token || !user) return;\r\n    const fetchProjects = async () => {\r\n      try {\r\n        const { data } = await api.get('/projects', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        const filtered = data.filter(\r\n          (p) => Array.isArray(p.pic) && p.pic.some((picUser) => picUser._id === userId)\r\n        );\r\n        setProjects(filtered);\r\n      } catch (err) {\r\n        setProjects([]);\r\n      }\r\n    };\r\n    fetchProjects();\r\n  }, [token, user, userId]);\r\n\r\n  // Fetch assigned project for nav links\r\n  useEffect(() => {\r\n    if (!token || !userId) return;\r\n    const fetchAssigned = async () => {\r\n      try {\r\n        const { data } = await api.get(`/projects/assigned/${userId}`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setProject(data[0] || null);\r\n      } catch (err) {\r\n        setProject(null);\r\n      }\r\n    };\r\n    fetchAssigned();\r\n  }, [token, userId]);\r\n\r\n    // Logout handler\r\n    const handleLogout = () => {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      navigate('/');\r\n    };\r\n  \r\n    // Profile menu close on outside click\r\n    useEffect(() => {\r\n      const handleClickOutside = (event) => {\r\n        if (!event.target.closest(\".profile-menu-container\")) {\r\n          setProfileMenuOpen(false);\r\n        }\r\n      };\r\n      document.addEventListener(\"click\", handleClickOutside);\r\n      return () => document.removeEventListener(\"click\", handleClickOutside);\r\n    }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* Header with Navigation */}\r\n      <header className=\"header\">\r\n        <div className=\"logo-container\">\r\n          <img src={require('../../assets/images/FadzLogo1.png')} alt=\"FadzTrack Logo\" className=\"logo-img\" />\r\n          <h1 className=\"brand-name\">FadzTrack</h1>\r\n        </div>\r\n        <nav className=\"nav-menu\">\r\n          <Link to=\"/pic\" className=\"nav-link\">Dashboard</Link>\r\n          {project && (<Link to={`/pic/projects/${project._id}/request`} className=\"nav-link\">Requests</Link>)}\r\n          {project && (<Link to={`/pic/${project._id}`} className=\"nav-link\">View Project</Link>)}\r\n          <Link to=\"/pic/chat\" className=\"nav-link\">Chat</Link>\r\n        </nav>\r\n        <div className=\"profile-menu-container\">\r\n          <div className=\"profile-circle\" onClick={() => setProfileMenuOpen(!profileMenuOpen)}>Z</div>\r\n          {profileMenuOpen && (\r\n            <div className=\"profile-menu\">\r\n              <button onClick={handleLogout}>Logout</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"content\">\r\n  <div className=\"sidebar\">\r\n    <div className=\"message-card\">\r\n      <h3 className=\"message-title\">Chat</h3>\r\n      <p className=\"message-text\">Start chatting below</p>\r\n    </div>\r\n  </div>\r\n\r\n  {/* Chat Section */}\r\n  <div className=\"chat-section\">\r\n    <div className=\"chat-window\">\r\n      {/* Chat Header */}\r\n      <div className=\"chat-header-icons\">\r\n        <button className=\"icon-btn\"><FaWindowMaximize /></button>\r\n        <button className=\"icon-btn\"><FaEllipsisH /></button>\r\n      </div>\r\n\r\n      {/* Chat Messages */}\r\n      <div className=\"chat-messages\">\r\n        {messages.map((msg, index) => (\r\n          <div key={index} className=\"chat-message\">\r\n            <strong>{msg.sender}:</strong> {msg.content}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n\r\n    {/* Input Field */}\r\n    <div className=\"message-input\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Type your message here\"\r\n        className=\"input-box\"\r\n        value={newMessage}\r\n        onChange={(e) => setNewMessage(e.target.value)}\r\n        onKeyDown={(e) => e.key === 'Enter' && handleSend()}\r\n      />\r\n      <button className=\"icon-btn\" onClick={handleSend}><FaPaperPlane /></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PicChat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}