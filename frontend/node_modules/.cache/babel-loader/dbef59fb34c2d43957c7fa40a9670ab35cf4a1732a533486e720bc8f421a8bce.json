{"ast":null,"code":"var _jsxFileName = \"E:\\\\Fadz_web\\\\FADZtrack-web-\\\\frontend\\\\src\\\\components\\\\ceo\\\\CeoAddArea.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../../api/axiosInstance'; // <-- make sure the path is correct!\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CeoAddArea = () => {\n  _s();\n  const [areaManagers, setAreaManagers] = useState([]);\n  const [locations, setLocations] = useState([]);\n  const [selectedManager, setSelectedManager] = useState('');\n  const [assignedLocations, setAssignedLocations] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const navigate = useNavigate();\n\n  // Fetch area managers and locations\n  useEffect(() => {\n    api.get('/users/role/Area%20Manager').then(res => setAreaManagers(res.data)).catch(console.error);\n    api.get('/locations').then(res => setLocations(res.data)).catch(console.error);\n  }, []);\n\n  // When manager changes, load assigned locations\n  useEffect(() => {\n    if (selectedManager) {\n      api.get(`/users/${selectedManager}/locations`).then(res => setAssignedLocations(res.data.map(l => l._id))).catch(console.error);\n      setEditMode(true);\n    } else {\n      setEditMode(false);\n      setAssignedLocations([]);\n    }\n  }, [selectedManager]);\n  const toggleLocation = locId => {\n    setAssignedLocations(prev => prev.includes(locId) ? prev.filter(id => id !== locId) : [...prev, locId]);\n  };\n  const handleSave = async () => {\n    try {\n      await api.put(`/users/${selectedManager}/locations`, {\n        locations: assignedLocations\n      });\n      alert('Locations updated!');\n      navigate('/ceo/dash');\n    } catch (err) {\n      alert('Failed to update locations.');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 600,\n      margin: '40px auto',\n      background: '#fff',\n      padding: 24,\n      borderRadius: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Assign Locations to Area Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '16px 0'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Area Manager:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedManager,\n          onChange: e => setSelectedManager(e.target.value),\n          style: {\n            marginLeft: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Area Manager\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), areaManagers.map(am => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: am._id,\n            children: am.name\n          }, am._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), editMode && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Assigned Locations:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: 200,\n            overflowY: 'auto',\n            border: '1px solid #ccc',\n            padding: 10,\n            marginTop: 8,\n            borderRadius: 4\n          },\n          children: locations.map(loc => /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              margin: '4px 0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: assignedLocations.includes(loc._id),\n              onChange: () => toggleLocation(loc._id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this), loc.name, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#888'\n              },\n              children: [\"(\", loc.region, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 30\n            }, this)]\n          }, loc._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          style: {\n            marginRight: 12\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/ceo/dash'),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(CeoAddArea, \"FN2XCN6d/aIPm9bYqdB6G+ISOSg=\", false, function () {\n  return [useNavigate];\n});\n_c = CeoAddArea;\nexport default CeoAddArea;\nvar _c;\n$RefreshReg$(_c, \"CeoAddArea\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","api","jsxDEV","_jsxDEV","Fragment","_Fragment","CeoAddArea","_s","areaManagers","setAreaManagers","locations","setLocations","selectedManager","setSelectedManager","assignedLocations","setAssignedLocations","editMode","setEditMode","navigate","get","then","res","data","catch","console","error","map","l","_id","toggleLocation","locId","prev","includes","filter","id","handleSave","put","alert","err","style","maxWidth","margin","background","padding","borderRadius","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","marginLeft","am","name","maxHeight","overflowY","border","marginTop","loc","display","type","checked","color","region","onClick","marginRight","_c","$RefreshReg$"],"sources":["E:/Fadz_web/FADZtrack-web-/frontend/src/components/ceo/CeoAddArea.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../../api/axiosInstance'; // <-- make sure the path is correct!\r\n\r\nconst CeoAddArea = () => {\r\n  const [areaManagers, setAreaManagers] = useState([]);\r\n  const [locations, setLocations] = useState([]);\r\n  const [selectedManager, setSelectedManager] = useState('');\r\n  const [assignedLocations, setAssignedLocations] = useState([]);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch area managers and locations\r\n  useEffect(() => {\r\n    api.get('/users/role/Area%20Manager')\r\n      .then(res => setAreaManagers(res.data))\r\n      .catch(console.error);\r\n\r\n    api.get('/locations')\r\n      .then(res => setLocations(res.data))\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  // When manager changes, load assigned locations\r\n  useEffect(() => {\r\n    if (selectedManager) {\r\n      api.get(`/users/${selectedManager}/locations`)\r\n        .then(res => setAssignedLocations(res.data.map(l => l._id)))\r\n        .catch(console.error);\r\n      setEditMode(true);\r\n    } else {\r\n      setEditMode(false);\r\n      setAssignedLocations([]);\r\n    }\r\n  }, [selectedManager]);\r\n\r\n  const toggleLocation = (locId) => {\r\n    setAssignedLocations((prev) =>\r\n      prev.includes(locId) ? prev.filter(id => id !== locId) : [...prev, locId]\r\n    );\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await api.put(`/users/${selectedManager}/locations`, {\r\n        locations: assignedLocations,\r\n      });\r\n      alert('Locations updated!');\r\n      navigate('/ceo/dash');\r\n    } catch (err) {\r\n      alert('Failed to update locations.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 600, margin: '40px auto', background: '#fff', padding: 24, borderRadius: 12 }}>\r\n      <h2>Assign Locations to Area Manager</h2>\r\n      <div style={{ margin: '16px 0' }}>\r\n        <label>\r\n          <b>Area Manager:</b>\r\n          <select\r\n            value={selectedManager}\r\n            onChange={e => setSelectedManager(e.target.value)}\r\n            style={{ marginLeft: 8 }}\r\n          >\r\n            <option value=\"\">Select Area Manager</option>\r\n            {areaManagers.map((am) => (\r\n              <option key={am._id} value={am._id}>{am.name}</option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n      </div>\r\n      {editMode && (\r\n        <>\r\n          <div>\r\n            <b>Assigned Locations:</b>\r\n            <div style={{\r\n              maxHeight: 200, overflowY: 'auto', border: '1px solid #ccc', padding: 10, marginTop: 8, borderRadius: 4\r\n            }}>\r\n              {locations.map(loc => (\r\n                <label key={loc._id} style={{ display: 'block', margin: '4px 0' }}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={assignedLocations.includes(loc._id)}\r\n                    onChange={() => toggleLocation(loc._id)}\r\n                  />\r\n                  {loc.name} <span style={{ color: '#888' }}>({loc.region})</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div style={{ marginTop: 16 }}>\r\n            <button onClick={handleSave} style={{ marginRight: 12 }}>Save</button>\r\n            <button onClick={() => navigate('/ceo/dash')}>Cancel</button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CeoAddArea;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}